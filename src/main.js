"use strict";var ac=Object.create;var Va=Object.defineProperty;var oc=Object.getOwnPropertyDescriptor;var sc=Object.getOwnPropertyNames;var lc=Object.getPrototypeOf,cc=Object.prototype.hasOwnProperty;var dc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var pc=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of sc(t))!cc.call(e,u)&&u!==r&&Va(e,u,{get:()=>t[u],enumerable:!(a=oc(t,u))||a.enumerable});return e};var fc=(e,t,r)=>(r=e!=null?ac(lc(e)):{},pc(t||!e||!e.__esModule?Va(r,"default",{value:e,enumerable:!0}):r,e));var Ks=dc((Bm,Gs)=>{"use strict";var hc=Object.create,Hu=Object.defineProperty,mc=Object.getOwnPropertyDescriptor,gc=Object.getOwnPropertyNames,yc=Object.getPrototypeOf,bc=Object.prototype.hasOwnProperty,Xi=(e,t)=>()=>(e&&(t=e(e=0)),t),se=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Io=(e,t)=>{for(var r in t)Hu(e,r,{get:t[r],enumerable:!0})},qo=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of gc(t))!bc.call(e,u)&&u!==r&&Hu(e,u,{get:()=>t[u],enumerable:!(a=mc(t,u))||a.enumerable});return e},pt=(e,t,r)=>(r=e!=null?hc(yc(e)):{},qo(t||!e||!e.__esModule?Hu(r,"default",{value:e,enumerable:!0}):r,e)),Ec=e=>qo(Hu({},"__esModule",{value:!0}),e),vc=se((e,t)=>{"use strict";var r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,n=(A,L)=>r(A,"name",{value:L,configurable:!0}),s=(A,L)=>{for(var X in L)r(A,X,{get:L[X],enumerable:!0})},c=(A,L,X,ce)=>{if(L&&typeof L=="object"||typeof L=="function")for(let de of u(L))!l.call(A,de)&&de!==X&&r(A,de,{get:()=>L[de],enumerable:!(ce=a(L,de))||ce.enumerable});return A},d=A=>c(r({},"__esModule",{value:!0}),A),m={};s(m,{Time:()=>P,arrayBufferToBase64:()=>ue,base64ToArrayBuffer:()=>ee,camelCase:()=>Y,camelize:()=>T,capitalize:()=>pe,clone:()=>f,contain:()=>v,deduplicate:()=>Z,deepEqual:()=>_,defineProperty:()=>$,difference:()=>j,filterKeys:()=>F,hyphenate:()=>M,intersection:()=>S,is:()=>E,isNullable:()=>y,isPlainObject:()=>g,makeArray:()=>K,mapValues:()=>D,noop:()=>h,omit:()=>w,paramCase:()=>oe,pick:()=>b,remove:()=>q,sanitize:()=>C,snakeCase:()=>ne,trimSlash:()=>V,uncapitalize:()=>Q,union:()=>W,valueMap:()=>D}),t.exports=d(m);function h(){}n(h,"noop");function y(A){return A==null}n(y,"isNullable");function g(A){return A&&typeof A=="object"&&!Array.isArray(A)}n(g,"isPlainObject");function F(A,L){return Object.fromEntries(Object.entries(A).filter(([X,ce])=>L(X,ce)))}n(F,"filterKeys");function D(A,L){return Object.fromEntries(Object.entries(A).map(([X,ce])=>[X,L(ce,X)]))}n(D,"mapValues");function E(A,L){return arguments.length===1?X=>E(A,X):A in globalThis&&L instanceof globalThis[A]||Object.prototype.toString.call(L).slice(8,-1)===A}n(E,"is");function f(A){return!A||typeof A!="object"?A:Array.isArray(A)?A.map(f):E("Date",A)?new Date(A.valueOf()):E("RegExp",A)?new RegExp(A.source,A.flags):D(A,f)}n(f,"clone");function _(A,L,X){var ce,de,Fe;if(A===L||!X&&y(A)&&y(L))return!0;if(typeof A!=typeof L||typeof A!="object"||!A||!L)return!1;function Oe(k,U){return k(A)?k(L)?U(A,L):!1:k(L)?!1:void 0}return n(Oe,"check"),(Fe=(de=(ce=Oe(Array.isArray,(k,U)=>k.length===U.length&&k.every((re,me)=>_(re,U[me]))))!=null?ce:Oe(E("Date"),(k,U)=>k.valueOf()===U.valueOf()))!=null?de:Oe(E("RegExp"),(k,U)=>k.source===U.source&&k.flags===U.flags))!=null?Fe:Object.keys({...A,...L}).every(k=>_(A[k],L[k],X))}n(_,"deepEqual");function b(A,L,X){if(!L)return{...A};let ce={};for(let de of L)(X||A[de]!==void 0)&&(ce[de]=A[de]);return ce}n(b,"pick");function w(A,L){if(!L)return{...A};let X={...A};for(let ce of L)Reflect.deleteProperty(X,ce);return X}n(w,"omit");function $(A,L,X){return Object.defineProperty(A,L,{writable:!0,value:X,enumerable:!1})}n($,"defineProperty");function v(A,L){return L.every(X=>A.includes(X))}n(v,"contain");function S(A,L){return A.filter(X=>L.includes(X))}n(S,"intersection");function j(A,L){return A.filter(X=>!L.includes(X))}n(j,"difference");function W(A,L){return Array.from(new Set([...A,...L]))}n(W,"union");function Z(A){return[...new Set(A)]}n(Z,"deduplicate");function q(A,L){let X=A.indexOf(L);return X>=0?(A.splice(X,1),!0):!1}n(q,"remove");function K(A){return Array.isArray(A)?A:y(A)?[]:[A]}n(K,"makeArray");function ue(A){if(typeof Buffer<"u")return Buffer.from(A).toString("base64");let L="",X=new Uint8Array(A);for(let ce=0;ce<X.byteLength;ce++)L+=String.fromCharCode(X[ce]);return btoa(L)}n(ue,"arrayBufferToBase64");function ee(A){if(typeof Buffer<"u"){let ce=Buffer.from(A,"base64");return new Uint8Array(ce.buffer,ce.byteOffset,ce.length)}let L=atob(A.replace(/\s/g,"")),X=new Uint8Array(L.length);for(let ce=0;ce<L.length;ce++)X[ce]=L.charCodeAt(ce);return X}n(ee,"base64ToArrayBuffer");function pe(A){return A.charAt(0).toUpperCase()+A.slice(1)}n(pe,"capitalize");function Q(A){return A.charAt(0).toLowerCase()+A.slice(1)}n(Q,"uncapitalize");function Y(A){return A.replace(/[_-][a-z]/g,L=>L.slice(1).toUpperCase())}n(Y,"camelCase");function oe(A){return Q(A).replace(/_/g,"-").replace(/.[A-Z]+/g,L=>L[0]+"-"+L.slice(1).toLowerCase())}n(oe,"paramCase");function ne(A){return Q(A).replace(/-/g,"_").replace(/.[A-Z]+/g,L=>L[0]+"_"+L.slice(1).toLowerCase())}n(ne,"snakeCase");var T=Y,M=oe;function V(A){return A.replace(/\/$/,"")}n(V,"trimSlash");function C(A){return A.startsWith("/")||(A="/"+A),V(A)}n(C,"sanitize");var P;(A=>{A.millisecond=1,A.second=1e3,A.minute=A.second*60,A.hour=A.minute*60,A.day=A.hour*24,A.week=A.day*7;let L=new Date().getTimezoneOffset();function X(ie){L=ie}A.setTimezoneOffset=X,n(X,"setTimezoneOffset");function ce(){return L}A.getTimezoneOffset=ce,n(ce,"getTimezoneOffset");function de(ie=new Date,ae){return typeof ie=="number"&&(ie=new Date(ie)),ae===void 0&&(ae=L),Math.floor((ie.valueOf()/A.minute-ae)/1440)}A.getDateNumber=de,n(de,"getDateNumber");function Fe(ie,ae){let le=new Date(ie*A.day);return ae===void 0&&(ae=L),new Date(+le+ae*A.minute)}A.fromDateNumber=Fe,n(Fe,"fromDateNumber");let Oe=/\d+(?:\.\d+)?/.source,k=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(ie=>`(${Oe}${ie})?`).join("")}$`);function U(ie){let ae=k.exec(ie);return ae?(parseFloat(ae[1])*A.week||0)+(parseFloat(ae[2])*A.day||0)+(parseFloat(ae[3])*A.hour||0)+(parseFloat(ae[4])*A.minute||0)+(parseFloat(ae[5])*A.second||0):0}A.parseTime=U,n(U,"parseTime");function re(ie){let ae=U(ie);return ae?ie=Date.now()+ae:/^\d{1,2}(:\d{1,2}){1,2}$/.test(ie)?ie=`${new Date().toLocaleDateString()}-${ie}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(ie)&&(ie=`${new Date().getFullYear()}-${ie}`),ie?new Date(ie):new Date}A.parseDate=re,n(re,"parseDate");function me(ie){let ae=Math.abs(ie);return ae>=A.day-A.hour/2?Math.round(ie/A.day)+"d":ae>=A.hour-A.minute/2?Math.round(ie/A.hour)+"h":ae>=A.minute-A.second/2?Math.round(ie/A.minute)+"m":ae>=A.second?Math.round(ie/A.second)+"s":ie+"ms"}A.format=me,n(me,"format");function N(ie,ae=2){return ie.toString().padStart(ae,"0")}A.toDigits=N,n(N,"toDigits");function H(ie,ae=new Date){return ie.replace("yyyy",ae.getFullYear().toString()).replace("yy",ae.getFullYear().toString().slice(2)).replace("MM",N(ae.getMonth()+1)).replace("dd",N(ae.getDate())).replace("hh",N(ae.getHours())).replace("mm",N(ae.getMinutes())).replace("ss",N(ae.getSeconds())).replace("SSS",N(ae.getMilliseconds(),3))}A.template=H,n(H,"template")})(P||(P={}))}),Fc=se((e,t)=>{"use strict";var{Duplex:r}=require("stream");function a(s){s.emit("close")}function u(){!this.destroyed&&this._writableState.finished&&this.destroy()}function l(s){this.removeListener("error",l),this.destroy(),this.listenerCount("error")===0&&this.emit("error",s)}function n(s,c){let d=!0,m=new r({...c,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return s.on("message",function(h,y){let g=!y&&m._readableState.objectMode?h.toString():h;m.push(g)||s.pause()}),s.once("error",function(h){m.destroyed||(d=!1,m.destroy(h))}),s.once("close",function(){m.destroyed||m.push(null)}),m._destroy=function(h,y){if(s.readyState===s.CLOSED){y(h),process.nextTick(a,m);return}let g=!1;s.once("error",function(F){g=!0,y(F)}),s.once("close",function(){g||y(h),process.nextTick(a,m)}),d&&s.terminate()},m._final=function(h){if(s.readyState===s.CONNECTING){s.once("open",function(){m._final(h)});return}s._socket!==null&&(s._socket._writableState.finished?(h(),m._readableState.endEmitted&&m.destroy()):(s._socket.once("finish",function(){h()}),s.close()))},m._read=function(){s.isPaused&&s.resume()},m._write=function(h,y,g){if(s.readyState===s.CONNECTING){s.once("open",function(){m._write(h,y,g)});return}s.send(h,g)},m.on("end",u),m.on("error",l),m}t.exports=n}),Qr=se((e,t)=>{"use strict";t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}),Vu=se((e,t)=>{"use strict";var{EMPTY_BUFFER:r}=Qr(),a=Buffer[Symbol.species];function u(d,m){if(d.length===0)return r;if(d.length===1)return d[0];let h=Buffer.allocUnsafe(m),y=0;for(let g=0;g<d.length;g++){let F=d[g];h.set(F,y),y+=F.length}return y<m?new a(h.buffer,h.byteOffset,y):h}function l(d,m,h,y,g){for(let F=0;F<g;F++)h[y+F]=d[F]^m[F&3]}function n(d,m){for(let h=0;h<d.length;h++)d[h]^=m[h&3]}function s(d){return d.length===d.buffer.byteLength?d.buffer:d.buffer.slice(d.byteOffset,d.byteOffset+d.length)}function c(d){if(c.readOnly=!0,Buffer.isBuffer(d))return d;let m;return d instanceof ArrayBuffer?m=new a(d):ArrayBuffer.isView(d)?m=new a(d.buffer,d.byteOffset,d.byteLength):(m=Buffer.from(d),c.readOnly=!1),m}if(t.exports={concat:u,mask:l,toArrayBuffer:s,toBuffer:c,unmask:n},!process.env.WS_NO_BUFFER_UTIL)try{let d=require("bufferutil");t.exports.mask=function(m,h,y,g,F){F<48?l(m,h,y,g,F):d.mask(m,h,y,g,F)},t.exports.unmask=function(m,h){m.length<32?n(m,h):d.unmask(m,h)}}catch{}}),_c=se((e,t)=>{"use strict";var r=Symbol("kDone"),a=Symbol("kRun"),u=class{constructor(l){this[r]=()=>{this.pending--,this[a]()},this.concurrency=l||1/0,this.jobs=[],this.pending=0}add(l){this.jobs.push(l),this[a]()}[a](){if(this.pending!==this.concurrency&&this.jobs.length){let l=this.jobs.shift();this.pending++,l(this[r])}}};t.exports=u}),Gu=se((e,t)=>{"use strict";var r=require("zlib"),a=Vu(),u=_c(),{kStatusCode:l}=Qr(),n=Buffer[Symbol.species],s=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),d=Symbol("total-length"),m=Symbol("callback"),h=Symbol("buffers"),y=Symbol("error"),g,F=class{constructor(_,b,w){if(this._maxPayload=w|0,this._options=_||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,!g){let $=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;g=new u($)}}static get extensionName(){return"permessage-deflate"}offer(){let _={};return this._options.serverNoContextTakeover&&(_.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(_.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(_.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?_.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(_.client_max_window_bits=!0),_}accept(_){return _=this.normalizeParams(_),this.params=this._isServer?this.acceptAsServer(_):this.acceptAsClient(_),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let _=this._deflate[m];this._deflate.close(),this._deflate=null,_&&_(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(_){let b=this._options,w=_.find($=>!(b.serverNoContextTakeover===!1&&$.server_no_context_takeover||$.server_max_window_bits&&(b.serverMaxWindowBits===!1||typeof b.serverMaxWindowBits=="number"&&b.serverMaxWindowBits>$.server_max_window_bits)||typeof b.clientMaxWindowBits=="number"&&!$.client_max_window_bits));if(!w)throw new Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(w.server_no_context_takeover=!0),b.clientNoContextTakeover&&(w.client_no_context_takeover=!0),typeof b.serverMaxWindowBits=="number"&&(w.server_max_window_bits=b.serverMaxWindowBits),typeof b.clientMaxWindowBits=="number"?w.client_max_window_bits=b.clientMaxWindowBits:(w.client_max_window_bits===!0||b.clientMaxWindowBits===!1)&&delete w.client_max_window_bits,w}acceptAsClient(_){let b=_[0];if(this._options.clientNoContextTakeover===!1&&b.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!b.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(b.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return b}normalizeParams(_){return _.forEach(b=>{Object.keys(b).forEach(w=>{let $=b[w];if($.length>1)throw new Error(`Parameter "${w}" must have only a single value`);if($=$[0],w==="client_max_window_bits"){if($!==!0){let v=+$;if(!Number.isInteger(v)||v<8||v>15)throw new TypeError(`Invalid value for parameter "${w}": ${$}`);$=v}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${w}": ${$}`)}else if(w==="server_max_window_bits"){let v=+$;if(!Number.isInteger(v)||v<8||v>15)throw new TypeError(`Invalid value for parameter "${w}": ${$}`);$=v}else if(w==="client_no_context_takeover"||w==="server_no_context_takeover"){if($!==!0)throw new TypeError(`Invalid value for parameter "${w}": ${$}`)}else throw new Error(`Unknown parameter "${w}"`);b[w]=$})}),_}decompress(_,b,w){g.add($=>{this._decompress(_,b,(v,S)=>{$(),w(v,S)})})}compress(_,b,w){g.add($=>{this._compress(_,b,(v,S)=>{$(),w(v,S)})})}_decompress(_,b,w){let $=this._isServer?"client":"server";if(!this._inflate){let v=`${$}_max_window_bits`,S=typeof this.params[v]!="number"?r.Z_DEFAULT_WINDOWBITS:this.params[v];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:S}),this._inflate[c]=this,this._inflate[d]=0,this._inflate[h]=[],this._inflate.on("error",f),this._inflate.on("data",E)}this._inflate[m]=w,this._inflate.write(_),b&&this._inflate.write(s),this._inflate.flush(()=>{let v=this._inflate[y];if(v){this._inflate.close(),this._inflate=null,w(v);return}let S=a.concat(this._inflate[h],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[h]=[],b&&this.params[`${$}_no_context_takeover`]&&this._inflate.reset()),w(null,S)})}_compress(_,b,w){let $=this._isServer?"server":"client";if(!this._deflate){let v=`${$}_max_window_bits`,S=typeof this.params[v]!="number"?r.Z_DEFAULT_WINDOWBITS:this.params[v];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:S}),this._deflate[d]=0,this._deflate[h]=[],this._deflate.on("data",D)}this._deflate[m]=w,this._deflate.write(_),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let v=a.concat(this._deflate[h],this._deflate[d]);b&&(v=new n(v.buffer,v.byteOffset,v.length-4)),this._deflate[m]=null,this._deflate[d]=0,this._deflate[h]=[],b&&this.params[`${$}_no_context_takeover`]&&this._deflate.reset(),w(null,v)})}};t.exports=F;function D(_){this[h].push(_),this[d]+=_.length}function E(_){if(this[d]+=_.length,this[c]._maxPayload<1||this[d]<=this[c]._maxPayload){this[h].push(_);return}this[y]=new RangeError("Max payload size exceeded"),this[y].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[y][l]=1009,this.removeListener("data",E),this.reset()}function f(_){this[c]._inflate=null,_[l]=1007,this[m](_)}}),Ku=se((e,t)=>{"use strict";var{isUtf8:r}=require("buffer"),a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function u(n){return n>=1e3&&n<=1014&&n!==1004&&n!==1005&&n!==1006||n>=3e3&&n<=4999}function l(n){let s=n.length,c=0;for(;c<s;)if(!(n[c]&128))c++;else if((n[c]&224)===192){if(c+1===s||(n[c+1]&192)!==128||(n[c]&254)===192)return!1;c+=2}else if((n[c]&240)===224){if(c+2>=s||(n[c+1]&192)!==128||(n[c+2]&192)!==128||n[c]===224&&(n[c+1]&224)===128||n[c]===237&&(n[c+1]&224)===160)return!1;c+=3}else if((n[c]&248)===240){if(c+3>=s||(n[c+1]&192)!==128||(n[c+2]&192)!==128||(n[c+3]&192)!==128||n[c]===240&&(n[c+1]&240)===128||n[c]===244&&n[c+1]>143||n[c]>244)return!1;c+=4}else return!1;return!0}if(t.exports={isValidStatusCode:u,isValidUTF8:l,tokenChars:a},r)t.exports.isValidUTF8=function(n){return n.length<24?l(n):r(n)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let n=require("utf-8-validate");t.exports.isValidUTF8=function(s){return s.length<32?l(s):n(s)}}catch{}}),Mo=se((e,t)=>{"use strict";var{Writable:r}=require("stream"),a=Gu(),{BINARY_TYPES:u,EMPTY_BUFFER:l,kStatusCode:n,kWebSocket:s}=Qr(),{concat:c,toArrayBuffer:d,unmask:m}=Vu(),{isValidStatusCode:h,isValidUTF8:y}=Ku(),g=Buffer[Symbol.species],F=Promise.resolve(),D=typeof queueMicrotask=="function"?queueMicrotask:j,E=0,f=1,_=2,b=3,w=4,$=5,v=6,S=class extends r{constructor(q={}){super(),this._allowSynchronousEvents=!!q.allowSynchronousEvents,this._binaryType=q.binaryType||u[0],this._extensions=q.extensions||{},this._isServer=!!q.isServer,this._maxPayload=q.maxPayload|0,this._skipUTF8Validation=!!q.skipUTF8Validation,this[s]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=E}_write(q,K,ue){if(this._opcode===8&&this._state==E)return ue();this._bufferedBytes+=q.length,this._buffers.push(q),this.startLoop(ue)}consume(q){if(this._bufferedBytes-=q,q===this._buffers[0].length)return this._buffers.shift();if(q<this._buffers[0].length){let ue=this._buffers[0];return this._buffers[0]=new g(ue.buffer,ue.byteOffset+q,ue.length-q),new g(ue.buffer,ue.byteOffset,q)}let K=Buffer.allocUnsafe(q);do{let ue=this._buffers[0],ee=K.length-q;q>=ue.length?K.set(this._buffers.shift(),ee):(K.set(new Uint8Array(ue.buffer,ue.byteOffset,q),ee),this._buffers[0]=new g(ue.buffer,ue.byteOffset+q,ue.length-q)),q-=ue.length}while(q>0);return K}startLoop(q){this._loop=!0;do switch(this._state){case E:this.getInfo(q);break;case f:this.getPayloadLength16(q);break;case _:this.getPayloadLength64(q);break;case b:this.getMask();break;case w:this.getData(q);break;case $:case v:this._loop=!1;return}while(this._loop);this._errored||q()}getInfo(q){if(this._bufferedBytes<2){this._loop=!1;return}let K=this.consume(2);if(K[0]&48){let ee=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");q(ee);return}let ue=(K[0]&64)===64;if(ue&&!this._extensions[a.extensionName]){let ee=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");q(ee);return}if(this._fin=(K[0]&128)===128,this._opcode=K[0]&15,this._payloadLength=K[1]&127,this._opcode===0){if(ue){let ee=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");q(ee);return}if(!this._fragmented){let ee=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");q(ee);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let ee=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");q(ee);return}this._compressed=ue}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let ee=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");q(ee);return}if(ue){let ee=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");q(ee);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let ee=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");q(ee);return}}else{let ee=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");q(ee);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(K[1]&128)===128,this._isServer){if(!this._masked){let ee=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");q(ee);return}}else if(this._masked){let ee=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");q(ee);return}this._payloadLength===126?this._state=f:this._payloadLength===127?this._state=_:this.haveLength(q)}getPayloadLength16(q){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(q)}getPayloadLength64(q){if(this._bufferedBytes<8){this._loop=!1;return}let K=this.consume(8),ue=K.readUInt32BE(0);if(ue>Math.pow(2,21)-1){let ee=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");q(ee);return}this._payloadLength=ue*Math.pow(2,32)+K.readUInt32BE(4),this.haveLength(q)}haveLength(q){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let K=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");q(K);return}this._masked?this._state=b:this._state=w}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=w}getData(q){let K=l;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}K=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&m(K,this._mask)}if(this._opcode>7){this.controlMessage(K,q);return}if(this._compressed){this._state=$,this.decompress(K,q);return}K.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(K)),this.dataMessage(q)}decompress(q,K){this._extensions[a.extensionName].decompress(q,this._fin,(ue,ee)=>{if(ue)return K(ue);if(ee.length){if(this._messageLength+=ee.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let pe=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");K(pe);return}this._fragments.push(ee)}this.dataMessage(K),this._state===E&&this.startLoop(K)})}dataMessage(q){if(!this._fin){this._state=E;return}let K=this._messageLength,ue=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let ee;this._binaryType==="nodebuffer"?ee=c(ue,K):this._binaryType==="arraybuffer"?ee=d(c(ue,K)):ee=ue,this._state===$||this._allowSynchronousEvents?(this.emit("message",ee,!0),this._state=E):(this._state=v,D(()=>{this.emit("message",ee,!0),this._state=E,this.startLoop(q)}))}else{let ee=c(ue,K);if(!this._skipUTF8Validation&&!y(ee)){let pe=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");q(pe);return}this._state===$||this._allowSynchronousEvents?(this.emit("message",ee,!1),this._state=E):(this._state=v,D(()=>{this.emit("message",ee,!1),this._state=E,this.startLoop(q)}))}}controlMessage(q,K){if(this._opcode===8){if(q.length===0)this._loop=!1,this.emit("conclude",1005,l),this.end();else{let ue=q.readUInt16BE(0);if(!h(ue)){let pe=this.createError(RangeError,`invalid status code ${ue}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");K(pe);return}let ee=new g(q.buffer,q.byteOffset+2,q.length-2);if(!this._skipUTF8Validation&&!y(ee)){let pe=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");K(pe);return}this._loop=!1,this.emit("conclude",ue,ee),this.end()}this._state=E;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",q),this._state=E):(this._state=v,D(()=>{this.emit(this._opcode===9?"ping":"pong",q),this._state=E,this.startLoop(K)}))}createError(q,K,ue,ee,pe){this._loop=!1,this._errored=!0;let Q=new q(ue?`Invalid WebSocket frame: ${K}`:K);return Error.captureStackTrace(Q,this.createError),Q.code=pe,Q[n]=ee,Q}};t.exports=S;function j(q){F.then(q).catch(Z)}function W(q){throw q}function Z(q){process.nextTick(W,q)}}),Lo=se((e,t)=>{"use strict";var{Duplex:r}=require("stream"),{randomFillSync:a}=require("crypto"),u=Gu(),{EMPTY_BUFFER:l}=Qr(),{isValidStatusCode:n}=Ku(),{mask:s,toBuffer:c}=Vu(),d=Symbol("kByteLength"),m=Buffer.alloc(4),h=class Hr{constructor(g,F,D){this._extensions=F||{},D&&(this._generateMask=D,this._maskBuffer=Buffer.alloc(4)),this._socket=g,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(g,F){let D,E=!1,f=2,_=!1;F.mask&&(D=F.maskBuffer||m,F.generateMask?F.generateMask(D):a(D,0,4),_=(D[0]|D[1]|D[2]|D[3])===0,f=6);let b;typeof g=="string"?(!F.mask||_)&&F[d]!==void 0?b=F[d]:(g=Buffer.from(g),b=g.length):(b=g.length,E=F.mask&&F.readOnly&&!_);let w=b;b>=65536?(f+=8,w=127):b>125&&(f+=2,w=126);let $=Buffer.allocUnsafe(E?b+f:f);return $[0]=F.fin?F.opcode|128:F.opcode,F.rsv1&&($[0]|=64),$[1]=w,w===126?$.writeUInt16BE(b,2):w===127&&($[2]=$[3]=0,$.writeUIntBE(b,4,6)),F.mask?($[1]|=128,$[f-4]=D[0],$[f-3]=D[1],$[f-2]=D[2],$[f-1]=D[3],_?[$,g]:E?(s(g,D,$,f,b),[$]):(s(g,D,g,0,b),[$,g])):[$,g]}close(g,F,D,E){let f;if(g===void 0)f=l;else{if(typeof g!="number"||!n(g))throw new TypeError("First argument must be a valid error code number");if(F===void 0||!F.length)f=Buffer.allocUnsafe(2),f.writeUInt16BE(g,0);else{let b=Buffer.byteLength(F);if(b>123)throw new RangeError("The message must not be greater than 123 bytes");f=Buffer.allocUnsafe(2+b),f.writeUInt16BE(g,0),typeof F=="string"?f.write(F,2):f.set(F,2)}}let _={[d]:f.length,fin:!0,generateMask:this._generateMask,mask:D,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,f,!1,_,E]):this.sendFrame(Hr.frame(f,_),E)}ping(g,F,D){let E,f;if(typeof g=="string"?(E=Buffer.byteLength(g),f=!1):(g=c(g),E=g.length,f=c.readOnly),E>125)throw new RangeError("The data size must not be greater than 125 bytes");let _={[d]:E,fin:!0,generateMask:this._generateMask,mask:F,maskBuffer:this._maskBuffer,opcode:9,readOnly:f,rsv1:!1};this._deflating?this.enqueue([this.dispatch,g,!1,_,D]):this.sendFrame(Hr.frame(g,_),D)}pong(g,F,D){let E,f;if(typeof g=="string"?(E=Buffer.byteLength(g),f=!1):(g=c(g),E=g.length,f=c.readOnly),E>125)throw new RangeError("The data size must not be greater than 125 bytes");let _={[d]:E,fin:!0,generateMask:this._generateMask,mask:F,maskBuffer:this._maskBuffer,opcode:10,readOnly:f,rsv1:!1};this._deflating?this.enqueue([this.dispatch,g,!1,_,D]):this.sendFrame(Hr.frame(g,_),D)}send(g,F,D){let E=this._extensions[u.extensionName],f=F.binary?2:1,_=F.compress,b,w;if(typeof g=="string"?(b=Buffer.byteLength(g),w=!1):(g=c(g),b=g.length,w=c.readOnly),this._firstFragment?(this._firstFragment=!1,_&&E&&E.params[E._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(_=b>=E._threshold),this._compress=_):(_=!1,f=0),F.fin&&(this._firstFragment=!0),E){let $={[d]:b,fin:F.fin,generateMask:this._generateMask,mask:F.mask,maskBuffer:this._maskBuffer,opcode:f,readOnly:w,rsv1:_};this._deflating?this.enqueue([this.dispatch,g,this._compress,$,D]):this.dispatch(g,this._compress,$,D)}else this.sendFrame(Hr.frame(g,{[d]:b,fin:F.fin,generateMask:this._generateMask,mask:F.mask,maskBuffer:this._maskBuffer,opcode:f,readOnly:w,rsv1:!1}),D)}dispatch(g,F,D,E){if(!F){this.sendFrame(Hr.frame(g,D),E);return}let f=this._extensions[u.extensionName];this._bufferedBytes+=D[d],this._deflating=!0,f.compress(g,D.fin,(_,b)=>{if(this._socket.destroyed){let w=new Error("The socket was closed while data was being compressed");typeof E=="function"&&E(w);for(let $=0;$<this._queue.length;$++){let v=this._queue[$],S=v[v.length-1];typeof S=="function"&&S(w)}return}this._bufferedBytes-=D[d],this._deflating=!1,D.readOnly=!1,this.sendFrame(Hr.frame(b,D),E),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let g=this._queue.shift();this._bufferedBytes-=g[3][d],Reflect.apply(g[0],this,g.slice(1))}}enqueue(g){this._bufferedBytes+=g[3][d],this._queue.push(g)}sendFrame(g,F){g.length===2?(this._socket.cork(),this._socket.write(g[0]),this._socket.write(g[1],F),this._socket.uncork()):this._socket.write(g[0],F)}};t.exports=h}),wc=se((e,t)=>{"use strict";var{kForOnEventAttribute:r,kListener:a}=Qr(),u=Symbol("kCode"),l=Symbol("kData"),n=Symbol("kError"),s=Symbol("kMessage"),c=Symbol("kReason"),d=Symbol("kTarget"),m=Symbol("kType"),h=Symbol("kWasClean"),y=class{constructor(_){this[d]=null,this[m]=_}get target(){return this[d]}get type(){return this[m]}};Object.defineProperty(y.prototype,"target",{enumerable:!0}),Object.defineProperty(y.prototype,"type",{enumerable:!0});var g=class extends y{constructor(_,b={}){super(_),this[u]=b.code===void 0?0:b.code,this[c]=b.reason===void 0?"":b.reason,this[h]=b.wasClean===void 0?!1:b.wasClean}get code(){return this[u]}get reason(){return this[c]}get wasClean(){return this[h]}};Object.defineProperty(g.prototype,"code",{enumerable:!0}),Object.defineProperty(g.prototype,"reason",{enumerable:!0}),Object.defineProperty(g.prototype,"wasClean",{enumerable:!0});var F=class extends y{constructor(_,b={}){super(_),this[n]=b.error===void 0?null:b.error,this[s]=b.message===void 0?"":b.message}get error(){return this[n]}get message(){return this[s]}};Object.defineProperty(F.prototype,"error",{enumerable:!0}),Object.defineProperty(F.prototype,"message",{enumerable:!0});var D=class extends y{constructor(_,b={}){super(_),this[l]=b.data===void 0?null:b.data}get data(){return this[l]}};Object.defineProperty(D.prototype,"data",{enumerable:!0});var E={addEventListener(_,b,w={}){for(let v of this.listeners(_))if(!w[r]&&v[a]===b&&!v[r])return;let $;if(_==="message")$=function(v,S){let j=new D("message",{data:S?v:v.toString()});j[d]=this,f(b,this,j)};else if(_==="close")$=function(v,S){let j=new g("close",{code:v,reason:S.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});j[d]=this,f(b,this,j)};else if(_==="error")$=function(v){let S=new F("error",{error:v,message:v.message});S[d]=this,f(b,this,S)};else if(_==="open")$=function(){let v=new y("open");v[d]=this,f(b,this,v)};else return;$[r]=!!w[r],$[a]=b,w.once?this.once(_,$):this.on(_,$)},removeEventListener(_,b){for(let w of this.listeners(_))if(w[a]===b&&!w[r]){this.removeListener(_,w);break}}};t.exports={CloseEvent:g,ErrorEvent:F,Event:y,EventTarget:E,MessageEvent:D};function f(_,b,w){typeof _=="object"&&_.handleEvent?_.handleEvent.call(_,w):_.call(b,w)}}),Uo=se((e,t)=>{"use strict";var{tokenChars:r}=Ku();function a(n,s,c){n[s]===void 0?n[s]=[c]:n[s].push(c)}function u(n){let s=Object.create(null),c=Object.create(null),d=!1,m=!1,h=!1,y,g,F=-1,D=-1,E=-1,f=0;for(;f<n.length;f++)if(D=n.charCodeAt(f),y===void 0)if(E===-1&&r[D]===1)F===-1&&(F=f);else if(f!==0&&(D===32||D===9))E===-1&&F!==-1&&(E=f);else if(D===59||D===44){if(F===-1)throw new SyntaxError(`Unexpected character at index ${f}`);E===-1&&(E=f);let b=n.slice(F,E);D===44?(a(s,b,c),c=Object.create(null)):y=b,F=E=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(g===void 0)if(E===-1&&r[D]===1)F===-1&&(F=f);else if(D===32||D===9)E===-1&&F!==-1&&(E=f);else if(D===59||D===44){if(F===-1)throw new SyntaxError(`Unexpected character at index ${f}`);E===-1&&(E=f),a(c,n.slice(F,E),!0),D===44&&(a(s,y,c),c=Object.create(null),y=void 0),F=E=-1}else if(D===61&&F!==-1&&E===-1)g=n.slice(F,f),F=E=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(m){if(r[D]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);F===-1?F=f:d||(d=!0),m=!1}else if(h)if(r[D]===1)F===-1&&(F=f);else if(D===34&&F!==-1)h=!1,E=f;else if(D===92)m=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(D===34&&n.charCodeAt(f-1)===61)h=!0;else if(E===-1&&r[D]===1)F===-1&&(F=f);else if(F!==-1&&(D===32||D===9))E===-1&&(E=f);else if(D===59||D===44){if(F===-1)throw new SyntaxError(`Unexpected character at index ${f}`);E===-1&&(E=f);let b=n.slice(F,E);d&&(b=b.replace(/\\/g,""),d=!1),a(c,g,b),D===44&&(a(s,y,c),c=Object.create(null),y=void 0),g=void 0,F=E=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(F===-1||h||D===32||D===9)throw new SyntaxError("Unexpected end of input");E===-1&&(E=f);let _=n.slice(F,E);return y===void 0?a(s,_,c):(g===void 0?a(c,_,!0):d?a(c,g,_.replace(/\\/g,"")):a(c,g,_),a(s,y,c)),s}function l(n){return Object.keys(n).map(s=>{let c=n[s];return Array.isArray(c)||(c=[c]),c.map(d=>[s].concat(Object.keys(d).map(m=>{let h=d[m];return Array.isArray(h)||(h=[h]),h.map(y=>y===!0?m:`${m}=${y}`).join("; ")})).join("; ")).join(", ")}).join(", ")}t.exports={format:l,parse:u}}),Wo=se((e,t)=>{"use strict";var r=require("events"),a=require("https"),u=require("http"),l=require("net"),n=require("tls"),{randomBytes:s,createHash:c}=require("crypto"),{Duplex:d,Readable:m}=require("stream"),{URL:h}=require("url"),y=Gu(),g=Mo(),F=Lo(),{BINARY_TYPES:D,EMPTY_BUFFER:E,GUID:f,kForOnEventAttribute:_,kListener:b,kStatusCode:w,kWebSocket:$,NOOP:v}=Qr(),{EventTarget:{addEventListener:S,removeEventListener:j}}=wc(),{format:W,parse:Z}=Uo(),{toBuffer:q}=Vu(),K=30*1e3,ue=Symbol("kAborted"),ee=[8,13],pe=["CONNECTING","OPEN","CLOSING","CLOSED"],Q=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Y=class Je extends r{constructor(H,ie,ae){super(),this._binaryType=D[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=E,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=Je.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,H!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,ie===void 0?ie=[]:Array.isArray(ie)||(typeof ie=="object"&&ie!==null?(ae=ie,ie=[]):ie=[ie]),oe(this,H,ie,ae)):(this._autoPong=ae.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(H){D.includes(H)&&(this._binaryType=H,this._receiver&&(this._receiver._binaryType=H))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(H,ie,ae){let le=new g({allowSynchronousEvents:ae.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:ae.maxPayload,skipUTF8Validation:ae.skipUTF8Validation});this._sender=new F(H,this._extensions,ae.generateMask),this._receiver=le,this._socket=H,le[$]=this,H[$]=this,le.on("conclude",P),le.on("drain",A),le.on("error",L),le.on("message",ce),le.on("ping",de),le.on("pong",Fe),H.setTimeout&&H.setTimeout(0),H.setNoDelay&&H.setNoDelay(),ie.length>0&&H.unshift(ie),H.on("close",k),H.on("data",U),H.on("end",re),H.on("error",me),this._readyState=Je.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=Je.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[y.extensionName]&&this._extensions[y.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=Je.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(H,ie){if(this.readyState!==Je.CLOSED){if(this.readyState===Je.CONNECTING){V(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===Je.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=Je.CLOSING,this._sender.close(H,ie,!this._isServer,ae=>{ae||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),K)}}pause(){this.readyState===Je.CONNECTING||this.readyState===Je.CLOSED||(this._paused=!0,this._socket.pause())}ping(H,ie,ae){if(this.readyState===Je.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof H=="function"?(ae=H,H=ie=void 0):typeof ie=="function"&&(ae=ie,ie=void 0),typeof H=="number"&&(H=H.toString()),this.readyState!==Je.OPEN){C(this,H,ae);return}ie===void 0&&(ie=!this._isServer),this._sender.ping(H||E,ie,ae)}pong(H,ie,ae){if(this.readyState===Je.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof H=="function"?(ae=H,H=ie=void 0):typeof ie=="function"&&(ae=ie,ie=void 0),typeof H=="number"&&(H=H.toString()),this.readyState!==Je.OPEN){C(this,H,ae);return}ie===void 0&&(ie=!this._isServer),this._sender.pong(H||E,ie,ae)}resume(){this.readyState===Je.CONNECTING||this.readyState===Je.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(H,ie,ae){if(this.readyState===Je.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof ie=="function"&&(ae=ie,ie={}),typeof H=="number"&&(H=H.toString()),this.readyState!==Je.OPEN){C(this,H,ae);return}let le={binary:typeof H!="string",mask:!this._isServer,compress:!0,fin:!0,...ie};this._extensions[y.extensionName]||(le.compress=!1),this._sender.send(H||E,le,ae)}terminate(){if(this.readyState!==Je.CLOSED){if(this.readyState===Je.CONNECTING){V(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=Je.CLOSING,this._socket.destroy())}}};Object.defineProperty(Y,"CONNECTING",{enumerable:!0,value:pe.indexOf("CONNECTING")}),Object.defineProperty(Y.prototype,"CONNECTING",{enumerable:!0,value:pe.indexOf("CONNECTING")}),Object.defineProperty(Y,"OPEN",{enumerable:!0,value:pe.indexOf("OPEN")}),Object.defineProperty(Y.prototype,"OPEN",{enumerable:!0,value:pe.indexOf("OPEN")}),Object.defineProperty(Y,"CLOSING",{enumerable:!0,value:pe.indexOf("CLOSING")}),Object.defineProperty(Y.prototype,"CLOSING",{enumerable:!0,value:pe.indexOf("CLOSING")}),Object.defineProperty(Y,"CLOSED",{enumerable:!0,value:pe.indexOf("CLOSED")}),Object.defineProperty(Y.prototype,"CLOSED",{enumerable:!0,value:pe.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(N=>{Object.defineProperty(Y.prototype,N,{enumerable:!0})}),["open","error","close","message"].forEach(N=>{Object.defineProperty(Y.prototype,`on${N}`,{enumerable:!0,get(){for(let H of this.listeners(N))if(H[_])return H[b];return null},set(H){for(let ie of this.listeners(N))if(ie[_]){this.removeListener(N,ie);break}typeof H=="function"&&this.addEventListener(N,H,{[_]:!0})}})}),Y.prototype.addEventListener=S,Y.prototype.removeEventListener=j,t.exports=Y;function oe(N,H,ie,ae){let le={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:ee[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...ae,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(N._autoPong=le.autoPong,!ee.includes(le.protocolVersion))throw new RangeError(`Unsupported protocol version: ${le.protocolVersion} (supported versions: ${ee.join(", ")})`);let _e;if(H instanceof h)_e=H;else try{_e=new h(H)}catch{throw new SyntaxError(`Invalid URL: ${H}`)}_e.protocol==="http:"?_e.protocol="ws:":_e.protocol==="https:"&&(_e.protocol="wss:"),N._url=_e.href;let we=_e.protocol==="wss:",ke=_e.protocol==="ws+unix:",Me;if(_e.protocol!=="ws:"&&!we&&!ke?Me=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:ke&&!_e.pathname?Me="The URL's pathname is empty":_e.hash&&(Me="The URL contains a fragment identifier"),Me){let De=new SyntaxError(Me);if(N._redirects===0)throw De;ne(N,De);return}let Gt=we?443:80,$t=s(16).toString("base64"),Dt=we?a.request:u.request,xt=new Set,Ze;if(le.createConnection=we?M:T,le.defaultPort=le.defaultPort||Gt,le.port=_e.port||Gt,le.host=_e.hostname.startsWith("[")?_e.hostname.slice(1,-1):_e.hostname,le.headers={...le.headers,"Sec-WebSocket-Version":le.protocolVersion,"Sec-WebSocket-Key":$t,Connection:"Upgrade",Upgrade:"websocket"},le.path=_e.pathname+_e.search,le.timeout=le.handshakeTimeout,le.perMessageDeflate&&(Ze=new y(le.perMessageDeflate!==!0?le.perMessageDeflate:{},!1,le.maxPayload),le.headers["Sec-WebSocket-Extensions"]=W({[y.extensionName]:Ze.offer()})),ie.length){for(let De of ie){if(typeof De!="string"||!Q.test(De)||xt.has(De))throw new SyntaxError("An invalid or duplicated subprotocol was specified");xt.add(De)}le.headers["Sec-WebSocket-Protocol"]=ie.join(",")}if(le.origin&&(le.protocolVersion<13?le.headers["Sec-WebSocket-Origin"]=le.origin:le.headers.Origin=le.origin),(_e.username||_e.password)&&(le.auth=`${_e.username}:${_e.password}`),ke){let De=le.path.split(":");le.socketPath=De[0],le.path=De[1]}let Ie;if(le.followRedirects){if(N._redirects===0){N._originalIpc=ke,N._originalSecure=we,N._originalHostOrSocketPath=ke?le.socketPath:_e.host;let De=ae&&ae.headers;if(ae={...ae,headers:{}},De)for(let[Xe,ht]of Object.entries(De))ae.headers[Xe.toLowerCase()]=ht}else if(N.listenerCount("redirect")===0){let De=ke?N._originalIpc?le.socketPath===N._originalHostOrSocketPath:!1:N._originalIpc?!1:_e.host===N._originalHostOrSocketPath;(!De||N._originalSecure&&!we)&&(delete le.headers.authorization,delete le.headers.cookie,De||delete le.headers.host,le.auth=void 0)}le.auth&&!ae.headers.authorization&&(ae.headers.authorization="Basic "+Buffer.from(le.auth).toString("base64")),Ie=N._req=Dt(le),N._redirects&&N.emit("redirect",N.url,Ie)}else Ie=N._req=Dt(le);le.timeout&&Ie.on("timeout",()=>{V(N,Ie,"Opening handshake has timed out")}),Ie.on("error",De=>{Ie===null||Ie[ue]||(Ie=N._req=null,ne(N,De))}),Ie.on("response",De=>{let Xe=De.headers.location,ht=De.statusCode;if(Xe&&le.followRedirects&&ht>=300&&ht<400){if(++N._redirects>le.maxRedirects){V(N,Ie,"Maximum redirects exceeded");return}Ie.abort();let Kt;try{Kt=new h(Xe,H)}catch{let kt=new SyntaxError(`Invalid URL: ${Xe}`);ne(N,kt);return}oe(N,Kt,ie,ae)}else N.emit("unexpected-response",Ie,De)||V(N,Ie,`Unexpected server response: ${De.statusCode}`)}),Ie.on("upgrade",(De,Xe,ht)=>{if(N.emit("upgrade",De),N.readyState!==Y.CONNECTING)return;if(Ie=N._req=null,De.headers.upgrade.toLowerCase()!=="websocket"){V(N,Xe,"Invalid Upgrade header");return}let Kt=c("sha1").update($t+f).digest("base64");if(De.headers["sec-websocket-accept"]!==Kt){V(N,Xe,"Invalid Sec-WebSocket-Accept header");return}let kt=De.headers["sec-websocket-protocol"],Nt;if(kt!==void 0?xt.size?xt.has(kt)||(Nt="Server sent an invalid subprotocol"):Nt="Server sent a subprotocol but none was requested":xt.size&&(Nt="Server sent no subprotocol"),Nt){V(N,Xe,Nt);return}kt&&(N._protocol=kt);let ar=De.headers["sec-websocket-extensions"];if(ar!==void 0){if(!Ze){V(N,Xe,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let et;try{et=Z(ar)}catch{V(N,Xe,"Invalid Sec-WebSocket-Extensions header");return}let jr=Object.keys(et);if(jr.length!==1||jr[0]!==y.extensionName){V(N,Xe,"Server indicated an extension that was not requested");return}try{Ze.accept(et[y.extensionName])}catch{V(N,Xe,"Invalid Sec-WebSocket-Extensions header");return}N._extensions[y.extensionName]=Ze}N.setSocket(Xe,ht,{allowSynchronousEvents:le.allowSynchronousEvents,generateMask:le.generateMask,maxPayload:le.maxPayload,skipUTF8Validation:le.skipUTF8Validation})}),le.finishRequest?le.finishRequest(Ie,N):Ie.end()}function ne(N,H){N._readyState=Y.CLOSING,N.emit("error",H),N.emitClose()}function T(N){return N.path=N.socketPath,l.connect(N)}function M(N){return N.path=void 0,!N.servername&&N.servername!==""&&(N.servername=l.isIP(N.host)?"":N.host),n.connect(N)}function V(N,H,ie){N._readyState=Y.CLOSING;let ae=new Error(ie);Error.captureStackTrace(ae,V),H.setHeader?(H[ue]=!0,H.abort(),H.socket&&!H.socket.destroyed&&H.socket.destroy(),process.nextTick(ne,N,ae)):(H.destroy(ae),H.once("error",N.emit.bind(N,"error")),H.once("close",N.emitClose.bind(N)))}function C(N,H,ie){if(H){let ae=q(H).length;N._socket?N._sender._bufferedBytes+=ae:N._bufferedAmount+=ae}if(ie){let ae=new Error(`WebSocket is not open: readyState ${N.readyState} (${pe[N.readyState]})`);process.nextTick(ie,ae)}}function P(N,H){let ie=this[$];ie._closeFrameReceived=!0,ie._closeMessage=H,ie._closeCode=N,ie._socket[$]!==void 0&&(ie._socket.removeListener("data",U),process.nextTick(Oe,ie._socket),N===1005?ie.close():ie.close(N,H))}function A(){let N=this[$];N.isPaused||N._socket.resume()}function L(N){let H=this[$];H._socket[$]!==void 0&&(H._socket.removeListener("data",U),process.nextTick(Oe,H._socket),H.close(N[w])),H.emit("error",N)}function X(){this[$].emitClose()}function ce(N,H){this[$].emit("message",N,H)}function de(N){let H=this[$];H._autoPong&&H.pong(N,!this._isServer,v),H.emit("ping",N)}function Fe(N){this[$].emit("pong",N)}function Oe(N){N.resume()}function k(){let N=this[$];this.removeListener("close",k),this.removeListener("data",U),this.removeListener("end",re),N._readyState=Y.CLOSING;let H;!this._readableState.endEmitted&&!N._closeFrameReceived&&!N._receiver._writableState.errorEmitted&&(H=N._socket.read())!==null&&N._receiver.write(H),N._receiver.end(),this[$]=void 0,clearTimeout(N._closeTimer),N._receiver._writableState.finished||N._receiver._writableState.errorEmitted?N.emitClose():(N._receiver.on("error",X),N._receiver.on("finish",X))}function U(N){this[$]._receiver.write(N)||this.pause()}function re(){let N=this[$];N._readyState=Y.CLOSING,N._receiver.end(),this.end()}function me(){let N=this[$];this.removeListener("error",me),this.on("error",v),N&&(N._readyState=Y.CLOSING,this.destroy())}}),Cc=se((e,t)=>{"use strict";var{tokenChars:r}=Ku();function a(u){let l=new Set,n=-1,s=-1,c=0;for(c;c<u.length;c++){let m=u.charCodeAt(c);if(s===-1&&r[m]===1)n===-1&&(n=c);else if(c!==0&&(m===32||m===9))s===-1&&n!==-1&&(s=c);else if(m===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${c}`);s===-1&&(s=c);let h=u.slice(n,s);if(l.has(h))throw new SyntaxError(`The "${h}" subprotocol is duplicated`);l.add(h),n=s=-1}else throw new SyntaxError(`Unexpected character at index ${c}`)}if(n===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let d=u.slice(n,c);if(l.has(d))throw new SyntaxError(`The "${d}" subprotocol is duplicated`);return l.add(d),l}t.exports={parse:a}}),Ac=se((e,t)=>{"use strict";var r=require("events"),a=require("http"),{Duplex:u}=require("stream"),{createHash:l}=require("crypto"),n=Uo(),s=Gu(),c=Cc(),d=Wo(),{GUID:m,kWebSocket:h}=Qr(),y=/^[+/0-9A-Za-z]{22}==$/,g=0,F=1,D=2,E=class extends r{constructor(v,S){if(super(),v={allowSynchronousEvents:!1,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:d,...v},v.port==null&&!v.server&&!v.noServer||v.port!=null&&(v.server||v.noServer)||v.server&&v.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(v.port!=null?(this._server=a.createServer((j,W)=>{let Z=a.STATUS_CODES[426];W.writeHead(426,{"Content-Length":Z.length,"Content-Type":"text/plain"}),W.end(Z)}),this._server.listen(v.port,v.host,v.backlog,S)):v.server&&(this._server=v.server),this._server){let j=this.emit.bind(this,"connection");this._removeListeners=f(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(W,Z,q)=>{this.handleUpgrade(W,Z,q,j)}})}v.perMessageDeflate===!0&&(v.perMessageDeflate={}),v.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=v,this._state=g}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(v){if(this._state===D){v&&this.once("close",()=>{v(new Error("The server is not running"))}),process.nextTick(_,this);return}if(v&&this.once("close",v),this._state!==F)if(this._state=F,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_,this):process.nextTick(_,this);else{let S=this._server;this._removeListeners(),this._removeListeners=this._server=null,S.close(()=>{_(this)})}}shouldHandle(v){if(this.options.path){let S=v.url.indexOf("?");if((S!==-1?v.url.slice(0,S):v.url)!==this.options.path)return!1}return!0}handleUpgrade(v,S,j,W){S.on("error",b);let Z=v.headers["sec-websocket-key"],q=+v.headers["sec-websocket-version"];if(v.method!=="GET"){$(this,v,S,405,"Invalid HTTP method");return}if(v.headers.upgrade.toLowerCase()!=="websocket"){$(this,v,S,400,"Invalid Upgrade header");return}if(!Z||!y.test(Z)){$(this,v,S,400,"Missing or invalid Sec-WebSocket-Key header");return}if(q!==8&&q!==13){$(this,v,S,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(v)){w(S,400);return}let K=v.headers["sec-websocket-protocol"],ue=new Set;if(K!==void 0)try{ue=c.parse(K)}catch{$(this,v,S,400,"Invalid Sec-WebSocket-Protocol header");return}let ee=v.headers["sec-websocket-extensions"],pe={};if(this.options.perMessageDeflate&&ee!==void 0){let Q=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let Y=n.parse(ee);Y[s.extensionName]&&(Q.accept(Y[s.extensionName]),pe[s.extensionName]=Q)}catch{$(this,v,S,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let Q={origin:v.headers[`${q===8?"sec-websocket-origin":"origin"}`],secure:!!(v.socket.authorized||v.socket.encrypted),req:v};if(this.options.verifyClient.length===2){this.options.verifyClient(Q,(Y,oe,ne,T)=>{if(!Y)return w(S,oe||401,ne,T);this.completeUpgrade(pe,Z,ue,v,S,j,W)});return}if(!this.options.verifyClient(Q))return w(S,401)}this.completeUpgrade(pe,Z,ue,v,S,j,W)}completeUpgrade(v,S,j,W,Z,q,K){if(!Z.readable||!Z.writable)return Z.destroy();if(Z[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>g)return w(Z,503);let ue=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${l("sha1").update(S+m).digest("base64")}`],ee=new this.options.WebSocket(null,void 0,this.options);if(j.size){let pe=this.options.handleProtocols?this.options.handleProtocols(j,W):j.values().next().value;pe&&(ue.push(`Sec-WebSocket-Protocol: ${pe}`),ee._protocol=pe)}if(v[s.extensionName]){let pe=v[s.extensionName].params,Q=n.format({[s.extensionName]:[pe]});ue.push(`Sec-WebSocket-Extensions: ${Q}`),ee._extensions=v}this.emit("headers",ue,W),Z.write(ue.concat(`\r
`).join(`\r
`)),Z.removeListener("error",b),ee.setSocket(Z,q,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(ee),ee.on("close",()=>{this.clients.delete(ee),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_,this)})),K(ee,W)}};t.exports=E;function f(v,S){for(let j of Object.keys(S))v.on(j,S[j]);return function(){for(let j of Object.keys(S))v.removeListener(j,S[j])}}function _(v){v._state=D,v.emit("close")}function b(){this.destroy()}function w(v,S,j,W){j=j||a.STATUS_CODES[S],W={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(j),...W},v.once("finish",v.destroy),v.end(`HTTP/1.1 ${S} ${a.STATUS_CODES[S]}\r
`+Object.keys(W).map(Z=>`${Z}: ${W[Z]}`).join(`\r
`)+`\r
\r
`+j)}function $(v,S,j,W,Z){if(v.listenerCount("wsClientError")){let q=new Error(Z);Error.captureStackTrace(q,$),v.emit("wsClientError",q,j,S)}else w(j,W,Z)}}),Sc=se((e,t)=>{"use strict";(function(r,a){typeof e=="object"&&typeof t<"u"?a(e):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.WebStreamsPolyfill={}))})(e,function(r){"use strict";function a(){}function u(i){return typeof i=="object"&&i!==null||typeof i=="function"}let l=a;function n(i,o){try{Object.defineProperty(i,"name",{value:o,configurable:!0})}catch{}}let s=Promise,c=Promise.prototype.then,d=Promise.reject.bind(s);function m(i){return new s(i)}function h(i){return m(o=>o(i))}function y(i){return d(i)}function g(i,o,p){return c.call(i,o,p)}function F(i,o,p){g(g(i,o,p),void 0,l)}function D(i,o){F(i,o)}function E(i,o){F(i,void 0,o)}function f(i,o,p){return g(i,o,p)}function _(i){g(i,void 0,l)}let b=i=>{if(typeof queueMicrotask=="function")b=queueMicrotask;else{let o=h(void 0);b=p=>g(o,p)}return b(i)};function w(i,o,p){if(typeof i!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(i,o,p)}function $(i,o,p){try{return h(w(i,o,p))}catch(x){return y(x)}}let v=16384;class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let p=this._back,x=p;p._elements.length===v-1&&(x={_elements:[],_next:void 0}),p._elements.push(o),x!==p&&(this._back=x,p._next=x),++this._size}shift(){let o=this._front,p=o,x=this._cursor,I=x+1,z=o._elements,te=z[x];return I===v&&(p=o._next,I=0),--this._size,this._cursor=I,o!==p&&(this._front=p),z[x]=void 0,te}forEach(o){let p=this._cursor,x=this._front,I=x._elements;for(;(p!==I.length||x._next!==void 0)&&!(p===I.length&&(x=x._next,I=x._elements,p=0,I.length===0));)o(I[p]),++p}peek(){let o=this._front,p=this._cursor;return o._elements[p]}}let j=Symbol("[[AbortSteps]]"),W=Symbol("[[ErrorSteps]]"),Z=Symbol("[[CancelSteps]]"),q=Symbol("[[PullSteps]]"),K=Symbol("[[ReleaseSteps]]");function ue(i,o){i._ownerReadableStream=o,o._reader=i,o._state==="readable"?Y(i):o._state==="closed"?ne(i):oe(i,o._storedError)}function ee(i,o){let p=i._ownerReadableStream;return Ut(p,o)}function pe(i){let o=i._ownerReadableStream;o._state==="readable"?T(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):M(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),o._readableStreamController[K](),o._reader=void 0,i._ownerReadableStream=void 0}function Q(i){return new TypeError("Cannot "+i+" a stream using a released reader")}function Y(i){i._closedPromise=m((o,p)=>{i._closedPromise_resolve=o,i._closedPromise_reject=p})}function oe(i,o){Y(i),T(i,o)}function ne(i){Y(i),V(i)}function T(i,o){i._closedPromise_reject!==void 0&&(_(i._closedPromise),i._closedPromise_reject(o),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}function M(i,o){oe(i,o)}function V(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}let C=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},P=Math.trunc||function(i){return i<0?Math.ceil(i):Math.floor(i)};function A(i){return typeof i=="object"||typeof i=="function"}function L(i,o){if(i!==void 0&&!A(i))throw new TypeError(`${o} is not an object.`)}function X(i,o){if(typeof i!="function")throw new TypeError(`${o} is not a function.`)}function ce(i){return typeof i=="object"&&i!==null||typeof i=="function"}function de(i,o){if(!ce(i))throw new TypeError(`${o} is not an object.`)}function Fe(i,o,p){if(i===void 0)throw new TypeError(`Parameter ${o} is required in '${p}'.`)}function Oe(i,o,p){if(i===void 0)throw new TypeError(`${o} is required in '${p}'.`)}function k(i){return Number(i)}function U(i){return i===0?0:i}function re(i){return U(P(i))}function me(i,o){let p=Number.MAX_SAFE_INTEGER,x=Number(i);if(x=U(x),!C(x))throw new TypeError(`${o} is not a finite number`);if(x=re(x),x<0||x>p)throw new TypeError(`${o} is outside the accepted range of 0 to ${p}, inclusive`);return!C(x)||x===0?0:x}function N(i,o){if(!_r(i))throw new TypeError(`${o} is not a ReadableStream.`)}function H(i){return new we(i)}function ie(i,o){i._reader._readRequests.push(o)}function ae(i,o,p){let x=i._reader._readRequests.shift();p?x._closeSteps():x._chunkSteps(o)}function le(i){return i._reader._readRequests.length}function _e(i){let o=i._reader;return!(o===void 0||!ke(o))}class we{constructor(o){if(Fe(o,1,"ReadableStreamDefaultReader"),N(o,"First parameter"),wr(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ue(this,o),this._readRequests=new S}get closed(){return ke(this)?this._closedPromise:y(Dt("closed"))}cancel(o=void 0){return ke(this)?this._ownerReadableStream===void 0?y(Q("cancel")):ee(this,o):y(Dt("cancel"))}read(){if(!ke(this))return y(Dt("read"));if(this._ownerReadableStream===void 0)return y(Q("read from"));let o,p,x=m((I,z)=>{o=I,p=z});return Me(this,{_chunkSteps:I=>o({value:I,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:I=>p(I)}),x}releaseLock(){if(!ke(this))throw Dt("releaseLock");this._ownerReadableStream!==void 0&&Gt(this)}}Object.defineProperties(we.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(we.prototype.cancel,"cancel"),n(we.prototype.read,"read"),n(we.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(we.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ke(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_readRequests")?!1:i instanceof we}function Me(i,o){let p=i._ownerReadableStream;p._disturbed=!0,p._state==="closed"?o._closeSteps():p._state==="errored"?o._errorSteps(p._storedError):p._readableStreamController[q](o)}function Gt(i){pe(i);let o=new TypeError("Reader was released");$t(i,o)}function $t(i,o){let p=i._readRequests;i._readRequests=new S,p.forEach(x=>{x._errorSteps(o)})}function Dt(i){return new TypeError(`ReadableStreamDefaultReader.prototype.${i} can only be used on a ReadableStreamDefaultReader`)}let xt=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Ze{constructor(o,p){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=p}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?f(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let p=()=>this._returnSteps(o);return this._ongoingPromise?f(this._ongoingPromise,p,p):p()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader,p,x,I=m((z,te)=>{p=z,x=te});return Me(o,{_chunkSteps:z=>{this._ongoingPromise=void 0,b(()=>p({value:z,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(o),p({value:void 0,done:!0})},_errorSteps:z=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(o),x(z)}}),I}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let p=this._reader;if(!this._preventCancel){let x=ee(p,o);return pe(p),f(x,()=>({value:o,done:!0}))}return pe(p),h({value:o,done:!0})}}let Ie={next(){return Xe(this)?this._asyncIteratorImpl.next():y(ht("next"))},return(i){return Xe(this)?this._asyncIteratorImpl.return(i):y(ht("return"))}};Object.setPrototypeOf(Ie,xt);function De(i,o){let p=H(i),x=new Ze(p,o),I=Object.create(Ie);return I._asyncIteratorImpl=x,I}function Xe(i){if(!u(i)||!Object.prototype.hasOwnProperty.call(i,"_asyncIteratorImpl"))return!1;try{return i._asyncIteratorImpl instanceof Ze}catch{return!1}}function ht(i){return new TypeError(`ReadableStreamAsyncIterator.${i} can only be used on a ReadableSteamAsyncIterator`)}let Kt=Number.isNaN||function(i){return i!==i};var kt,Nt,ar;function et(i){return i.slice()}function jr(i,o,p,x,I){new Uint8Array(i).set(new Uint8Array(p,x,I),o)}let It=i=>(typeof i.transfer=="function"?It=o=>o.transfer():typeof structuredClone=="function"?It=o=>structuredClone(o,{transfer:[o]}):It=o=>o,It(i)),Yt=i=>(typeof i.detached=="boolean"?Yt=o=>o.detached:Yt=o=>o.byteLength===0,Yt(i));function tu(i,o,p){if(i.slice)return i.slice(o,p);let x=p-o,I=new ArrayBuffer(x);return jr(I,0,i,o,x),I}function Jr(i,o){let p=i[o];if(p!=null){if(typeof p!="function")throw new TypeError(`${String(o)} is not a function`);return p}}function un(i){let o={[Symbol.iterator]:()=>i.iterator},p=async function*(){return yield*o}(),x=p.next;return{iterator:p,nextMethod:x,done:!1}}let Qt=(ar=(kt=Symbol.asyncIterator)!==null&&kt!==void 0?kt:(Nt=Symbol.for)===null||Nt===void 0?void 0:Nt.call(Symbol,"Symbol.asyncIterator"))!==null&&ar!==void 0?ar:"@@asyncIterator";function ru(i,o="sync",p){if(p===void 0)if(o==="async"){if(p=Jr(i,Qt),p===void 0){let z=Jr(i,Symbol.iterator),te=ru(i,"sync",z);return un(te)}}else p=Jr(i,Symbol.iterator);if(p===void 0)throw new TypeError("The object is not iterable");let x=w(p,i,[]);if(!u(x))throw new TypeError("The iterator method must return an object");let I=x.next;return{iterator:x,nextMethod:I,done:!1}}function iu(i){let o=w(i.nextMethod,i.iterator,[]);if(!u(o))throw new TypeError("The iterator.next() method must return an object");return o}function nn(i){return!!i.done}function Si(i){return i.value}function uu(i){return!(typeof i!="number"||Kt(i)||i<0)}function nu(i){let o=tu(i.buffer,i.byteOffset,i.byteOffset+i.byteLength);return new Uint8Array(o)}function Zr(i){let o=i._queue.shift();return i._queueTotalSize-=o.size,i._queueTotalSize<0&&(i._queueTotalSize=0),o.value}function $i(i,o,p){if(!uu(p)||p===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");i._queue.push({value:o,size:p}),i._queueTotalSize+=p}function au(i){return i._queue.peek().value}function B(i){i._queue=new S,i._queueTotalSize=0}function R(i){return i===DataView}function O(i){return R(i.constructor)}function G(i){return R(i)?1:i.BYTES_PER_ELEMENT}class J{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Be(this))throw lr("view");return this._view}respond(o){if(!Be(this))throw lr("respond");if(Fe(o,1,"respond"),o=me(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Yt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");ei(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!Be(this))throw lr("respondWithNewView");if(Fe(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Yt(o.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");ti(this._associatedReadableByteStreamController,o)}}Object.defineProperties(J.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),n(J.prototype.respond,"respond"),n(J.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(J.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class fe{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ee(this))throw yr("byobRequest");return Xt(this)}get desiredSize(){if(!Ee(this))throw yr("desiredSize");return sr(this)}close(){if(!Ee(this))throw yr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);Pt(this)}enqueue(o){if(!Ee(this))throw yr("enqueue");if(Fe(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let p=this._controlledReadableByteStream._state;if(p!=="readable")throw new TypeError(`The stream (in ${p} state) is not in the readable state and cannot be enqueued to`);Mt(this,o)}error(o=void 0){if(!Ee(this))throw yr("error");it(this,o)}[Z](o){qe(this),B(this);let p=this._cancelAlgorithm(o);return or(this),p}[q](o){let p=this._controlledReadableByteStream;if(this._queueTotalSize>0){Zt(this,o);return}let x=this._autoAllocateChunkSize;if(x!==void 0){let I;try{I=new ArrayBuffer(x)}catch(te){o._errorSteps(te);return}let z={buffer:I,bufferByteLength:x,byteOffset:0,byteLength:x,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(z)}ie(p,o),Pe(this)}[K](){if(this._pendingPullIntos.length>0){let o=this._pendingPullIntos.peek();o.readerType="none",this._pendingPullIntos=new S,this._pendingPullIntos.push(o)}}}Object.defineProperties(fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),n(fe.prototype.close,"close"),n(fe.prototype.enqueue,"enqueue"),n(fe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ee(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableByteStream")?!1:i instanceof fe}function Be(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_associatedReadableByteStreamController")?!1:i instanceof J}function Pe(i){if(!Xr(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let o=i._pullAlgorithm();F(o,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Pe(i)),null),p=>(it(i,p),null))}function qe(i){nt(i),i._pendingPullIntos=new S}function $e(i,o){let p=!1;i._state==="closed"&&(p=!0);let x=Ve(o);o.readerType==="default"?ae(i,x,p):br(i,x,p)}function Ve(i){let o=i.bytesFilled,p=i.elementSize;return new i.viewConstructor(i.buffer,i.byteOffset,o/p)}function Ge(i,o,p,x){i._queue.push({buffer:o,byteOffset:p,byteLength:x}),i._queueTotalSize+=x}function ze(i,o,p,x){let I;try{I=tu(o,p,p+x)}catch(z){throw it(i,z),z}Ge(i,I,0,x)}function Re(i,o){o.bytesFilled>0&&ze(i,o.buffer,o.byteOffset,o.bytesFilled),ot(i)}function Te(i,o){let p=Math.min(i._queueTotalSize,o.byteLength-o.bytesFilled),x=o.bytesFilled+p,I=p,z=!1,te=x%o.elementSize,he=x-te;he>=o.minimumFill&&(I=he-o.bytesFilled,z=!0);let ge=i._queue;for(;I>0;){let ve=ge.peek(),Ce=Math.min(I,ve.byteLength),Ae=o.byteOffset+o.bytesFilled;jr(o.buffer,Ae,ve.buffer,ve.byteOffset,Ce),ve.byteLength===Ce?ge.shift():(ve.byteOffset+=Ce,ve.byteLength-=Ce),i._queueTotalSize-=Ce,rt(i,Ce,o),I-=Ce}return z}function rt(i,o,p){p.bytesFilled+=o}function gr(i){i._queueTotalSize===0&&i._closeRequested?(or(i),ji(i._controlledReadableByteStream)):Pe(i)}function nt(i){i._byobRequest!==null&&(i._byobRequest._associatedReadableByteStreamController=void 0,i._byobRequest._view=null,i._byobRequest=null)}function mt(i){for(;i._pendingPullIntos.length>0;){if(i._queueTotalSize===0)return;let o=i._pendingPullIntos.peek();Te(i,o)&&(ot(i),$e(i._controlledReadableByteStream,o))}}function Ne(i){let o=i._controlledReadableByteStream._reader;for(;o._readRequests.length>0;){if(i._queueTotalSize===0)return;let p=o._readRequests.shift();Zt(i,p)}}function gt(i,o,p,x){let I=i._controlledReadableByteStream,z=o.constructor,te=G(z),{byteOffset:he,byteLength:ge}=o,ve=p*te,Ce;try{Ce=It(o.buffer)}catch(Le){x._errorSteps(Le);return}let Ae={buffer:Ce,bufferByteLength:Ce.byteLength,byteOffset:he,byteLength:ge,bytesFilled:0,minimumFill:ve,elementSize:te,viewConstructor:z,readerType:"byob"};if(i._pendingPullIntos.length>0){i._pendingPullIntos.push(Ae),Tt(I,x);return}if(I._state==="closed"){let Le=new z(Ae.buffer,Ae.byteOffset,0);x._closeSteps(Le);return}if(i._queueTotalSize>0){if(Te(i,Ae)){let Le=Ve(Ae);gr(i),x._chunkSteps(Le);return}if(i._closeRequested){let Le=new TypeError("Insufficient bytes to fill elements in the given buffer");it(i,Le),x._errorSteps(Le);return}}i._pendingPullIntos.push(Ae),Tt(I,x),Pe(i)}function vt(i,o){o.readerType==="none"&&ot(i);let p=i._controlledReadableByteStream;if(Er(p))for(;ri(p)>0;){let x=ot(i);$e(p,x)}}function qt(i,o,p){if(rt(i,o,p),p.readerType==="none"){Re(i,p),mt(i);return}if(p.bytesFilled<p.minimumFill)return;ot(i);let x=p.bytesFilled%p.elementSize;if(x>0){let I=p.byteOffset+p.bytesFilled;ze(i,p.buffer,I-x,x)}p.bytesFilled-=x,$e(i._controlledReadableByteStream,p),mt(i)}function Jt(i,o){let p=i._pendingPullIntos.peek();nt(i),i._controlledReadableByteStream._state==="closed"?vt(i,p):qt(i,o,p),Pe(i)}function ot(i){return i._pendingPullIntos.shift()}function Xr(i){let o=i._controlledReadableByteStream;return o._state!=="readable"||i._closeRequested||!i._started?!1:!!(_e(o)&&le(o)>0||Er(o)&&ri(o)>0||sr(i)>0)}function or(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0}function Pt(i){let o=i._controlledReadableByteStream;if(!(i._closeRequested||o._state!=="readable")){if(i._queueTotalSize>0){i._closeRequested=!0;return}if(i._pendingPullIntos.length>0){let p=i._pendingPullIntos.peek();if(p.bytesFilled%p.elementSize!==0){let x=new TypeError("Insufficient bytes to fill elements in the given buffer");throw it(i,x),x}}or(i),ji(o)}}function Mt(i,o){let p=i._controlledReadableByteStream;if(i._closeRequested||p._state!=="readable")return;let{buffer:x,byteOffset:I,byteLength:z}=o;if(Yt(x))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let te=It(x);if(i._pendingPullIntos.length>0){let he=i._pendingPullIntos.peek();if(Yt(he.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");nt(i),he.buffer=It(he.buffer),he.readerType==="none"&&Re(i,he)}if(_e(p))if(Ne(i),le(p)===0)Ge(i,te,I,z);else{i._pendingPullIntos.length>0&&ot(i);let he=new Uint8Array(te,I,z);ae(p,he,!1)}else Er(p)?(Ge(i,te,I,z),mt(i)):Ge(i,te,I,z);Pe(i)}function it(i,o){let p=i._controlledReadableByteStream;p._state==="readable"&&(qe(i),B(i),or(i),Ta(p,o))}function Zt(i,o){let p=i._queue.shift();i._queueTotalSize-=p.byteLength,gr(i);let x=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);o._chunkSteps(x)}function Xt(i){if(i._byobRequest===null&&i._pendingPullIntos.length>0){let o=i._pendingPullIntos.peek(),p=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),x=Object.create(J.prototype);Rr(x,i,p),i._byobRequest=x}return i._byobRequest}function sr(i){let o=i._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:i._strategyHWM-i._queueTotalSize}function ei(i,o){let p=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(p.bytesFilled+o>p.byteLength)throw new RangeError("bytesWritten out of range")}p.buffer=It(p.buffer),Jt(i,o)}function ti(i,o){let p=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(p.byteOffset+p.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(p.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(p.bytesFilled+o.byteLength>p.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let x=o.byteLength;p.buffer=It(o.buffer),Jt(i,x)}function ou(i,o,p,x,I,z,te){o._controlledReadableByteStream=i,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,B(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=z,o._pullAlgorithm=x,o._cancelAlgorithm=I,o._autoAllocateChunkSize=te,o._pendingPullIntos=new S,i._readableStreamController=o;let he=p();F(h(he),()=>(o._started=!0,Pe(o),null),ge=>(it(o,ge),null))}function su(i,o,p){let x=Object.create(fe.prototype),I,z,te;o.start!==void 0?I=()=>o.start(x):I=()=>{},o.pull!==void 0?z=()=>o.pull(x):z=()=>h(void 0),o.cancel!==void 0?te=ge=>o.cancel(ge):te=()=>h(void 0);let he=o.autoAllocateChunkSize;if(he===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ou(i,x,I,z,te,p,he)}function Rr(i,o,p){i._associatedReadableByteStreamController=o,i._view=p}function lr(i){return new TypeError(`ReadableStreamBYOBRequest.prototype.${i} can only be used on a ReadableStreamBYOBRequest`)}function yr(i){return new TypeError(`ReadableByteStreamController.prototype.${i} can only be used on a ReadableByteStreamController`)}function Or(i,o){L(i,o);let p=i?.mode;return{mode:p===void 0?void 0:an(p,`${o} has member 'mode' that`)}}function an(i,o){if(i=`${i}`,i!=="byob")throw new TypeError(`${o} '${i}' is not a valid enumeration value for ReadableStreamReaderMode`);return i}function lu(i,o){var p;L(i,o);let x=(p=i?.min)!==null&&p!==void 0?p:1;return{min:me(x,`${o} has member 'min' that`)}}function cu(i){return new yt(i)}function Tt(i,o){i._reader._readIntoRequests.push(o)}function br(i,o,p){let x=i._reader._readIntoRequests.shift();p?x._closeSteps(o):x._chunkSteps(o)}function ri(i){return i._reader._readIntoRequests.length}function Er(i){let o=i._reader;return!(o===void 0||!vr(o))}class yt{constructor(o){if(Fe(o,1,"ReadableStreamBYOBReader"),N(o,"First parameter"),wr(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ee(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ue(this,o),this._readIntoRequests=new S}get closed(){return vr(this)?this._closedPromise:y(ii("closed"))}cancel(o=void 0){return vr(this)?this._ownerReadableStream===void 0?y(Q("cancel")):ee(this,o):y(ii("cancel"))}read(o,p={}){if(!vr(this))return y(ii("read"));if(!ArrayBuffer.isView(o))return y(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(Yt(o.buffer))return y(new TypeError("view's buffer has been detached"));let x;try{x=lu(p,"options")}catch(ge){return y(ge)}let I=x.min;if(I===0)return y(new TypeError("options.min must be greater than 0"));if(O(o)){if(I>o.byteLength)return y(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(I>o.length)return y(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return y(Q("read from"));let z,te,he=m((ge,ve)=>{z=ge,te=ve});return cr(this,o,I,{_chunkSteps:ge=>z({value:ge,done:!1}),_closeSteps:ge=>z({value:ge,done:!0}),_errorSteps:ge=>te(ge)}),he}releaseLock(){if(!vr(this))throw ii("releaseLock");this._ownerReadableStream!==void 0&&Nr(this)}}Object.defineProperties(yt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(yt.prototype.cancel,"cancel"),n(yt.prototype.read,"read"),n(yt.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(yt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function vr(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_readIntoRequests")?!1:i instanceof yt}function cr(i,o,p,x){let I=i._ownerReadableStream;I._disturbed=!0,I._state==="errored"?x._errorSteps(I._storedError):gt(I._readableStreamController,o,p,x)}function Nr(i){pe(i);let o=new TypeError("Reader was released");Di(i,o)}function Di(i,o){let p=i._readIntoRequests;i._readIntoRequests=new S,p.forEach(x=>{x._errorSteps(o)})}function ii(i){return new TypeError(`ReadableStreamBYOBReader.prototype.${i} can only be used on a ReadableStreamBYOBReader`)}function Ir(i,o){let{highWaterMark:p}=i;if(p===void 0)return o;if(Kt(p)||p<0)throw new RangeError("Invalid highWaterMark");return p}function ui(i){let{size:o}=i;return o||(()=>1)}function Bi(i,o){L(i,o);let p=i?.highWaterMark,x=i?.size;return{highWaterMark:p===void 0?void 0:k(p),size:x===void 0?void 0:aa(x,`${o} has member 'size' that`)}}function aa(i,o){return X(i,o),p=>k(i(p))}function oa(i,o){L(i,o);let p=i?.abort,x=i?.close,I=i?.start,z=i?.type,te=i?.write;return{abort:p===void 0?void 0:sa(p,i,`${o} has member 'abort' that`),close:x===void 0?void 0:la(x,i,`${o} has member 'close' that`),start:I===void 0?void 0:ca(I,i,`${o} has member 'start' that`),write:te===void 0?void 0:da(te,i,`${o} has member 'write' that`),type:z}}function sa(i,o,p){return X(i,p),x=>$(i,o,[x])}function la(i,o,p){return X(i,p),()=>$(i,o,[])}function ca(i,o,p){return X(i,p),x=>w(i,o,[x])}function da(i,o,p){return X(i,p),(x,I)=>$(i,o,[x,I])}function pa(i,o){if(!ni(i))throw new TypeError(`${o} is not a WritableStream.`)}function Qs(i){if(typeof i!="object"||i===null)return!1;try{return typeof i.aborted=="boolean"}catch{return!1}}let Js=typeof AbortController=="function";function Zs(){if(Js)return new AbortController}class Fr{constructor(o={},p={}){o===void 0?o=null:de(o,"First parameter");let x=Bi(p,"Second parameter"),I=oa(o,"First parameter");if(ha(this),I.type!==void 0)throw new RangeError("Invalid type is specified");let z=ui(x),te=Ir(x,1);pl(this,I,te,z)}get locked(){if(!ni(this))throw mu("locked");return ai(this)}abort(o=void 0){return ni(this)?ai(this)?y(new TypeError("Cannot abort a stream that already has a writer")):du(this,o):y(mu("abort"))}close(){return ni(this)?ai(this)?y(new TypeError("Cannot close a stream that already has a writer")):er(this)?y(new TypeError("Cannot close an already-closing stream")):ma(this):y(mu("close"))}getWriter(){if(!ni(this))throw mu("getWriter");return fa(this)}}Object.defineProperties(Fr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),n(Fr.prototype.abort,"abort"),n(Fr.prototype.close,"close"),n(Fr.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fr.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function fa(i){return new dr(i)}function Xs(i,o,p,x,I=1,z=()=>1){let te=Object.create(Fr.prototype);ha(te);let he=Object.create(oi.prototype);return Fa(te,he,i,o,p,x,I,z),te}function ha(i){i._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new S,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1}function ni(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_writableStreamController")?!1:i instanceof Fr}function ai(i){return i._writer!==void 0}function du(i,o){var p;if(i._state==="closed"||i._state==="errored")return h(void 0);i._writableStreamController._abortReason=o,(p=i._writableStreamController._abortController)===null||p===void 0||p.abort(o);let x=i._state;if(x==="closed"||x==="errored")return h(void 0);if(i._pendingAbortRequest!==void 0)return i._pendingAbortRequest._promise;let I=!1;x==="erroring"&&(I=!0,o=void 0);let z=m((te,he)=>{i._pendingAbortRequest={_promise:void 0,_resolve:te,_reject:he,_reason:o,_wasAlreadyErroring:I}});return i._pendingAbortRequest._promise=z,I||sn(i,o),z}function ma(i){let o=i._state;if(o==="closed"||o==="errored")return y(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let p=m((I,z)=>{let te={_resolve:I,_reject:z};i._closeRequest=te}),x=i._writer;return x!==void 0&&i._backpressure&&o==="writable"&&gn(x),fl(i._writableStreamController),p}function el(i){return m((o,p)=>{let x={_resolve:o,_reject:p};i._writeRequests.push(x)})}function on(i,o){if(i._state==="writable"){sn(i,o);return}ln(i)}function sn(i,o){let p=i._writableStreamController;i._state="erroring",i._storedError=o;let x=i._writer;x!==void 0&&ya(x,o),!nl(i)&&p._started&&ln(i)}function ln(i){i._state="errored",i._writableStreamController[W]();let o=i._storedError;if(i._writeRequests.forEach(I=>{I._reject(o)}),i._writeRequests=new S,i._pendingAbortRequest===void 0){pu(i);return}let p=i._pendingAbortRequest;if(i._pendingAbortRequest=void 0,p._wasAlreadyErroring){p._reject(o),pu(i);return}let x=i._writableStreamController[j](p._reason);F(x,()=>(p._resolve(),pu(i),null),I=>(p._reject(I),pu(i),null))}function tl(i){i._inFlightWriteRequest._resolve(void 0),i._inFlightWriteRequest=void 0}function rl(i,o){i._inFlightWriteRequest._reject(o),i._inFlightWriteRequest=void 0,on(i,o)}function il(i){i._inFlightCloseRequest._resolve(void 0),i._inFlightCloseRequest=void 0,i._state==="erroring"&&(i._storedError=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._resolve(),i._pendingAbortRequest=void 0)),i._state="closed";let o=i._writer;o!==void 0&&Aa(o)}function ul(i,o){i._inFlightCloseRequest._reject(o),i._inFlightCloseRequest=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._reject(o),i._pendingAbortRequest=void 0),on(i,o)}function er(i){return!(i._closeRequest===void 0&&i._inFlightCloseRequest===void 0)}function nl(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}function al(i){i._inFlightCloseRequest=i._closeRequest,i._closeRequest=void 0}function ol(i){i._inFlightWriteRequest=i._writeRequests.shift()}function pu(i){i._closeRequest!==void 0&&(i._closeRequest._reject(i._storedError),i._closeRequest=void 0);let o=i._writer;o!==void 0&&hn(o,i._storedError)}function cn(i,o){let p=i._writer;p!==void 0&&o!==i._backpressure&&(o?vl(p):gn(p)),i._backpressure=o}class dr{constructor(o){if(Fe(o,1,"WritableStreamDefaultWriter"),pa(o,"First parameter"),ai(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let p=o._state;if(p==="writable")!er(o)&&o._backpressure?yu(this):Sa(this),gu(this);else if(p==="erroring")mn(this,o._storedError),gu(this);else if(p==="closed")Sa(this),bl(this);else{let x=o._storedError;mn(this,x),Ca(this,x)}}get closed(){return qr(this)?this._closedPromise:y(Mr("closed"))}get desiredSize(){if(!qr(this))throw Mr("desiredSize");if(this._ownerWritableStream===void 0)throw ki("desiredSize");return dl(this)}get ready(){return qr(this)?this._readyPromise:y(Mr("ready"))}abort(o=void 0){return qr(this)?this._ownerWritableStream===void 0?y(ki("abort")):sl(this,o):y(Mr("abort"))}close(){if(!qr(this))return y(Mr("close"));let o=this._ownerWritableStream;return o===void 0?y(ki("close")):er(o)?y(new TypeError("Cannot close an already-closing stream")):ga(this)}releaseLock(){if(!qr(this))throw Mr("releaseLock");this._ownerWritableStream!==void 0&&ba(this)}write(o=void 0){return qr(this)?this._ownerWritableStream===void 0?y(ki("write to")):Ea(this,o):y(Mr("write"))}}Object.defineProperties(dr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),n(dr.prototype.abort,"abort"),n(dr.prototype.close,"close"),n(dr.prototype.releaseLock,"releaseLock"),n(dr.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function qr(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_ownerWritableStream")?!1:i instanceof dr}function sl(i,o){let p=i._ownerWritableStream;return du(p,o)}function ga(i){let o=i._ownerWritableStream;return ma(o)}function ll(i){let o=i._ownerWritableStream,p=o._state;return er(o)||p==="closed"?h(void 0):p==="errored"?y(o._storedError):ga(i)}function cl(i,o){i._closedPromiseState==="pending"?hn(i,o):El(i,o)}function ya(i,o){i._readyPromiseState==="pending"?$a(i,o):Fl(i,o)}function dl(i){let o=i._ownerWritableStream,p=o._state;return p==="errored"||p==="erroring"?null:p==="closed"?0:_a(o._writableStreamController)}function ba(i){let o=i._ownerWritableStream,p=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ya(i,p),cl(i,p),o._writer=void 0,i._ownerWritableStream=void 0}function Ea(i,o){let p=i._ownerWritableStream,x=p._writableStreamController,I=hl(x,o);if(p!==i._ownerWritableStream)return y(ki("write to"));let z=p._state;if(z==="errored")return y(p._storedError);if(er(p)||z==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(z==="erroring")return y(p._storedError);let te=el(p);return ml(x,o,I),te}let va={};class oi{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!dn(this))throw fn("abortReason");return this._abortReason}get signal(){if(!dn(this))throw fn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!dn(this))throw fn("error");this._controlledWritableStream._state==="writable"&&wa(this,o)}[j](o){let p=this._abortAlgorithm(o);return fu(this),p}[W](){B(this)}}Object.defineProperties(oi.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(oi.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function dn(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledWritableStream")?!1:i instanceof oi}function Fa(i,o,p,x,I,z,te,he){o._controlledWritableStream=i,i._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,B(o),o._abortReason=void 0,o._abortController=Zs(),o._started=!1,o._strategySizeAlgorithm=he,o._strategyHWM=te,o._writeAlgorithm=x,o._closeAlgorithm=I,o._abortAlgorithm=z;let ge=pn(o);cn(i,ge);let ve=p(),Ce=h(ve);F(Ce,()=>(o._started=!0,hu(o),null),Ae=>(o._started=!0,on(i,Ae),null))}function pl(i,o,p,x){let I=Object.create(oi.prototype),z,te,he,ge;o.start!==void 0?z=()=>o.start(I):z=()=>{},o.write!==void 0?te=ve=>o.write(ve,I):te=()=>h(void 0),o.close!==void 0?he=()=>o.close():he=()=>h(void 0),o.abort!==void 0?ge=ve=>o.abort(ve):ge=()=>h(void 0),Fa(i,I,z,te,he,ge,p,x)}function fu(i){i._writeAlgorithm=void 0,i._closeAlgorithm=void 0,i._abortAlgorithm=void 0,i._strategySizeAlgorithm=void 0}function fl(i){$i(i,va,0),hu(i)}function hl(i,o){try{return i._strategySizeAlgorithm(o)}catch(p){return xi(i,p),1}}function _a(i){return i._strategyHWM-i._queueTotalSize}function ml(i,o,p){try{$i(i,o,p)}catch(I){xi(i,I);return}let x=i._controlledWritableStream;if(!er(x)&&x._state==="writable"){let I=pn(i);cn(x,I)}hu(i)}function hu(i){let o=i._controlledWritableStream;if(!i._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){ln(o);return}if(i._queue.length===0)return;let p=au(i);p===va?gl(i):yl(i,p)}function xi(i,o){i._controlledWritableStream._state==="writable"&&wa(i,o)}function gl(i){let o=i._controlledWritableStream;al(o),Zr(i);let p=i._closeAlgorithm();fu(i),F(p,()=>(il(o),null),x=>(ul(o,x),null))}function yl(i,o){let p=i._controlledWritableStream;ol(p);let x=i._writeAlgorithm(o);F(x,()=>{tl(p);let I=p._state;if(Zr(i),!er(p)&&I==="writable"){let z=pn(i);cn(p,z)}return hu(i),null},I=>(p._state==="writable"&&fu(i),rl(p,I),null))}function pn(i){return _a(i)<=0}function wa(i,o){let p=i._controlledWritableStream;fu(i),sn(p,o)}function mu(i){return new TypeError(`WritableStream.prototype.${i} can only be used on a WritableStream`)}function fn(i){return new TypeError(`WritableStreamDefaultController.prototype.${i} can only be used on a WritableStreamDefaultController`)}function Mr(i){return new TypeError(`WritableStreamDefaultWriter.prototype.${i} can only be used on a WritableStreamDefaultWriter`)}function ki(i){return new TypeError("Cannot "+i+" a stream using a released writer")}function gu(i){i._closedPromise=m((o,p)=>{i._closedPromise_resolve=o,i._closedPromise_reject=p,i._closedPromiseState="pending"})}function Ca(i,o){gu(i),hn(i,o)}function bl(i){gu(i),Aa(i)}function hn(i,o){i._closedPromise_reject!==void 0&&(_(i._closedPromise),i._closedPromise_reject(o),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected")}function El(i,o){Ca(i,o)}function Aa(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="resolved")}function yu(i){i._readyPromise=m((o,p)=>{i._readyPromise_resolve=o,i._readyPromise_reject=p}),i._readyPromiseState="pending"}function mn(i,o){yu(i),$a(i,o)}function Sa(i){yu(i),gn(i)}function $a(i,o){i._readyPromise_reject!==void 0&&(_(i._readyPromise),i._readyPromise_reject(o),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected")}function vl(i){yu(i)}function Fl(i,o){mn(i,o)}function gn(i){i._readyPromise_resolve!==void 0&&(i._readyPromise_resolve(void 0),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="fulfilled")}function _l(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}let wl=_l();function Cl(i){if(!(typeof i=="function"||typeof i=="object")||i.name!=="DOMException")return!1;try{return new i,!0}catch{return!1}}function Al(){let i=wl?.DOMException;return Cl(i)?i:void 0}function Sl(){let i=function(o,p){this.message=o||"",this.name=p||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return n(i,"DOMException"),i.prototype=Object.create(Error.prototype),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0}),i}let $l=Al()||Sl();function Da(i,o,p,x,I,z){let te=H(i),he=fa(o);i._disturbed=!0;let ge=!1,ve=h(void 0);return m((Ce,Ae)=>{let Le;if(z!==void 0){if(Le=()=>{let be=z.reason!==void 0?z.reason:new $l("Aborted","AbortError"),xe=[];x||xe.push(()=>o._state==="writable"?du(o,be):h(void 0)),I||xe.push(()=>i._state==="readable"?Ut(i,be):h(void 0)),Bt(()=>Promise.all(xe.map(Ue=>Ue())),!0,be)},z.aborted){Le();return}z.addEventListener("abort",Le)}function Wt(){return m((be,xe)=>{function Ue(Ft){Ft?be():g(di(),Ue,xe)}Ue(!1)})}function di(){return ge?h(!0):g(he._readyPromise,()=>m((be,xe)=>{Me(te,{_chunkSteps:Ue=>{ve=g(Ea(he,Ue),void 0,a),be(!1)},_closeSteps:()=>be(!0),_errorSteps:xe})}))}if(fr(i,te._closedPromise,be=>(x?jt(!0,be):Bt(()=>du(o,be),!0,be),null)),fr(o,he._closedPromise,be=>(I?jt(!0,be):Bt(()=>Ut(i,be),!0,be),null)),st(i,te._closedPromise,()=>(p?jt():Bt(()=>ll(he)),null)),er(o)||o._state==="closed"){let be=new TypeError("the destination writable stream closed before all data could be piped to it");I?jt(!0,be):Bt(()=>Ut(i,be),!0,be)}_(Wt());function Ar(){let be=ve;return g(ve,()=>be!==ve?Ar():void 0)}function fr(be,xe,Ue){be._state==="errored"?Ue(be._storedError):E(xe,Ue)}function st(be,xe,Ue){be._state==="closed"?Ue():D(xe,Ue)}function Bt(be,xe,Ue){if(ge)return;ge=!0,o._state==="writable"&&!er(o)?D(Ar(),Ft):Ft();function Ft(){return F(be(),()=>Wr(xe,Ue),Sr=>Wr(!0,Sr)),null}}function jt(be,xe){ge||(ge=!0,o._state==="writable"&&!er(o)?D(Ar(),()=>Wr(be,xe)):Wr(be,xe))}function Wr(be,xe){return ba(he),pe(te),z!==void 0&&z.removeEventListener("abort",Le),be?Ae(xe):Ce(void 0),null}})}class pr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!bu(this))throw vu("desiredSize");return yn(this)}close(){if(!bu(this))throw vu("close");if(!li(this))throw new TypeError("The stream is not in a state that permits close");Lr(this)}enqueue(o=void 0){if(!bu(this))throw vu("enqueue");if(!li(this))throw new TypeError("The stream is not in a state that permits enqueue");return si(this,o)}error(o=void 0){if(!bu(this))throw vu("error");Lt(this,o)}[Z](o){B(this);let p=this._cancelAlgorithm(o);return Eu(this),p}[q](o){let p=this._controlledReadableStream;if(this._queue.length>0){let x=Zr(this);this._closeRequested&&this._queue.length===0?(Eu(this),ji(p)):Pi(this),o._chunkSteps(x)}else ie(p,o),Pi(this)}[K](){}}Object.defineProperties(pr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),n(pr.prototype.close,"close"),n(pr.prototype.enqueue,"enqueue"),n(pr.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function bu(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableStream")?!1:i instanceof pr}function Pi(i){if(!Ba(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let o=i._pullAlgorithm();F(o,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Pi(i)),null),p=>(Lt(i,p),null))}function Ba(i){let o=i._controlledReadableStream;return!li(i)||!i._started?!1:!!(wr(o)&&le(o)>0||yn(i)>0)}function Eu(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0,i._strategySizeAlgorithm=void 0}function Lr(i){if(!li(i))return;let o=i._controlledReadableStream;i._closeRequested=!0,i._queue.length===0&&(Eu(i),ji(o))}function si(i,o){if(!li(i))return;let p=i._controlledReadableStream;if(wr(p)&&le(p)>0)ae(p,o,!1);else{let x;try{x=i._strategySizeAlgorithm(o)}catch(I){throw Lt(i,I),I}try{$i(i,o,x)}catch(I){throw Lt(i,I),I}}Pi(i)}function Lt(i,o){let p=i._controlledReadableStream;p._state==="readable"&&(B(i),Eu(i),Ta(p,o))}function yn(i){let o=i._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:i._strategyHWM-i._queueTotalSize}function Dl(i){return!Ba(i)}function li(i){let o=i._controlledReadableStream._state;return!i._closeRequested&&o==="readable"}function xa(i,o,p,x,I,z,te){o._controlledReadableStream=i,o._queue=void 0,o._queueTotalSize=void 0,B(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=te,o._strategyHWM=z,o._pullAlgorithm=x,o._cancelAlgorithm=I,i._readableStreamController=o;let he=p();F(h(he),()=>(o._started=!0,Pi(o),null),ge=>(Lt(o,ge),null))}function Bl(i,o,p,x){let I=Object.create(pr.prototype),z,te,he;o.start!==void 0?z=()=>o.start(I):z=()=>{},o.pull!==void 0?te=()=>o.pull(I):te=()=>h(void 0),o.cancel!==void 0?he=ge=>o.cancel(ge):he=()=>h(void 0),xa(i,I,z,te,he,p,x)}function vu(i){return new TypeError(`ReadableStreamDefaultController.prototype.${i} can only be used on a ReadableStreamDefaultController`)}function xl(i,o){return Ee(i._readableStreamController)?Pl(i):kl(i)}function kl(i,o){let p=H(i),x=!1,I=!1,z=!1,te=!1,he,ge,ve,Ce,Ae,Le=m(st=>{Ae=st});function Wt(){return x?(I=!0,h(void 0)):(x=!0,Me(p,{_chunkSteps:st=>{b(()=>{I=!1;let Bt=st,jt=st;z||si(ve._readableStreamController,Bt),te||si(Ce._readableStreamController,jt),x=!1,I&&Wt()})},_closeSteps:()=>{x=!1,z||Lr(ve._readableStreamController),te||Lr(Ce._readableStreamController),(!z||!te)&&Ae(void 0)},_errorSteps:()=>{x=!1}}),h(void 0))}function di(st){if(z=!0,he=st,te){let Bt=et([he,ge]),jt=Ut(i,Bt);Ae(jt)}return Le}function Ar(st){if(te=!0,ge=st,z){let Bt=et([he,ge]),jt=Ut(i,Bt);Ae(jt)}return Le}function fr(){}return ve=Ti(fr,Wt,di),Ce=Ti(fr,Wt,Ar),E(p._closedPromise,st=>(Lt(ve._readableStreamController,st),Lt(Ce._readableStreamController,st),(!z||!te)&&Ae(void 0),null)),[ve,Ce]}function Pl(i){let o=H(i),p=!1,x=!1,I=!1,z=!1,te=!1,he,ge,ve,Ce,Ae,Le=m(be=>{Ae=be});function Wt(be){E(be._closedPromise,xe=>(be!==o||(it(ve._readableStreamController,xe),it(Ce._readableStreamController,xe),(!z||!te)&&Ae(void 0)),null))}function di(){vr(o)&&(pe(o),o=H(i),Wt(o)),Me(o,{_chunkSteps:be=>{b(()=>{x=!1,I=!1;let xe=be,Ue=be;if(!z&&!te)try{Ue=nu(be)}catch(Ft){it(ve._readableStreamController,Ft),it(Ce._readableStreamController,Ft),Ae(Ut(i,Ft));return}z||Mt(ve._readableStreamController,xe),te||Mt(Ce._readableStreamController,Ue),p=!1,x?fr():I&&st()})},_closeSteps:()=>{p=!1,z||Pt(ve._readableStreamController),te||Pt(Ce._readableStreamController),ve._readableStreamController._pendingPullIntos.length>0&&ei(ve._readableStreamController,0),Ce._readableStreamController._pendingPullIntos.length>0&&ei(Ce._readableStreamController,0),(!z||!te)&&Ae(void 0)},_errorSteps:()=>{p=!1}})}function Ar(be,xe){ke(o)&&(pe(o),o=cu(i),Wt(o));let Ue=xe?Ce:ve,Ft=xe?ve:Ce;cr(o,be,1,{_chunkSteps:Sr=>{b(()=>{x=!1,I=!1;let pi=xe?te:z;if(xe?z:te)pi||ti(Ue._readableStreamController,Sr);else{let fi;try{fi=nu(Sr)}catch(_n){it(Ue._readableStreamController,_n),it(Ft._readableStreamController,_n),Ae(Ut(i,_n));return}pi||ti(Ue._readableStreamController,Sr),Mt(Ft._readableStreamController,fi)}p=!1,x?fr():I&&st()})},_closeSteps:Sr=>{p=!1;let pi=xe?te:z,fi=xe?z:te;pi||Pt(Ue._readableStreamController),fi||Pt(Ft._readableStreamController),Sr!==void 0&&(pi||ti(Ue._readableStreamController,Sr),!fi&&Ft._readableStreamController._pendingPullIntos.length>0&&ei(Ft._readableStreamController,0)),(!pi||!fi)&&Ae(void 0)},_errorSteps:()=>{p=!1}})}function fr(){if(p)return x=!0,h(void 0);p=!0;let be=Xt(ve._readableStreamController);return be===null?di():Ar(be._view,!1),h(void 0)}function st(){if(p)return I=!0,h(void 0);p=!0;let be=Xt(Ce._readableStreamController);return be===null?di():Ar(be._view,!0),h(void 0)}function Bt(be){if(z=!0,he=be,te){let xe=et([he,ge]),Ue=Ut(i,xe);Ae(Ue)}return Le}function jt(be){if(te=!0,ge=be,z){let xe=et([he,ge]),Ue=Ut(i,xe);Ae(Ue)}return Le}function Wr(){}return ve=Pa(Wr,fr,Bt),Ce=Pa(Wr,st,jt),Wt(o),[ve,Ce]}function Tl(i){return u(i)&&typeof i.getReader<"u"}function jl(i){return Tl(i)?Ol(i.getReader()):Rl(i)}function Rl(i){let o,p=ru(i,"async"),x=a;function I(){let te;try{te=iu(p)}catch(ge){return y(ge)}let he=h(te);return f(he,ge=>{if(!u(ge))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(nn(ge))Lr(o._readableStreamController);else{let ve=Si(ge);si(o._readableStreamController,ve)}})}function z(te){let he=p.iterator,ge;try{ge=Jr(he,"return")}catch(Ae){return y(Ae)}if(ge===void 0)return h(void 0);let ve;try{ve=w(ge,he,[te])}catch(Ae){return y(Ae)}let Ce=h(ve);return f(Ce,Ae=>{if(!u(Ae))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return o=Ti(x,I,z,0),o}function Ol(i){let o,p=a;function x(){let z;try{z=i.read()}catch(te){return y(te)}return f(z,te=>{if(!u(te))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(te.done)Lr(o._readableStreamController);else{let he=te.value;si(o._readableStreamController,he)}})}function I(z){try{return h(i.cancel(z))}catch(te){return y(te)}}return o=Ti(p,x,I,0),o}function Nl(i,o){L(i,o);let p=i,x=p?.autoAllocateChunkSize,I=p?.cancel,z=p?.pull,te=p?.start,he=p?.type;return{autoAllocateChunkSize:x===void 0?void 0:me(x,`${o} has member 'autoAllocateChunkSize' that`),cancel:I===void 0?void 0:Il(I,p,`${o} has member 'cancel' that`),pull:z===void 0?void 0:ql(z,p,`${o} has member 'pull' that`),start:te===void 0?void 0:Ml(te,p,`${o} has member 'start' that`),type:he===void 0?void 0:Ll(he,`${o} has member 'type' that`)}}function Il(i,o,p){return X(i,p),x=>$(i,o,[x])}function ql(i,o,p){return X(i,p),x=>$(i,o,[x])}function Ml(i,o,p){return X(i,p),x=>w(i,o,[x])}function Ll(i,o){if(i=`${i}`,i!=="bytes")throw new TypeError(`${o} '${i}' is not a valid enumeration value for ReadableStreamType`);return i}function Ul(i,o){return L(i,o),{preventCancel:!!i?.preventCancel}}function ka(i,o){L(i,o);let p=i?.preventAbort,x=i?.preventCancel,I=i?.preventClose,z=i?.signal;return z!==void 0&&Wl(z,`${o} has member 'signal' that`),{preventAbort:!!p,preventCancel:!!x,preventClose:!!I,signal:z}}function Wl(i,o){if(!Qs(i))throw new TypeError(`${o} is not an AbortSignal.`)}function zl(i,o){L(i,o);let p=i?.readable;Oe(p,"readable","ReadableWritablePair"),N(p,`${o} has member 'readable' that`);let x=i?.writable;return Oe(x,"writable","ReadableWritablePair"),pa(x,`${o} has member 'writable' that`),{readable:p,writable:x}}class lt{constructor(o={},p={}){o===void 0?o=null:de(o,"First parameter");let x=Bi(p,"Second parameter"),I=Nl(o,"First parameter");if(bn(this),I.type==="bytes"){if(x.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let z=Ir(x,0);su(this,I,z)}else{let z=ui(x),te=Ir(x,1);Bl(this,I,te,z)}}get locked(){if(!_r(this))throw Ur("locked");return wr(this)}cancel(o=void 0){return _r(this)?wr(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):Ut(this,o):y(Ur("cancel"))}getReader(o=void 0){if(!_r(this))throw Ur("getReader");return Or(o,"First parameter").mode===void 0?H(this):cu(this)}pipeThrough(o,p={}){if(!_r(this))throw Ur("pipeThrough");Fe(o,1,"pipeThrough");let x=zl(o,"First parameter"),I=ka(p,"Second parameter");if(wr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ai(x.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let z=Da(this,x.writable,I.preventClose,I.preventAbort,I.preventCancel,I.signal);return _(z),x.readable}pipeTo(o,p={}){if(!_r(this))return y(Ur("pipeTo"));if(o===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!ni(o))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let x;try{x=ka(p,"Second parameter")}catch(I){return y(I)}return wr(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ai(o)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Da(this,o,x.preventClose,x.preventAbort,x.preventCancel,x.signal)}tee(){if(!_r(this))throw Ur("tee");let o=xl(this);return et(o)}values(o=void 0){if(!_r(this))throw Ur("values");let p=Ul(o,"First parameter");return De(this,p.preventCancel)}[Qt](o){return this.values(o)}static from(o){return jl(o)}}Object.defineProperties(lt,{from:{enumerable:!0}}),Object.defineProperties(lt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),n(lt.from,"from"),n(lt.prototype.cancel,"cancel"),n(lt.prototype.getReader,"getReader"),n(lt.prototype.pipeThrough,"pipeThrough"),n(lt.prototype.pipeTo,"pipeTo"),n(lt.prototype.tee,"tee"),n(lt.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(lt.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(lt.prototype,Qt,{value:lt.prototype.values,writable:!0,configurable:!0});function Ti(i,o,p,x=1,I=()=>1){let z=Object.create(lt.prototype);bn(z);let te=Object.create(pr.prototype);return xa(z,te,i,o,p,x,I),z}function Pa(i,o,p){let x=Object.create(lt.prototype);bn(x);let I=Object.create(fe.prototype);return ou(x,I,i,o,p,0,void 0),x}function bn(i){i._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1}function _r(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_readableStreamController")?!1:i instanceof lt}function wr(i){return i._reader!==void 0}function Ut(i,o){if(i._disturbed=!0,i._state==="closed")return h(void 0);if(i._state==="errored")return y(i._storedError);ji(i);let p=i._reader;if(p!==void 0&&vr(p)){let I=p._readIntoRequests;p._readIntoRequests=new S,I.forEach(z=>{z._closeSteps(void 0)})}let x=i._readableStreamController[Z](o);return f(x,a)}function ji(i){i._state="closed";let o=i._reader;if(o!==void 0&&(V(o),ke(o))){let p=o._readRequests;o._readRequests=new S,p.forEach(x=>{x._closeSteps()})}}function Ta(i,o){i._state="errored",i._storedError=o;let p=i._reader;p!==void 0&&(T(p,o),ke(p)?$t(p,o):Di(p,o))}function Ur(i){return new TypeError(`ReadableStream.prototype.${i} can only be used on a ReadableStream`)}function ja(i,o){L(i,o);let p=i?.highWaterMark;return Oe(p,"highWaterMark","QueuingStrategyInit"),{highWaterMark:k(p)}}let Ra=i=>i.byteLength;n(Ra,"size");class Fu{constructor(o){Fe(o,1,"ByteLengthQueuingStrategy"),o=ja(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!Na(this))throw Oa("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Na(this))throw Oa("size");return Ra}}Object.defineProperties(Fu.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fu.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Oa(i){return new TypeError(`ByteLengthQueuingStrategy.prototype.${i} can only be used on a ByteLengthQueuingStrategy`)}function Na(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_byteLengthQueuingStrategyHighWaterMark")?!1:i instanceof Fu}let Ia=()=>1;n(Ia,"size");class _u{constructor(o){Fe(o,1,"CountQueuingStrategy"),o=ja(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!Ma(this))throw qa("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Ma(this))throw qa("size");return Ia}}Object.defineProperties(_u.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(_u.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function qa(i){return new TypeError(`CountQueuingStrategy.prototype.${i} can only be used on a CountQueuingStrategy`)}function Ma(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_countQueuingStrategyHighWaterMark")?!1:i instanceof _u}function Hl(i,o){L(i,o);let p=i?.cancel,x=i?.flush,I=i?.readableType,z=i?.start,te=i?.transform,he=i?.writableType;return{cancel:p===void 0?void 0:Yl(p,i,`${o} has member 'cancel' that`),flush:x===void 0?void 0:Vl(x,i,`${o} has member 'flush' that`),readableType:I,start:z===void 0?void 0:Gl(z,i,`${o} has member 'start' that`),transform:te===void 0?void 0:Kl(te,i,`${o} has member 'transform' that`),writableType:he}}function Vl(i,o,p){return X(i,p),x=>$(i,o,[x])}function Gl(i,o,p){return X(i,p),x=>w(i,o,[x])}function Kl(i,o,p){return X(i,p),(x,I)=>$(i,o,[x,I])}function Yl(i,o,p){return X(i,p),x=>$(i,o,[x])}class wu{constructor(o={},p={},x={}){o===void 0&&(o=null);let I=Bi(p,"Second parameter"),z=Bi(x,"Third parameter"),te=Hl(o,"First parameter");if(te.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(te.writableType!==void 0)throw new RangeError("Invalid writableType specified");let he=Ir(z,0),ge=ui(z),ve=Ir(I,1),Ce=ui(I),Ae,Le=m(Wt=>{Ae=Wt});Ql(this,Le,ve,Ce,he,ge),Zl(this,te),te.start!==void 0?Ae(te.start(this._transformStreamController)):Ae(void 0)}get readable(){if(!La(this))throw Ha("readable");return this._readable}get writable(){if(!La(this))throw Ha("writable");return this._writable}}Object.defineProperties(wu.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(wu.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function Ql(i,o,p,x,I,z){function te(){return o}function he(Le){return tc(i,Le)}function ge(Le){return rc(i,Le)}function ve(){return ic(i)}i._writable=Xs(te,he,ve,ge,p,x);function Ce(){return uc(i)}function Ae(Le){return nc(i,Le)}i._readable=Ti(te,Ce,Ae,I,z),i._backpressure=void 0,i._backpressureChangePromise=void 0,i._backpressureChangePromise_resolve=void 0,Cu(i,!0),i._transformStreamController=void 0}function La(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_transformStreamController")?!1:i instanceof wu}function Ua(i,o){Lt(i._readable._readableStreamController,o),En(i,o)}function En(i,o){Su(i._transformStreamController),xi(i._writable._writableStreamController,o),vn(i)}function vn(i){i._backpressure&&Cu(i,!1)}function Cu(i,o){i._backpressureChangePromise!==void 0&&i._backpressureChangePromise_resolve(),i._backpressureChangePromise=m(p=>{i._backpressureChangePromise_resolve=p}),i._backpressure=o}class Cr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Au(this))throw $u("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return yn(o)}enqueue(o=void 0){if(!Au(this))throw $u("enqueue");Wa(this,o)}error(o=void 0){if(!Au(this))throw $u("error");Xl(this,o)}terminate(){if(!Au(this))throw $u("terminate");ec(this)}}Object.defineProperties(Cr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),n(Cr.prototype.enqueue,"enqueue"),n(Cr.prototype.error,"error"),n(Cr.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Au(i){return!u(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledTransformStream")?!1:i instanceof Cr}function Jl(i,o,p,x,I){o._controlledTransformStream=i,i._transformStreamController=o,o._transformAlgorithm=p,o._flushAlgorithm=x,o._cancelAlgorithm=I,o._finishPromise=void 0,o._finishPromise_resolve=void 0,o._finishPromise_reject=void 0}function Zl(i,o){let p=Object.create(Cr.prototype),x,I,z;o.transform!==void 0?x=te=>o.transform(te,p):x=te=>{try{return Wa(p,te),h(void 0)}catch(he){return y(he)}},o.flush!==void 0?I=()=>o.flush(p):I=()=>h(void 0),o.cancel!==void 0?z=te=>o.cancel(te):z=()=>h(void 0),Jl(i,p,x,I,z)}function Su(i){i._transformAlgorithm=void 0,i._flushAlgorithm=void 0,i._cancelAlgorithm=void 0}function Wa(i,o){let p=i._controlledTransformStream,x=p._readable._readableStreamController;if(!li(x))throw new TypeError("Readable side is not in a state that permits enqueue");try{si(x,o)}catch(I){throw En(p,I),p._readable._storedError}Dl(x)!==p._backpressure&&Cu(p,!0)}function Xl(i,o){Ua(i._controlledTransformStream,o)}function za(i,o){let p=i._transformAlgorithm(o);return f(p,void 0,x=>{throw Ua(i._controlledTransformStream,x),x})}function ec(i){let o=i._controlledTransformStream,p=o._readable._readableStreamController;Lr(p);let x=new TypeError("TransformStream terminated");En(o,x)}function tc(i,o){let p=i._transformStreamController;if(i._backpressure){let x=i._backpressureChangePromise;return f(x,()=>{let I=i._writable;if(I._state==="erroring")throw I._storedError;return za(p,o)})}return za(p,o)}function rc(i,o){let p=i._transformStreamController;if(p._finishPromise!==void 0)return p._finishPromise;let x=i._readable;p._finishPromise=m((z,te)=>{p._finishPromise_resolve=z,p._finishPromise_reject=te});let I=p._cancelAlgorithm(o);return Su(p),F(I,()=>(x._state==="errored"?ci(p,x._storedError):(Lt(x._readableStreamController,o),Fn(p)),null),z=>(Lt(x._readableStreamController,z),ci(p,z),null)),p._finishPromise}function ic(i){let o=i._transformStreamController;if(o._finishPromise!==void 0)return o._finishPromise;let p=i._readable;o._finishPromise=m((I,z)=>{o._finishPromise_resolve=I,o._finishPromise_reject=z});let x=o._flushAlgorithm();return Su(o),F(x,()=>(p._state==="errored"?ci(o,p._storedError):(Lr(p._readableStreamController),Fn(o)),null),I=>(Lt(p._readableStreamController,I),ci(o,I),null)),o._finishPromise}function uc(i){return Cu(i,!1),i._backpressureChangePromise}function nc(i,o){let p=i._transformStreamController;if(p._finishPromise!==void 0)return p._finishPromise;let x=i._writable;p._finishPromise=m((z,te)=>{p._finishPromise_resolve=z,p._finishPromise_reject=te});let I=p._cancelAlgorithm(o);return Su(p),F(I,()=>(x._state==="errored"?ci(p,x._storedError):(xi(x._writableStreamController,o),vn(i),Fn(p)),null),z=>(xi(x._writableStreamController,z),vn(i),ci(p,z),null)),p._finishPromise}function $u(i){return new TypeError(`TransformStreamDefaultController.prototype.${i} can only be used on a TransformStreamDefaultController`)}function Fn(i){i._finishPromise_resolve!==void 0&&(i._finishPromise_resolve(),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}function ci(i,o){i._finishPromise_reject!==void 0&&(_(i._finishPromise),i._finishPromise_reject(o),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}function Ha(i){return new TypeError(`TransformStream.prototype.${i} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=Fu,r.CountQueuingStrategy=_u,r.ReadableByteStreamController=fe,r.ReadableStream=lt,r.ReadableStreamBYOBReader=yt,r.ReadableStreamBYOBRequest=J,r.ReadableStreamDefaultController=pr,r.ReadableStreamDefaultReader=we,r.TransformStream=wu,r.TransformStreamDefaultController=Cr,r.WritableStream=Fr,r.WritableStreamDefaultController=oi,r.WritableStreamDefaultWriter=dr})}),$c=se(()=>{"use strict";if(!globalThis.ReadableStream)try{let e=require("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,Sc())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(t){let r=0,a=this;return new ReadableStream({type:"bytes",async pull(u){let l=await a.slice(r,Math.min(a.size,r+65536)).arrayBuffer();r+=l.byteLength,u.enqueue(new Uint8Array(l)),r===a.size&&u.close()}})})}catch{}});async function*wn(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let a=r.byteOffset,u=r.byteOffset+r.byteLength;for(;a!==u;){let l=Math.min(u-a,Tn),n=r.buffer.slice(a,a+l);a+=n.byteLength,yield new Uint8Array(n)}}else yield r;else{let a=0,u=r;for(;a!==u.size;){let l=await u.slice(a,Math.min(u.size,a+Tn)).arrayBuffer();a+=l.byteLength,yield new Uint8Array(l)}}}var Dc,Tn,Cn,Ga,Vi,Yu=Xi(()=>{"use strict";Dc=pt($c(),1),Tn=65536,Cn=class jn{#e=[];#t="";#r=0;#i="transparent";constructor(t=[],r={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let a=new TextEncoder;for(let l of t){let n;ArrayBuffer.isView(l)?n=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?n=new Uint8Array(l.slice(0)):l instanceof jn?n=l:n=a.encode(`${l}`),this.#r+=ArrayBuffer.isView(n)?n.byteLength:n.size,this.#e.push(n)}this.#i=`${r.endings===void 0?"transparent":r.endings}`;let u=r.type===void 0?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(u)?u:""}get size(){return this.#r}get type(){return this.#t}async text(){let t=new TextDecoder,r="";for await(let a of wn(this.#e,!1))r+=t.decode(a,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let a of wn(this.#e,!1))t.set(a,r),r+=a.length;return t.buffer}stream(){let t=wn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let a=await t.next();a.done?r.close():r.enqueue(a.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,a=""){let{size:u}=this,l=t<0?Math.max(u+t,0):Math.min(t,u),n=r<0?Math.max(u+r,0):Math.min(r,u),s=Math.max(n-l,0),c=this.#e,d=[],m=0;for(let y of c){if(m>=s)break;let g=ArrayBuffer.isView(y)?y.byteLength:y.size;if(l&&g<=l)l-=g,n-=g;else{let F;ArrayBuffer.isView(y)?(F=y.subarray(l,Math.min(g,n)),m+=F.byteLength):(F=y.slice(l,Math.min(g,n)),m+=F.size),n-=g,d.push(F),l=0}}let h=new jn([],{type:String(a).toLowerCase()});return h.#r=s,h.#e=d,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}},Object.defineProperties(Cn.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Ga=Cn,Vi=Ga}),Ka,Ya,Hn,zo=Xi(()=>{"use strict";Yu(),Ka=class extends Vi{#e=0;#t="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),r===null&&(r={});let a=r.lastModified===void 0?Date.now():Number(r.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(t)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof Vi&&/^(File)$/.test(e[Symbol.toStringTag])}},Ya=Ka,Hn=Ya});function Bc(e,t=Vi){var r=`${Rn()}${Rn()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),a=[],u=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((l,n)=>typeof l=="string"?a.push(u+Pu(n)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):a.push(u+Pu(n)+`"; filename="${Pu(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),a.push(`--${r}--`),new t(a,{type:"multipart/form-data; boundary="+r})}var hi,Qa,Ja,Rn,Za,An,Pu,$r,Gi,Vn=Xi(()=>{"use strict";Yu(),zo(),{toStringTag:hi,iterator:Qa,hasInstance:Ja}=Symbol,Rn=Math.random,Za="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),An=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[hi])?[(r=r!==void 0?r+"":t[hi]=="File"?t.name:"blob",e),t.name!==r||t[hi]=="blob"?new Hn([t],r,t):t]:[e,t+""]),Pu=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),$r=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)},Gi=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[hi](){return"FormData"}[Qa](){return this.entries()}static[Ja](e){return e&&typeof e=="object"&&e[hi]==="FormData"&&!Za.some(t=>typeof e[t]!="function")}append(...e){$r("append",arguments,2),this.#e.push(An(...e))}delete(e){$r("delete",arguments,1),e+="",this.#e=this.#e.filter(([t])=>t!==e)}get(e){$r("get",arguments,1),e+="";for(var t=this.#e,r=t.length,a=0;a<r;a++)if(t[a][0]===e)return t[a][1];return null}getAll(e,t){return $r("getAll",arguments,1),t=[],e+="",this.#e.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return $r("has",arguments,1),e+="",this.#e.some(t=>t[0]===e)}forEach(e,t){$r("forEach",arguments,1);for(var[r,a]of this)e.call(t,a,r,this)}set(...e){$r("set",arguments,2);var t=[],r=!0;e=An(...e),this.#e.forEach(a=>{a[0]===e[0]?r&&(r=!t.push(e)):t.push(a)}),r&&t.push(e),this.#e=t}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}}),xc=se((e,t)=>{"use strict";if(!globalThis.DOMException)try{let{MessageChannel:r}=require("worker_threads"),a=new r().port1,u=new ArrayBuffer;a.postMessage(u,[u,u])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}t.exports=globalThis.DOMException}),Xa,kc,Pc,Ho=Xi(()=>{"use strict";Xa=require("node:fs"),kc=pt(xc(),1),zo(),Yu(),{stat:Pc}=Xa.promises}),Vo={};Io(Vo,{toFormData:()=>jc});function Tc(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",a=r.slice(r.lastIndexOf("\\")+1);return a=a.replace(/%22/g,'"'),a=a.replace(/&#(\d{4});/g,(u,l)=>String.fromCharCode(l)),a}async function jc(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let a=new Go(r[1]||r[2]),u,l,n,s,c,d,m=[],h=new Gi,y=f=>{n+=E.decode(f,{stream:!0})},g=f=>{m.push(f)},F=()=>{let f=new Hn(m,d,{type:c});h.append(s,f)},D=()=>{h.append(s,n)},E=new TextDecoder("utf-8");E.decode(),a.onPartBegin=function(){a.onPartData=y,a.onPartEnd=D,u="",l="",n="",s="",c="",d=null,m.length=0},a.onHeaderField=function(f){u+=E.decode(f,{stream:!0})},a.onHeaderValue=function(f){l+=E.decode(f,{stream:!0})},a.onHeaderEnd=function(){if(l+=E.decode(),u=u.toLowerCase(),u==="content-disposition"){let f=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);f&&(s=f[2]||f[3]||""),d=Tc(l),d&&(a.onPartData=g,a.onPartEnd=F)}else u==="content-type"&&(c=l);l="",u=""};for await(let f of e)a.write(f);return a.end(),h}var zt,We,Sn,hr,Ri,Oi,eo,mi,to,ro,io,uo,Dr,Go,Rc=Xi(()=>{"use strict";Ho(),Vn(),zt=0,We={START_BOUNDARY:zt++,HEADER_FIELD_START:zt++,HEADER_FIELD:zt++,HEADER_VALUE_START:zt++,HEADER_VALUE:zt++,HEADER_VALUE_ALMOST_DONE:zt++,HEADERS_ALMOST_DONE:zt++,PART_DATA_START:zt++,PART_DATA:zt++,END:zt++},Sn=1,hr={PART_BOUNDARY:Sn,LAST_BOUNDARY:Sn*=2},Ri=10,Oi=13,eo=32,mi=45,to=58,ro=97,io=122,uo=e=>e|32,Dr=()=>{},Go=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Dr,this.onHeaderField=Dr,this.onHeadersEnd=Dr,this.onHeaderValue=Dr,this.onPartBegin=Dr,this.onPartData=Dr,this.onPartEnd=Dr,this.boundaryChars={},e=`\r
--`+e;let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r),this.boundaryChars[t[r]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=We.START_BOUNDARY}write(e){let t=0,r=e.length,a=this.index,{lookbehind:u,boundary:l,boundaryChars:n,index:s,state:c,flags:d}=this,m=this.boundary.length,h=m-1,y=e.length,g,F,D=b=>{this[b+"Mark"]=t},E=b=>{delete this[b+"Mark"]},f=(b,w,$,v)=>{(w===void 0||w!==$)&&this[b](v&&v.subarray(w,$))},_=(b,w)=>{let $=b+"Mark";$ in this&&(w?(f(b,this[$],t,e),delete this[$]):(f(b,this[$],e.length,e),this[$]=0))};for(t=0;t<r;t++)switch(g=e[t],c){case We.START_BOUNDARY:if(s===l.length-2){if(g===mi)d|=hr.LAST_BOUNDARY;else if(g!==Oi)return;s++;break}else if(s-1===l.length-2){if(d&hr.LAST_BOUNDARY&&g===mi)c=We.END,d=0;else if(!(d&hr.LAST_BOUNDARY)&&g===Ri)s=0,f("onPartBegin"),c=We.HEADER_FIELD_START;else return;break}g!==l[s+2]&&(s=-2),g===l[s+2]&&s++;break;case We.HEADER_FIELD_START:c=We.HEADER_FIELD,D("onHeaderField"),s=0;case We.HEADER_FIELD:if(g===Oi){E("onHeaderField"),c=We.HEADERS_ALMOST_DONE;break}if(s++,g===mi)break;if(g===to){if(s===1)return;_("onHeaderField",!0),c=We.HEADER_VALUE_START;break}if(F=uo(g),F<ro||F>io)return;break;case We.HEADER_VALUE_START:if(g===eo)break;D("onHeaderValue"),c=We.HEADER_VALUE;case We.HEADER_VALUE:g===Oi&&(_("onHeaderValue",!0),f("onHeaderEnd"),c=We.HEADER_VALUE_ALMOST_DONE);break;case We.HEADER_VALUE_ALMOST_DONE:if(g!==Ri)return;c=We.HEADER_FIELD_START;break;case We.HEADERS_ALMOST_DONE:if(g!==Ri)return;f("onHeadersEnd"),c=We.PART_DATA_START;break;case We.PART_DATA_START:c=We.PART_DATA,D("onPartData");case We.PART_DATA:if(a=s,s===0){for(t+=h;t<y&&!(e[t]in n);)t+=m;t-=h,g=e[t]}if(s<l.length)l[s]===g?(s===0&&_("onPartData",!0),s++):s=0;else if(s===l.length)s++,g===Oi?d|=hr.PART_BOUNDARY:g===mi?d|=hr.LAST_BOUNDARY:s=0;else if(s-1===l.length)if(d&hr.PART_BOUNDARY){if(s=0,g===Ri){d&=~hr.PART_BOUNDARY,f("onPartEnd"),f("onPartBegin"),c=We.HEADER_FIELD_START;break}}else d&hr.LAST_BOUNDARY&&g===mi?(f("onPartEnd"),c=We.END,d=0):s=0;if(s>0)u[s-1]=g;else if(a>0){let b=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);f("onPartData",0,a,b),a=0,D("onPartData"),t--}break;case We.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}_("onHeaderField"),_("onHeaderValue"),_("onPartData"),this.index=s,this.state=c,this.flags=d}end(){if(this.state===We.HEADER_FIELD_START&&this.index===0||this.state===We.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==We.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}}),Ru=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(f){if(super(),!e.IDENTIFIER.test(f))throw new Error("CodeGen: name must be a valid identifier");this.str=f}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var a=class extends t{constructor(f){super(),this._items=typeof f=="string"?[f]:f}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let f=this._items[0];return f===""||f==='""'}get str(){var f;return(f=this._str)!==null&&f!==void 0?f:this._str=this._items.reduce((_,b)=>`${_}${b}`,"")}get names(){var f;return(f=this._names)!==null&&f!==void 0?f:this._names=this._items.reduce((_,b)=>(b instanceof r&&(_[b.str]=(_[b.str]||0)+1),_),{})}};e._Code=a,e.nil=new a("");function u(f,..._){let b=[f[0]],w=0;for(;w<_.length;)s(b,_[w]),b.push(f[++w]);return new a(b)}e._=u;var l=new a("+");function n(f,..._){let b=[g(f[0])],w=0;for(;w<_.length;)b.push(l),s(b,_[w]),b.push(l,g(f[++w]));return c(b),new a(b)}e.str=n;function s(f,_){_ instanceof a?f.push(..._._items):_ instanceof r?f.push(_):f.push(h(_))}e.addCodeArg=s;function c(f){let _=1;for(;_<f.length-1;){if(f[_]===l){let b=d(f[_-1],f[_+1]);if(b!==void 0){f.splice(_-1,3,b);continue}f[_++]="+"}_++}}function d(f,_){if(_==='""')return f;if(f==='""')return _;if(typeof f=="string")return _ instanceof r||f[f.length-1]!=='"'?void 0:typeof _!="string"?`${f.slice(0,-1)}${_}"`:_[0]==='"'?f.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(f instanceof r))return`"${f}${_.slice(1)}`}function m(f,_){return _.emptyStr()?f:f.emptyStr()?_:n`${f}${_}`}e.strConcat=m;function h(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:g(Array.isArray(f)?f.join(","):f)}function y(f){return new a(g(f))}e.stringify=y;function g(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function F(f){return typeof f=="string"&&e.IDENTIFIER.test(f)?new a(`.${f}`):u`[${f}]`}e.getProperty=F;function D(f){if(typeof f=="string"&&e.IDENTIFIER.test(f))return new a(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}e.getEsmExportName=D;function E(f){return new a(f.toString())}e.regexpCode=E}),no=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Ru(),r=class extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}},a;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(a=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var u=class{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){let d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,m;if(!((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0)&&m.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}};e.Scope=u;var l=class extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:m}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${m}]`}};e.ValueScopeName=l;var n=(0,t._)`\n`,s=class extends u{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?n:t.nil}}get(){return this._scope}name(c){return new l(c,this._newName(c))}value(c,d){var m;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let h=this.toName(c),{prefix:y}=h,g=(m=d.key)!==null&&m!==void 0?m:d.ref,F=this._values[y];if(F){let f=F.get(g);if(f)return f}else F=this._values[y]=new Map;F.set(g,h);let D=this._scope[y]||(this._scope[y]=[]),E=D.length;return D[E]=d.ref,h.setValue(d,{property:y,itemIndex:E}),h}getValue(c,d){let m=this._values[c];if(m)return m.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${c}${m.scopePath}`})}scopeCode(c=this._values,d,m){return this._reduceValues(c,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},d,m)}_reduceValues(c,d,m={},h){let y=t.nil;for(let g in c){let F=c[g];if(!F)continue;let D=m[g]=m[g]||new Map;F.forEach(E=>{if(D.has(E))return;D.set(E,a.Started);let f=d(E);if(f){let _=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${_} ${E} = ${f};${this.opts._n}`}else if(f=h?.(E))y=(0,t._)`${y}${f}${this.opts._n}`;else throw new r(E);D.set(E,a.Completed)})}return y}};e.ValueScope=s}),Se=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Ru(),r=no(),a=Ru();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return a.Name}});var u=no();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var l=class{optimizeNodes(){return this}optimizeNames(C,P){return this}},n=class extends l{constructor(C,P,A){super(),this.varKind=C,this.name=P,this.rhs=A}render({es5:C,_n:P}){let A=C?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${A} ${this.name}${L};`+P}optimizeNames(C,P){if(C[this.name.str])return this.rhs&&(this.rhs=ee(this.rhs,C,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends l{constructor(C,P,A){super(),this.lhs=C,this.rhs=P,this.sideEffects=A}render({_n:C}){return`${this.lhs} = ${this.rhs};`+C}optimizeNames(C,P){if(!(this.lhs instanceof t.Name&&!C[this.lhs.str]&&!this.sideEffects))return this.rhs=ee(this.rhs,C,P),this}get names(){let C=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ue(C,this.rhs)}},c=class extends s{constructor(C,P,A,L){super(C,A,L),this.op=P}render({_n:C}){return`${this.lhs} ${this.op}= ${this.rhs};`+C}},d=class extends l{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`${this.label}:`+C}},m=class extends l{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`break${this.label?` ${this.label}`:""};`+C}},h=class extends l{constructor(C){super(),this.error=C}render({_n:C}){return`throw ${this.error};`+C}get names(){return this.error.names}},y=class extends l{constructor(C){super(),this.code=C}render({_n:C}){return`${this.code};`+C}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(C,P){return this.code=ee(this.code,C,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends l{constructor(C=[]){super(),this.nodes=C}render(C){return this.nodes.reduce((P,A)=>P+A.render(C),"")}optimizeNodes(){let{nodes:C}=this,P=C.length;for(;P--;){let A=C[P].optimizeNodes();Array.isArray(A)?C.splice(P,1,...A):A?C[P]=A:C.splice(P,1)}return C.length>0?this:void 0}optimizeNames(C,P){let{nodes:A}=this,L=A.length;for(;L--;){let X=A[L];X.optimizeNames(C,P)||(pe(C,X.names),A.splice(L,1))}return A.length>0?this:void 0}get names(){return this.nodes.reduce((C,P)=>K(C,P.names),{})}},F=class extends g{render(C){return"{"+C._n+super.render(C)+"}"+C._n}},D=class extends g{},E=class extends F{};E.kind="else";var f=class Tu extends F{constructor(P,A){super(A),this.condition=P}render(P){let A=`if(${this.condition})`+super.render(P);return this.else&&(A+="else "+this.else.render(P)),A}optimizeNodes(){super.optimizeNodes();let P=this.condition;if(P===!0)return this.nodes;let A=this.else;if(A){let L=A.optimizeNodes();A=this.else=Array.isArray(L)?new E(L):L}if(A)return P===!1?A instanceof Tu?A:A.nodes:this.nodes.length?this:new Tu(Q(P),A instanceof Tu?[A]:A.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,A){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(P,A),!!(super.optimizeNames(P,A)||this.else))return this.condition=ee(this.condition,P,A),this}get names(){let P=super.names;return ue(P,this.condition),this.else&&K(P,this.else.names),P}};f.kind="if";var _=class extends F{};_.kind="for";var b=class extends _{constructor(C){super(),this.iteration=C}render(C){return`for(${this.iteration})`+super.render(C)}optimizeNames(C,P){if(super.optimizeNames(C,P))return this.iteration=ee(this.iteration,C,P),this}get names(){return K(super.names,this.iteration.names)}},w=class extends _{constructor(C,P,A,L){super(),this.varKind=C,this.name=P,this.from=A,this.to=L}render(C){let P=C.es5?r.varKinds.var:this.varKind,{name:A,from:L,to:X}=this;return`for(${P} ${A}=${L}; ${A}<${X}; ${A}++)`+super.render(C)}get names(){let C=ue(super.names,this.from);return ue(C,this.to)}},$=class extends _{constructor(C,P,A,L){super(),this.loop=C,this.varKind=P,this.name=A,this.iterable=L}render(C){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(C)}optimizeNames(C,P){if(super.optimizeNames(C,P))return this.iterable=ee(this.iterable,C,P),this}get names(){return K(super.names,this.iterable.names)}},v=class extends F{constructor(C,P,A){super(),this.name=C,this.args=P,this.async=A}render(C){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(C)}};v.kind="func";var S=class extends g{render(C){return"return "+super.render(C)}};S.kind="return";var j=class extends F{render(C){let P="try"+super.render(C);return this.catch&&(P+=this.catch.render(C)),this.finally&&(P+=this.finally.render(C)),P}optimizeNodes(){var C,P;return super.optimizeNodes(),(C=this.catch)===null||C===void 0||C.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(C,P){var A,L;return super.optimizeNames(C,P),(A=this.catch)===null||A===void 0||A.optimizeNames(C,P),(L=this.finally)===null||L===void 0||L.optimizeNames(C,P),this}get names(){let C=super.names;return this.catch&&K(C,this.catch.names),this.finally&&K(C,this.finally.names),C}},W=class extends F{constructor(C){super(),this.error=C}render(C){return`catch(${this.error})`+super.render(C)}};W.kind="catch";var Z=class extends F{render(C){return"finally"+super.render(C)}};Z.kind="finally";var q=class{constructor(C,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=C,this._scope=new r.Scope({parent:C}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(C){return this._scope.name(C)}scopeName(C){return this._extScope.name(C)}scopeValue(C,P){let A=this._extScope.value(C,P);return(this._values[A.prefix]||(this._values[A.prefix]=new Set)).add(A),A}getScopeValue(C,P){return this._extScope.getValue(C,P)}scopeRefs(C){return this._extScope.scopeRefs(C,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(C,P,A,L){let X=this._scope.toName(P);return A!==void 0&&L&&(this._constants[X.str]=A),this._leafNode(new n(C,X,A)),X}const(C,P,A){return this._def(r.varKinds.const,C,P,A)}let(C,P,A){return this._def(r.varKinds.let,C,P,A)}var(C,P,A){return this._def(r.varKinds.var,C,P,A)}assign(C,P,A){return this._leafNode(new s(C,P,A))}add(C,P){return this._leafNode(new c(C,e.operators.ADD,P))}code(C){return typeof C=="function"?C():C!==t.nil&&this._leafNode(new y(C)),this}object(...C){let P=["{"];for(let[A,L]of C)P.length>1&&P.push(","),P.push(A),(A!==L||this.opts.es5)&&(P.push(":"),(0,t.addCodeArg)(P,L));return P.push("}"),new t._Code(P)}if(C,P,A){if(this._blockNode(new f(C)),P&&A)this.code(P).else().code(A).endIf();else if(P)this.code(P).endIf();else if(A)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(C){return this._elseNode(new f(C))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(f,E)}_for(C,P){return this._blockNode(C),P&&this.code(P).endFor(),this}for(C,P){return this._for(new b(C),P)}forRange(C,P,A,L,X=this.opts.es5?r.varKinds.var:r.varKinds.let){let ce=this._scope.toName(C);return this._for(new w(X,ce,P,A),()=>L(ce))}forOf(C,P,A,L=r.varKinds.const){let X=this._scope.toName(C);if(this.opts.es5){let ce=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,t._)`${ce}.length`,de=>{this.var(X,(0,t._)`${ce}[${de}]`),A(X)})}return this._for(new $("of",L,X,P),()=>A(X))}forIn(C,P,A,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(C,(0,t._)`Object.keys(${P})`,A);let X=this._scope.toName(C);return this._for(new $("in",L,X,P),()=>A(X))}endFor(){return this._endBlockNode(_)}label(C){return this._leafNode(new d(C))}break(C){return this._leafNode(new m(C))}return(C){let P=new S;if(this._blockNode(P),this.code(C),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(C,P,A){if(!P&&!A)throw new Error('CodeGen: "try" without "catch" and "finally"');let L=new j;if(this._blockNode(L),this.code(C),P){let X=this.name("e");this._currNode=L.catch=new W(X),P(X)}return A&&(this._currNode=L.finally=new Z,this.code(A)),this._endBlockNode(W,Z)}throw(C){return this._leafNode(new h(C))}block(C,P){return this._blockStarts.push(this._nodes.length),C&&this.code(C).endBlock(P),this}endBlock(C){let P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");let A=this._nodes.length-P;if(A<0||C!==void 0&&A!==C)throw new Error(`CodeGen: wrong number of nodes: ${A} vs ${C} expected`);return this._nodes.length=P,this}func(C,P=t.nil,A,L){return this._blockNode(new v(C,P,A)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(v)}optimize(C=1){for(;C-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(C){return this._currNode.nodes.push(C),this}_blockNode(C){this._currNode.nodes.push(C),this._nodes.push(C)}_endBlockNode(C,P){let A=this._currNode;if(A instanceof C||P&&A instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${C.kind}/${P.kind}`:C.kind}"`)}_elseNode(C){let P=this._currNode;if(!(P instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=C,this}get _root(){return this._nodes[0]}get _currNode(){let C=this._nodes;return C[C.length-1]}set _currNode(C){let P=this._nodes;P[P.length-1]=C}};e.CodeGen=q;function K(C,P){for(let A in P)C[A]=(C[A]||0)+(P[A]||0);return C}function ue(C,P){return P instanceof t._CodeOrName?K(C,P.names):C}function ee(C,P,A){if(C instanceof t.Name)return L(C);if(!X(C))return C;return new t._Code(C._items.reduce((ce,de)=>(de instanceof t.Name&&(de=L(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function L(ce){let de=A[ce.str];return de===void 0||P[ce.str]!==1?ce:(delete P[ce.str],de)}function X(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&P[de.str]===1&&A[de.str]!==void 0)}}function pe(C,P){for(let A in P)C[A]=(C[A]||0)-(P[A]||0)}function Q(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${V(C)}`}e.not=Q;var Y=M(e.operators.AND);function oe(...C){return C.reduce(Y)}e.and=oe;var ne=M(e.operators.OR);function T(...C){return C.reduce(ne)}e.or=T;function M(C){return(P,A)=>P===t.nil?A:A===t.nil?P:(0,t._)`${V(P)} ${C} ${V(A)}`}function V(C){return C instanceof t.Name?C:(0,t._)`(${C})`}}),je=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Se(),r=Ru();function a(v){let S={};for(let j of v)S[j]=!0;return S}e.toHash=a;function u(v,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(l(v,S),!n(S,v.self.RULES.all))}e.alwaysValidSchema=u;function l(v,S=v.schema){let{opts:j,self:W}=v;if(!j.strictSchema||typeof S=="boolean")return;let Z=W.RULES.keywords;for(let q in S)Z[q]||$(v,`unknown keyword: "${q}"`)}e.checkUnknownRules=l;function n(v,S){if(typeof v=="boolean")return!v;for(let j in v)if(S[j])return!0;return!1}e.schemaHasRules=n;function s(v,S){if(typeof v=="boolean")return!v;for(let j in v)if(j!=="$ref"&&S.all[j])return!0;return!1}e.schemaHasRulesButRef=s;function c({topSchemaRef:v,schemaPath:S},j,W,Z){if(!Z){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${v}${S}${(0,t.getProperty)(W)}`}e.schemaRefOrVal=c;function d(v){return y(decodeURIComponent(v))}e.unescapeFragment=d;function m(v){return encodeURIComponent(h(v))}e.escapeFragment=m;function h(v){return typeof v=="number"?`${v}`:v.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function y(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=y;function g(v,S){if(Array.isArray(v))for(let j of v)S(j);else S(v)}e.eachItem=g;function F({mergeNames:v,mergeToName:S,mergeValues:j,resultToName:W}){return(Z,q,K,ue)=>{let ee=K===void 0?q:K instanceof t.Name?(q instanceof t.Name?v(Z,q,K):S(Z,q,K),K):q instanceof t.Name?(S(Z,K,q),q):j(q,K);return ue===t.Name&&!(ee instanceof t.Name)?W(Z,ee):ee}}e.mergeEvaluated={props:F({mergeNames:(v,S,j)=>v.if((0,t._)`${j} !== true && ${S} !== undefined`,()=>{v.if((0,t._)`${S} === true`,()=>v.assign(j,!0),()=>v.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${S})`))}),mergeToName:(v,S,j)=>v.if((0,t._)`${j} !== true`,()=>{S===!0?v.assign(j,!0):(v.assign(j,(0,t._)`${j} || {}`),E(v,j,S))}),mergeValues:(v,S)=>v===!0?!0:{...v,...S},resultToName:D}),items:F({mergeNames:(v,S,j)=>v.if((0,t._)`${j} !== true && ${S} !== undefined`,()=>v.assign(j,(0,t._)`${S} === true ? true : ${j} > ${S} ? ${j} : ${S}`)),mergeToName:(v,S,j)=>v.if((0,t._)`${j} !== true`,()=>v.assign(j,S===!0?!0:(0,t._)`${j} > ${S} ? ${j} : ${S}`)),mergeValues:(v,S)=>v===!0?!0:Math.max(v,S),resultToName:(v,S)=>v.var("items",S)})};function D(v,S){if(S===!0)return v.var("props",!0);let j=v.var("props",(0,t._)`{}`);return S!==void 0&&E(v,j,S),j}e.evaluatedPropsToName=D;function E(v,S,j){Object.keys(j).forEach(W=>v.assign((0,t._)`${S}${(0,t.getProperty)(W)}`,!0))}e.setEvaluated=E;var f={};function _(v,S){return v.scopeValue("func",{ref:S,code:f[S.code]||(f[S.code]=new r._Code(S.code))})}e.useFunc=_;var b;(function(v){v[v.Num=0]="Num",v[v.Str=1]="Str"})(b=e.Type||(e.Type={}));function w(v,S,j){if(v instanceof t.Name){let W=S===b.Num;return j?W?(0,t._)`"[" + ${v} + "]"`:(0,t._)`"['" + ${v} + "']"`:W?(0,t._)`"/" + ${v}`:(0,t._)`"/" + ${v}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(v).toString():"/"+h(v)}e.getErrorPath=w;function $(v,S,j=v.opts.strictSchema){if(j){if(S=`strict mode: ${S}`,j===!0)throw new Error(S);v.self.logger.warn(S)}}e.checkStrictMode=$}),Pr=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}),Qu=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Se(),r=je(),a=Pr();e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:f})=>f?(0,t.str)`"${E}" keyword must be ${f} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function u(E,f=e.keywordError,_,b){let{it:w}=E,{gen:$,compositeRule:v,allErrors:S}=w,j=h(E,f,_);b??(v||S)?c($,j):d(w,(0,t._)`[${j}]`)}e.reportError=u;function l(E,f=e.keywordError,_){let{it:b}=E,{gen:w,compositeRule:$,allErrors:v}=b,S=h(E,f,_);c(w,S),$||v||d(b,a.default.vErrors)}e.reportExtraError=l;function n(E,f){E.assign(a.default.errors,f),E.if((0,t._)`${a.default.vErrors} !== null`,()=>E.if(f,()=>E.assign((0,t._)`${a.default.vErrors}.length`,f),()=>E.assign(a.default.vErrors,null)))}e.resetErrorsCount=n;function s({gen:E,keyword:f,schemaValue:_,data:b,errsCount:w,it:$}){if(w===void 0)throw new Error("ajv implementation error");let v=E.name("err");E.forRange("i",w,a.default.errors,S=>{E.const(v,(0,t._)`${a.default.vErrors}[${S}]`),E.if((0,t._)`${v}.instancePath === undefined`,()=>E.assign((0,t._)`${v}.instancePath`,(0,t.strConcat)(a.default.instancePath,$.errorPath))),E.assign((0,t._)`${v}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${f}`),$.opts.verbose&&(E.assign((0,t._)`${v}.schema`,_),E.assign((0,t._)`${v}.data`,b))})}e.extendErrors=s;function c(E,f){let _=E.const("err",f);E.if((0,t._)`${a.default.vErrors} === null`,()=>E.assign(a.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${a.default.vErrors}.push(${_})`),E.code((0,t._)`${a.default.errors}++`)}function d(E,f){let{gen:_,validateName:b,schemaEnv:w}=E;w.$async?_.throw((0,t._)`new ${E.ValidationError}(${f})`):(_.assign((0,t._)`${b}.errors`,f),_.return(!1))}var m={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(E,f,_){let{createErrors:b}=E.it;return b===!1?(0,t._)`{}`:y(E,f,_)}function y(E,f,_={}){let{gen:b,it:w}=E,$=[g(w,_),F(E,_)];return D(E,f,$),b.object(...$)}function g({errorPath:E},{instancePath:f}){let _=f?(0,t.str)`${E}${(0,r.getErrorPath)(f,r.Type.Str)}`:E;return[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,_)]}function F({keyword:E,it:{errSchemaPath:f}},{schemaPath:_,parentSchema:b}){let w=b?f:(0,t.str)`${f}/${E}`;return _&&(w=(0,t.str)`${w}${(0,r.getErrorPath)(_,r.Type.Str)}`),[m.schemaPath,w]}function D(E,{params:f,message:_},b){let{keyword:w,data:$,schemaValue:v,it:S}=E,{opts:j,propertyName:W,topSchemaRef:Z,schemaPath:q}=S;b.push([m.keyword,w],[m.params,typeof f=="function"?f(E):f||(0,t._)`{}`]),j.messages&&b.push([m.message,typeof _=="function"?_(E):_]),j.verbose&&b.push([m.schema,v],[m.parentSchema,(0,t._)`${Z}${q}`],[a.default.data,$]),W&&b.push([m.propertyName,W])}}),Oc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=Qu(),r=Se(),a=Pr(),u={message:"boolean schema is false"};function l(c){let{gen:d,schema:m,validateName:h}=c;m===!1?s(c,!1):typeof m=="object"&&m.$async===!0?d.return(a.default.data):(d.assign((0,r._)`${h}.errors`,null),d.return(!0))}e.topBoolOrEmptySchema=l;function n(c,d){let{gen:m,schema:h}=c;h===!1?(m.var(d,!1),s(c)):m.var(d,!0)}e.boolOrEmptySchema=n;function s(c,d){let{gen:m,data:h}=c,y={gen:m,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,t.reportError)(y,u,void 0,d)}}),Ko=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function a(l){return typeof l=="string"&&r.has(l)}e.isJSONType=a;function u(){let l={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...l,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},l.number,l.string,l.array,l.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=u}),Yo=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:u,self:l},n){let s=l.RULES.types[n];return s&&s!==!0&&r(u,s)}e.schemaHasRulesForType=t;function r(u,l){return l.rules.some(n=>a(u,n))}e.shouldUseGroup=r;function a(u,l){var n;return u[l.keyword]!==void 0||((n=l.definition.implements)===null||n===void 0?void 0:n.some(s=>u[s]!==void 0))}e.shouldUseRule=a}),Ou=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=Ko(),r=Yo(),a=Qu(),u=Se(),l=je(),n;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(n=e.DataType||(e.DataType={}));function s(b){let w=c(b.type);if(w.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&w.push("null")}return w}e.getSchemaTypes=s;function c(b){let w=Array.isArray(b)?b:b?[b]:[];if(w.every(t.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}e.getJSONTypes=c;function d(b,w){let{gen:$,data:v,opts:S}=b,j=h(w,S.coerceTypes),W=w.length>0&&!(j.length===0&&w.length===1&&(0,r.schemaHasRulesForType)(b,w[0]));if(W){let Z=D(w,v,S.strictNumbers,n.Wrong);$.if(Z,()=>{j.length?y(b,w,j):f(b)})}return W}e.coerceAndCheckDataType=d;var m=new Set(["string","number","integer","boolean","null"]);function h(b,w){return w?b.filter($=>m.has($)||w==="array"&&$==="array"):[]}function y(b,w,$){let{gen:v,data:S,opts:j}=b,W=v.let("dataType",(0,u._)`typeof ${S}`),Z=v.let("coerced",(0,u._)`undefined`);j.coerceTypes==="array"&&v.if((0,u._)`${W} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>v.assign(S,(0,u._)`${S}[0]`).assign(W,(0,u._)`typeof ${S}`).if(D(w,S,j.strictNumbers),()=>v.assign(Z,S))),v.if((0,u._)`${Z} !== undefined`);for(let K of $)(m.has(K)||K==="array"&&j.coerceTypes==="array")&&q(K);v.else(),f(b),v.endIf(),v.if((0,u._)`${Z} !== undefined`,()=>{v.assign(S,Z),g(b,Z)});function q(K){switch(K){case"string":v.elseIf((0,u._)`${W} == "number" || ${W} == "boolean"`).assign(Z,(0,u._)`"" + ${S}`).elseIf((0,u._)`${S} === null`).assign(Z,(0,u._)`""`);return;case"number":v.elseIf((0,u._)`${W} == "boolean" || ${S} === null
              || (${W} == "string" && ${S} && ${S} == +${S})`).assign(Z,(0,u._)`+${S}`);return;case"integer":v.elseIf((0,u._)`${W} === "boolean" || ${S} === null
              || (${W} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(Z,(0,u._)`+${S}`);return;case"boolean":v.elseIf((0,u._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(Z,!1).elseIf((0,u._)`${S} === "true" || ${S} === 1`).assign(Z,!0);return;case"null":v.elseIf((0,u._)`${S} === "" || ${S} === 0 || ${S} === false`),v.assign(Z,null);return;case"array":v.elseIf((0,u._)`${W} === "string" || ${W} === "number"
              || ${W} === "boolean" || ${S} === null`).assign(Z,(0,u._)`[${S}]`)}}}function g({gen:b,parentData:w,parentDataProperty:$},v){b.if((0,u._)`${w} !== undefined`,()=>b.assign((0,u._)`${w}[${$}]`,v))}function F(b,w,$,v=n.Correct){let S=v===n.Correct?u.operators.EQ:u.operators.NEQ,j;switch(b){case"null":return(0,u._)`${w} ${S} null`;case"array":j=(0,u._)`Array.isArray(${w})`;break;case"object":j=(0,u._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":j=W((0,u._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":j=W();break;default:return(0,u._)`typeof ${w} ${S} ${b}`}return v===n.Correct?j:(0,u.not)(j);function W(Z=u.nil){return(0,u.and)((0,u._)`typeof ${w} == "number"`,Z,$?(0,u._)`isFinite(${w})`:u.nil)}}e.checkDataType=F;function D(b,w,$,v){if(b.length===1)return F(b[0],w,$,v);let S,j=(0,l.toHash)(b);if(j.array&&j.object){let W=(0,u._)`typeof ${w} != "object"`;S=j.null?W:(0,u._)`!${w} || ${W}`,delete j.null,delete j.array,delete j.object}else S=u.nil;j.number&&delete j.integer;for(let W in j)S=(0,u.and)(S,F(W,w,$,v));return S}e.checkDataTypes=D;var E={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:w})=>typeof b=="string"?(0,u._)`{type: ${b}}`:(0,u._)`{type: ${w}}`};function f(b){let w=_(b);(0,a.reportError)(w,E)}e.reportTypeError=f;function _(b){let{gen:w,data:$,schema:v}=b,S=(0,l.schemaRefOrVal)(b,v,"type");return{gen:w,keyword:"type",data:$,schema:v.type,schemaCode:S,schemaValue:S,parentSchema:v,params:{},it:b}}}),Nc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Se(),r=je();function a(l,n){let{properties:s,items:c}=l.schema;if(n==="object"&&s)for(let d in s)u(l,d,s[d].default);else n==="array"&&Array.isArray(c)&&c.forEach((d,m)=>u(l,m,d.default))}e.assignDefaults=a;function u(l,n,s){let{gen:c,compositeRule:d,data:m,opts:h}=l;if(s===void 0)return;let y=(0,t._)`${m}${(0,t.getProperty)(n)}`;if(d){(0,r.checkStrictMode)(l,`default is ignored for: ${y}`);return}let g=(0,t._)`${y} === undefined`;h.useDefaults==="empty"&&(g=(0,t._)`${g} || ${y} === null || ${y} === ""`),c.if(g,(0,t._)`${y} = ${(0,t.stringify)(s)}`)}}),Vt=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Se(),r=je(),a=Pr(),u=je();function l(b,w){let{gen:$,data:v,it:S}=b;$.if(h($,v,w,S.opts.ownProperties),()=>{b.setParams({missingProperty:(0,t._)`${w}`},!0),b.error()})}e.checkReportMissingProp=l;function n({gen:b,data:w,it:{opts:$}},v,S){return(0,t.or)(...v.map(j=>(0,t.and)(h(b,w,j,$.ownProperties),(0,t._)`${S} = ${j}`)))}e.checkMissingProp=n;function s(b,w){b.setParams({missingProperty:w},!0),b.error()}e.reportMissingProp=s;function c(b){return b.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=c;function d(b,w,$){return(0,t._)`${c(b)}.call(${w}, ${$})`}e.isOwnProperty=d;function m(b,w,$,v){let S=(0,t._)`${w}${(0,t.getProperty)($)} !== undefined`;return v?(0,t._)`${S} && ${d(b,w,$)}`:S}e.propertyInData=m;function h(b,w,$,v){let S=(0,t._)`${w}${(0,t.getProperty)($)} === undefined`;return v?(0,t.or)(S,(0,t.not)(d(b,w,$))):S}e.noPropertyInData=h;function y(b){return b?Object.keys(b).filter(w=>w!=="__proto__"):[]}e.allSchemaProperties=y;function g(b,w){return y(w).filter($=>!(0,r.alwaysValidSchema)(b,w[$]))}e.schemaProperties=g;function F({schemaCode:b,data:w,it:{gen:$,topSchemaRef:v,schemaPath:S,errorPath:j},it:W},Z,q,K){let ue=K?(0,t._)`${b}, ${w}, ${v}${S}`:w,ee=[[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,j)],[a.default.parentData,W.parentData],[a.default.parentDataProperty,W.parentDataProperty],[a.default.rootData,a.default.rootData]];W.opts.dynamicRef&&ee.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);let pe=(0,t._)`${ue}, ${$.object(...ee)}`;return q!==t.nil?(0,t._)`${Z}.call(${q}, ${pe})`:(0,t._)`${Z}(${pe})`}e.callValidateCode=F;var D=(0,t._)`new RegExp`;function E({gen:b,it:{opts:w}},$){let v=w.unicodeRegExp?"u":"",{regExp:S}=w.code,j=S($,v);return b.scopeValue("pattern",{key:j.toString(),ref:j,code:(0,t._)`${S.code==="new RegExp"?D:(0,u.useFunc)(b,S)}(${$}, ${v})`})}e.usePattern=E;function f(b){let{gen:w,data:$,keyword:v,it:S}=b,j=w.name("valid");if(S.allErrors){let Z=w.let("valid",!0);return W(()=>w.assign(Z,!1)),Z}return w.var(j,!0),W(()=>w.break()),j;function W(Z){let q=w.const("len",(0,t._)`${$}.length`);w.forRange("i",0,q,K=>{b.subschema({keyword:v,dataProp:K,dataPropType:r.Type.Num},j),w.if((0,t.not)(j),Z)})}}e.validateArray=f;function _(b){let{gen:w,schema:$,keyword:v,it:S}=b;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(Z=>(0,r.alwaysValidSchema)(S,Z))&&!S.opts.unevaluated)return;let j=w.let("valid",!1),W=w.name("_valid");w.block(()=>$.forEach((Z,q)=>{let K=b.subschema({keyword:v,schemaProp:q,compositeRule:!0},W);w.assign(j,(0,t._)`${j} || ${W}`),b.mergeValidEvaluated(K,W)||w.if((0,t.not)(j))})),b.result(j,()=>b.reset(),()=>b.error(!0))}e.validateUnion=_}),Ic=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Se(),r=Pr(),a=Vt(),u=Qu();function l(g,F){let{gen:D,keyword:E,schema:f,parentSchema:_,it:b}=g,w=F.macro.call(b.self,f,_,b),$=m(D,E,w);b.opts.validateSchema!==!1&&b.self.validateSchema(w,!0);let v=D.name("valid");g.subschema({schema:w,schemaPath:t.nil,errSchemaPath:`${b.errSchemaPath}/${E}`,topSchemaRef:$,compositeRule:!0},v),g.pass(v,()=>g.error(!0))}e.macroKeywordCode=l;function n(g,F){var D;let{gen:E,keyword:f,schema:_,parentSchema:b,$data:w,it:$}=g;d($,F);let v=!w&&F.compile?F.compile.call($.self,_,b,$):F.validate,S=m(E,f,v),j=E.let("valid");g.block$data(j,W),g.ok((D=F.valid)!==null&&D!==void 0?D:j);function W(){if(F.errors===!1)K(),F.modifying&&s(g),ue(()=>g.error());else{let ee=F.async?Z():q();F.modifying&&s(g),ue(()=>c(g,ee))}}function Z(){let ee=E.let("ruleErrs",null);return E.try(()=>K((0,t._)`await `),pe=>E.assign(j,!1).if((0,t._)`${pe} instanceof ${$.ValidationError}`,()=>E.assign(ee,(0,t._)`${pe}.errors`),()=>E.throw(pe))),ee}function q(){let ee=(0,t._)`${S}.errors`;return E.assign(ee,null),K(t.nil),ee}function K(ee=F.async?(0,t._)`await `:t.nil){let pe=$.opts.passContext?r.default.this:r.default.self,Q=!("compile"in F&&!w||F.schema===!1);E.assign(j,(0,t._)`${ee}${(0,a.callValidateCode)(g,S,pe,Q)}`,F.modifying)}function ue(ee){var pe;E.if((0,t.not)((pe=F.valid)!==null&&pe!==void 0?pe:j),ee)}}e.funcKeywordCode=n;function s(g){let{gen:F,data:D,it:E}=g;F.if(E.parentData,()=>F.assign(D,(0,t._)`${E.parentData}[${E.parentDataProperty}]`))}function c(g,F){let{gen:D}=g;D.if((0,t._)`Array.isArray(${F})`,()=>{D.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${F} : ${r.default.vErrors}.concat(${F})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,u.extendErrors)(g)},()=>g.error())}function d({schemaEnv:g},F){if(F.async&&!g.$async)throw new Error("async keyword in sync schema")}function m(g,F,D){if(D===void 0)throw new Error(`keyword "${F}" failed to compile`);return g.scopeValue("keyword",typeof D=="function"?{ref:D}:{ref:D,code:(0,t.stringify)(D)})}function h(g,F,D=!1){return!F.length||F.some(E=>E==="array"?Array.isArray(g):E==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==E||D&&typeof g>"u")}e.validSchemaType=h;function y({schema:g,opts:F,self:D,errSchemaPath:E},f,_){if(Array.isArray(f.keyword)?!f.keyword.includes(_):f.keyword!==_)throw new Error("ajv implementation error");let b=f.dependencies;if(b?.some(w=>!Object.prototype.hasOwnProperty.call(g,w)))throw new Error(`parent schema must have dependencies of ${_}: ${b.join(",")}`);if(f.validateSchema&&!f.validateSchema(g[_])){let w=`keyword "${_}" value is invalid at path "${E}": `+D.errorsText(f.validateSchema.errors);if(F.validateSchema==="log")D.logger.error(w);else throw new Error(w)}}e.validateKeywordUsage=y}),qc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Se(),r=je();function a(n,{keyword:s,schemaProp:c,schema:d,schemaPath:m,errSchemaPath:h,topSchemaRef:y}){if(s!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){let g=n.schema[s];return c===void 0?{schema:g,schemaPath:(0,t._)`${n.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${n.errSchemaPath}/${s}`}:{schema:g[c],schemaPath:(0,t._)`${n.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(c)}`,errSchemaPath:`${n.errSchemaPath}/${s}/${(0,r.escapeFragment)(c)}`}}if(d!==void 0){if(m===void 0||h===void 0||y===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:m,topSchemaRef:y,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=a;function u(n,s,{dataProp:c,dataPropType:d,data:m,dataTypes:h,propertyName:y}){if(m!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:g}=s;if(c!==void 0){let{errorPath:D,dataPathArr:E,opts:f}=s,_=g.let("data",(0,t._)`${s.data}${(0,t.getProperty)(c)}`,!0);F(_),n.errorPath=(0,t.str)`${D}${(0,r.getErrorPath)(c,d,f.jsPropertySyntax)}`,n.parentDataProperty=(0,t._)`${c}`,n.dataPathArr=[...E,n.parentDataProperty]}if(m!==void 0){let D=m instanceof t.Name?m:g.let("data",m,!0);F(D),y!==void 0&&(n.propertyName=y)}h&&(n.dataTypes=h);function F(D){n.data=D,n.dataLevel=s.dataLevel+1,n.dataTypes=[],s.definedProperties=new Set,n.parentData=s.data,n.dataNames=[...s.dataNames,D]}}e.extendSubschemaData=u;function l(n,{jtdDiscriminator:s,jtdMetadata:c,compositeRule:d,createErrors:m,allErrors:h}){d!==void 0&&(n.compositeRule=d),m!==void 0&&(n.createErrors=m),h!==void 0&&(n.allErrors=h),n.jtdDiscriminator=s,n.jtdMetadata=c}e.extendSubschemaMode=l}),Qo=se((e,t)=>{"use strict";t.exports=function r(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var l,n,s;if(Array.isArray(a)){if(l=a.length,l!=u.length)return!1;for(n=l;n--!==0;)if(!r(a[n],u[n]))return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===u.toString();if(s=Object.keys(a),l=s.length,l!==Object.keys(u).length)return!1;for(n=l;n--!==0;)if(!Object.prototype.hasOwnProperty.call(u,s[n]))return!1;for(n=l;n--!==0;){var c=s[n];if(!r(a[c],u[c]))return!1}return!0}return a!==a&&u!==u}}),Mc=se((e,t)=>{"use strict";var r=t.exports=function(l,n,s){typeof n=="function"&&(s=n,n={}),s=n.cb||s;var c=typeof s=="function"?s:s.pre||function(){},d=s.post||function(){};a(n,c,d,l,"",l)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function a(l,n,s,c,d,m,h,y,g,F){if(c&&typeof c=="object"&&!Array.isArray(c)){n(c,d,m,h,y,g,F);for(var D in c){var E=c[D];if(Array.isArray(E)){if(D in r.arrayKeywords)for(var f=0;f<E.length;f++)a(l,n,s,E[f],d+"/"+D+"/"+f,m,d,D,c,f)}else if(D in r.propsKeywords){if(E&&typeof E=="object")for(var _ in E)a(l,n,s,E[_],d+"/"+D+"/"+u(_),m,d,D,c,_)}else(D in r.keywords||l.allKeys&&!(D in r.skipKeywords))&&a(l,n,s,E,d+"/"+D,m,d,D,c)}s(c,d,m,h,y,g,F)}}function u(l){return l.replace(/~/g,"~0").replace(/\//g,"~1")}}),Ju=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=je(),r=Qo(),a=Mc(),u=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function l(E,f=!0){return typeof E=="boolean"?!0:f===!0?!s(E):f?c(E)<=f:!1}e.inlineRef=l;var n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(E){for(let f in E){if(n.has(f))return!0;let _=E[f];if(Array.isArray(_)&&_.some(s)||typeof _=="object"&&s(_))return!0}return!1}function c(E){let f=0;for(let _ in E)if(_==="$ref"||(f++,!u.has(_)&&(typeof E[_]=="object"&&(0,t.eachItem)(E[_],b=>f+=c(b)),f===1/0)))return 1/0;return f}function d(E,f="",_){_!==!1&&(f=y(f));let b=E.parse(f);return m(E,b)}e.getFullPath=d;function m(E,f){return E.serialize(f).split("#")[0]+"#"}e._getFullPath=m;var h=/#\/?$/;function y(E){return E?E.replace(h,""):""}e.normalizeId=y;function g(E,f,_){return _=y(_),E.resolve(f,_)}e.resolveUrl=g;var F=/^[a-z_][-a-z0-9._]*$/i;function D(E,f){if(typeof E=="boolean")return{};let{schemaId:_,uriResolver:b}=this.opts,w=y(E[_]||f),$={"":w},v=d(b,w,!1),S={},j=new Set;return a(E,{allKeys:!0},(q,K,ue,ee)=>{if(ee===void 0)return;let pe=v+K,Q=$[ee];typeof q[_]=="string"&&(Q=Y.call(this,q[_])),oe.call(this,q.$anchor),oe.call(this,q.$dynamicAnchor),$[K]=Q;function Y(ne){let T=this.opts.uriResolver.resolve;if(ne=y(Q?T(Q,ne):ne),j.has(ne))throw Z(ne);j.add(ne);let M=this.refs[ne];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?W(q,M.schema,ne):ne!==y(pe)&&(ne[0]==="#"?(W(q,S[ne],ne),S[ne]=q):this.refs[ne]=pe),ne}function oe(ne){if(typeof ne=="string"){if(!F.test(ne))throw new Error(`invalid anchor "${ne}"`);Y.call(this,`#${ne}`)}}}),S;function W(q,K,ue){if(K!==void 0&&!r(q,K))throw Z(ue)}function Z(q){return new Error(`reference "${q}" resolves to more than one schema`)}}e.getSchemaRefs=D}),Zu=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Oc(),r=Ou(),a=Yo(),u=Ou(),l=Nc(),n=Ic(),s=qc(),c=Se(),d=Pr(),m=Ju(),h=je(),y=Qu();function g(k){if(v(k)&&(j(k),$(k))){f(k);return}F(k,()=>(0,t.topBoolOrEmptySchema)(k))}e.validateFunctionCode=g;function F({gen:k,validateName:U,schema:re,schemaEnv:me,opts:N},H){N.code.es5?k.func(U,(0,c._)`${d.default.data}, ${d.default.valCxt}`,me.$async,()=>{k.code((0,c._)`"use strict"; ${b(re,N)}`),E(k,N),k.code(H)}):k.func(U,(0,c._)`${d.default.data}, ${D(N)}`,me.$async,()=>k.code(b(re,N)).code(H))}function D(k){return(0,c._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${k.dynamicRef?(0,c._)`, ${d.default.dynamicAnchors}={}`:c.nil}}={}`}function E(k,U){k.if(d.default.valCxt,()=>{k.var(d.default.instancePath,(0,c._)`${d.default.valCxt}.${d.default.instancePath}`),k.var(d.default.parentData,(0,c._)`${d.default.valCxt}.${d.default.parentData}`),k.var(d.default.parentDataProperty,(0,c._)`${d.default.valCxt}.${d.default.parentDataProperty}`),k.var(d.default.rootData,(0,c._)`${d.default.valCxt}.${d.default.rootData}`),U.dynamicRef&&k.var(d.default.dynamicAnchors,(0,c._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{k.var(d.default.instancePath,(0,c._)`""`),k.var(d.default.parentData,(0,c._)`undefined`),k.var(d.default.parentDataProperty,(0,c._)`undefined`),k.var(d.default.rootData,d.default.data),U.dynamicRef&&k.var(d.default.dynamicAnchors,(0,c._)`{}`)})}function f(k){let{schema:U,opts:re,gen:me}=k;F(k,()=>{re.$comment&&U.$comment&&ee(k),q(k),me.let(d.default.vErrors,null),me.let(d.default.errors,0),re.unevaluated&&_(k),W(k),pe(k)})}function _(k){let{gen:U,validateName:re}=k;k.evaluated=U.const("evaluated",(0,c._)`${re}.evaluated`),U.if((0,c._)`${k.evaluated}.dynamicProps`,()=>U.assign((0,c._)`${k.evaluated}.props`,(0,c._)`undefined`)),U.if((0,c._)`${k.evaluated}.dynamicItems`,()=>U.assign((0,c._)`${k.evaluated}.items`,(0,c._)`undefined`))}function b(k,U){let re=typeof k=="object"&&k[U.schemaId];return re&&(U.code.source||U.code.process)?(0,c._)`/*# sourceURL=${re} */`:c.nil}function w(k,U){if(v(k)&&(j(k),$(k))){S(k,U);return}(0,t.boolOrEmptySchema)(k,U)}function $({schema:k,self:U}){if(typeof k=="boolean")return!k;for(let re in k)if(U.RULES.all[re])return!0;return!1}function v(k){return typeof k.schema!="boolean"}function S(k,U){let{schema:re,gen:me,opts:N}=k;N.$comment&&re.$comment&&ee(k),K(k),ue(k);let H=me.const("_errs",d.default.errors);W(k,H),me.var(U,(0,c._)`${H} === ${d.default.errors}`)}function j(k){(0,h.checkUnknownRules)(k),Z(k)}function W(k,U){if(k.opts.jtd)return Y(k,[],!1,U);let re=(0,r.getSchemaTypes)(k.schema),me=(0,r.coerceAndCheckDataType)(k,re);Y(k,re,!me,U)}function Z(k){let{schema:U,errSchemaPath:re,opts:me,self:N}=k;U.$ref&&me.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(U,N.RULES)&&N.logger.warn(`$ref: keywords ignored in schema at path "${re}"`)}function q(k){let{schema:U,opts:re}=k;U.default!==void 0&&re.useDefaults&&re.strictSchema&&(0,h.checkStrictMode)(k,"default is ignored in the schema root")}function K(k){let U=k.schema[k.opts.schemaId];U&&(k.baseId=(0,m.resolveUrl)(k.opts.uriResolver,k.baseId,U))}function ue(k){if(k.schema.$async&&!k.schemaEnv.$async)throw new Error("async schema in sync schema")}function ee({gen:k,schemaEnv:U,schema:re,errSchemaPath:me,opts:N}){let H=re.$comment;if(N.$comment===!0)k.code((0,c._)`${d.default.self}.logger.log(${H})`);else if(typeof N.$comment=="function"){let ie=(0,c.str)`${me}/$comment`,ae=k.scopeValue("root",{ref:U.root});k.code((0,c._)`${d.default.self}.opts.$comment(${H}, ${ie}, ${ae}.schema)`)}}function pe(k){let{gen:U,schemaEnv:re,validateName:me,ValidationError:N,opts:H}=k;re.$async?U.if((0,c._)`${d.default.errors} === 0`,()=>U.return(d.default.data),()=>U.throw((0,c._)`new ${N}(${d.default.vErrors})`)):(U.assign((0,c._)`${me}.errors`,d.default.vErrors),H.unevaluated&&Q(k),U.return((0,c._)`${d.default.errors} === 0`))}function Q({gen:k,evaluated:U,props:re,items:me}){re instanceof c.Name&&k.assign((0,c._)`${U}.props`,re),me instanceof c.Name&&k.assign((0,c._)`${U}.items`,me)}function Y(k,U,re,me){let{gen:N,schema:H,data:ie,allErrors:ae,opts:le,self:_e}=k,{RULES:we}=_e;if(H.$ref&&(le.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(H,we))){N.block(()=>ce(k,"$ref",we.all.$ref.definition));return}le.jtd||ne(k,U),N.block(()=>{for(let Me of we.rules)ke(Me);ke(we.post)});function ke(Me){(0,a.shouldUseGroup)(H,Me)&&(Me.type?(N.if((0,u.checkDataType)(Me.type,ie,le.strictNumbers)),oe(k,Me),U.length===1&&U[0]===Me.type&&re&&(N.else(),(0,u.reportTypeError)(k)),N.endIf()):oe(k,Me),ae||N.if((0,c._)`${d.default.errors} === ${me||0}`))}}function oe(k,U){let{gen:re,schema:me,opts:{useDefaults:N}}=k;N&&(0,l.assignDefaults)(k,U.type),re.block(()=>{for(let H of U.rules)(0,a.shouldUseRule)(me,H)&&ce(k,H.keyword,H.definition,U.type)})}function ne(k,U){k.schemaEnv.meta||!k.opts.strictTypes||(T(k,U),k.opts.allowUnionTypes||M(k,U),V(k,k.dataTypes))}function T(k,U){if(U.length){if(!k.dataTypes.length){k.dataTypes=U;return}U.forEach(re=>{P(k.dataTypes,re)||L(k,`type "${re}" not allowed by context "${k.dataTypes.join(",")}"`)}),A(k,U)}}function M(k,U){U.length>1&&!(U.length===2&&U.includes("null"))&&L(k,"use allowUnionTypes to allow union type keyword")}function V(k,U){let re=k.self.RULES.all;for(let me in re){let N=re[me];if(typeof N=="object"&&(0,a.shouldUseRule)(k.schema,N)){let{type:H}=N.definition;H.length&&!H.some(ie=>C(U,ie))&&L(k,`missing type "${H.join(",")}" for keyword "${me}"`)}}}function C(k,U){return k.includes(U)||U==="number"&&k.includes("integer")}function P(k,U){return k.includes(U)||U==="integer"&&k.includes("number")}function A(k,U){let re=[];for(let me of k.dataTypes)P(U,me)?re.push(me):U.includes("integer")&&me==="number"&&re.push("integer");k.dataTypes=re}function L(k,U){let re=k.schemaEnv.baseId+k.errSchemaPath;U+=` at "${re}" (strictTypes)`,(0,h.checkStrictMode)(k,U,k.opts.strictTypes)}var X=class{constructor(k,U,re){if((0,n.validateKeywordUsage)(k,U,re),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=re,this.data=k.data,this.schema=k.schema[re],this.$data=U.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(k,this.schema,re,this.$data),this.schemaType=U.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=U,this.$data)this.schemaCode=k.gen.const("vSchema",Oe(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,U.schemaType,U.allowUndefined))throw new Error(`${re} value must be ${JSON.stringify(U.schemaType)}`);("code"in U?U.trackErrors:U.errors!==!1)&&(this.errsCount=k.gen.const("_errs",d.default.errors))}result(k,U,re){this.failResult((0,c.not)(k),U,re)}failResult(k,U,re){this.gen.if(k),re?re():this.error(),U?(this.gen.else(),U(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,U){this.failResult((0,c.not)(k),void 0,U)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);let{schemaCode:U}=this;this.fail((0,c._)`${U} !== undefined && (${(0,c.or)(this.invalid$data(),k)})`)}error(k,U,re){if(U){this.setParams(U),this._error(k,re),this.setParams({});return}this._error(k,re)}_error(k,U){(k?y.reportExtraError:y.reportError)(this,this.def.error,U)}$dataError(){(0,y.reportError)(this,this.def.$dataError||y.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,y.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,U){U?Object.assign(this.params,k):this.params=k}block$data(k,U,re=c.nil){this.gen.block(()=>{this.check$data(k,re),U()})}check$data(k=c.nil,U=c.nil){if(!this.$data)return;let{gen:re,schemaCode:me,schemaType:N,def:H}=this;re.if((0,c.or)((0,c._)`${me} === undefined`,U)),k!==c.nil&&re.assign(k,!0),(N.length||H.validateSchema)&&(re.elseIf(this.invalid$data()),this.$dataError(),k!==c.nil&&re.assign(k,!1)),re.else()}invalid$data(){let{gen:k,schemaCode:U,schemaType:re,def:me,it:N}=this;return(0,c.or)(H(),ie());function H(){if(re.length){if(!(U instanceof c.Name))throw new Error("ajv implementation error");let ae=Array.isArray(re)?re:[re];return(0,c._)`${(0,u.checkDataTypes)(ae,U,N.opts.strictNumbers,u.DataType.Wrong)}`}return c.nil}function ie(){if(me.validateSchema){let ae=k.scopeValue("validate$data",{ref:me.validateSchema});return(0,c._)`!${ae}(${U})`}return c.nil}}subschema(k,U){let re=(0,s.getSubschema)(this.it,k);(0,s.extendSubschemaData)(re,this.it,k),(0,s.extendSubschemaMode)(re,k);let me={...this.it,...re,items:void 0,props:void 0};return w(me,U),me}mergeEvaluated(k,U){let{it:re,gen:me}=this;re.opts.unevaluated&&(re.props!==!0&&k.props!==void 0&&(re.props=h.mergeEvaluated.props(me,k.props,re.props,U)),re.items!==!0&&k.items!==void 0&&(re.items=h.mergeEvaluated.items(me,k.items,re.items,U)))}mergeValidEvaluated(k,U){let{it:re,gen:me}=this;if(re.opts.unevaluated&&(re.props!==!0||re.items!==!0))return me.if(U,()=>this.mergeEvaluated(k,c.Name)),!0}};e.KeywordCxt=X;function ce(k,U,re,me){let N=new X(k,re,U);"code"in re?re.code(N,me):N.$data&&re.validate?(0,n.funcKeywordCode)(N,re):"macro"in re?(0,n.macroKeywordCode)(N,re):(re.compile||re.validate)&&(0,n.funcKeywordCode)(N,re)}var de=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(k,{dataLevel:U,dataNames:re,dataPathArr:me}){let N,H;if(k==="")return d.default.rootData;if(k[0]==="/"){if(!de.test(k))throw new Error(`Invalid JSON-pointer: ${k}`);N=k,H=d.default.rootData}else{let _e=Fe.exec(k);if(!_e)throw new Error(`Invalid JSON-pointer: ${k}`);let we=+_e[1];if(N=_e[2],N==="#"){if(we>=U)throw new Error(le("property/index",we));return me[U-we]}if(we>U)throw new Error(le("data",we));if(H=re[U-we],!N)return H}let ie=H,ae=N.split("/");for(let _e of ae)_e&&(H=(0,c._)`${H}${(0,c.getProperty)((0,h.unescapeJsonPointer)(_e))}`,ie=(0,c._)`${ie} && ${H}`);return ie;function le(_e,we){return`Cannot access ${_e} ${we} levels up, current level is ${U}`}}e.getData=Oe}),Gn=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}),Kn=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ju(),r=class extends Error{constructor(a,u,l,n){super(n||`can't resolve reference ${l} from id ${u}`),this.missingRef=(0,t.resolveUrl)(a,u,l),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(a,this.missingRef))}};e.default=r}),Yn=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Se(),r=Gn(),a=Pr(),u=Ju(),l=je(),n=Zu(),s=class{constructor(f){var _;this.refs={},this.dynamicAnchors={};let b;typeof f.schema=="object"&&(b=f.schema),this.schema=f.schema,this.schemaId=f.schemaId,this.root=f.root||this,this.baseId=(_=f.baseId)!==null&&_!==void 0?_:(0,u.normalizeId)(b?.[f.schemaId||"$id"]),this.schemaPath=f.schemaPath,this.localRefs=f.localRefs,this.meta=f.meta,this.$async=b?.$async,this.refs={}}};e.SchemaEnv=s;function c(f){let _=h.call(this,f);if(_)return _;let b=(0,u.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:w,lines:$}=this.opts.code,{ownProperties:v}=this.opts,S=new t.CodeGen(this.scope,{es5:w,lines:$,ownProperties:v}),j;f.$async&&(j=S.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));let W=S.scopeName("validate");f.validateName=W;let Z={gen:S,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,t.stringify)(f.schema)}:{ref:f.schema}),validateName:W,ValidationError:j,schema:f.schema,schemaEnv:f,rootId:b,baseId:f.baseId||b,schemaPath:t.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this},q;try{this._compilations.add(f),(0,n.validateFunctionCode)(Z),S.optimize(this.opts.code.optimize);let K=S.toString();q=`${S.scopeRefs(a.default.scope)}return ${K}`,this.opts.code.process&&(q=this.opts.code.process(q,f));let ue=new Function(`${a.default.self}`,`${a.default.scope}`,q)(this,this.scope.get());if(this.scope.value(W,{ref:ue}),ue.errors=null,ue.schema=f.schema,ue.schemaEnv=f,f.$async&&(ue.$async=!0),this.opts.code.source===!0&&(ue.source={validateName:W,validateCode:K,scopeValues:S._values}),this.opts.unevaluated){let{props:ee,items:pe}=Z;ue.evaluated={props:ee instanceof t.Name?void 0:ee,items:pe instanceof t.Name?void 0:pe,dynamicProps:ee instanceof t.Name,dynamicItems:pe instanceof t.Name},ue.source&&(ue.source.evaluated=(0,t.stringify)(ue.evaluated))}return f.validate=ue,f}catch(K){throw delete f.validate,delete f.validateName,q&&this.logger.error("Error compiling schema, function code:",q),K}finally{this._compilations.delete(f)}}e.compileSchema=c;function d(f,_,b){var w;b=(0,u.resolveUrl)(this.opts.uriResolver,_,b);let $=f.refs[b];if($)return $;let v=g.call(this,f,b);if(v===void 0){let S=(w=f.localRefs)===null||w===void 0?void 0:w[b],{schemaId:j}=this.opts;S&&(v=new s({schema:S,schemaId:j,root:f,baseId:_}))}if(v!==void 0)return f.refs[b]=m.call(this,v)}e.resolveRef=d;function m(f){return(0,u.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:c.call(this,f)}function h(f){for(let _ of this._compilations)if(y(_,f))return _}e.getCompilingSchema=h;function y(f,_){return f.schema===_.schema&&f.root===_.root&&f.baseId===_.baseId}function g(f,_){let b;for(;typeof(b=this.refs[_])=="string";)_=b;return b||this.schemas[_]||F.call(this,f,_)}function F(f,_){let b=this.opts.uriResolver.parse(_),w=(0,u._getFullPath)(this.opts.uriResolver,b),$=(0,u.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&w===$)return E.call(this,b,f);let v=(0,u.normalizeId)(w),S=this.refs[v]||this.schemas[v];if(typeof S=="string"){let j=F.call(this,f,S);return typeof j?.schema!="object"?void 0:E.call(this,b,j)}if(typeof S?.schema=="object"){if(S.validate||c.call(this,S),v===(0,u.normalizeId)(_)){let{schema:j}=S,{schemaId:W}=this.opts,Z=j[W];return Z&&($=(0,u.resolveUrl)(this.opts.uriResolver,$,Z)),new s({schema:j,schemaId:W,root:f,baseId:$})}return E.call(this,b,S)}}e.resolveSchema=F;var D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(f,{baseId:_,schema:b,root:w}){var $;if((($=f.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(let j of f.fragment.slice(1).split("/")){if(typeof b=="boolean")return;let W=b[(0,l.unescapeFragment)(j)];if(W===void 0)return;b=W;let Z=typeof b=="object"&&b[this.opts.schemaId];!D.has(j)&&Z&&(_=(0,u.resolveUrl)(this.opts.uriResolver,_,Z))}let v;if(typeof b!="boolean"&&b.$ref&&!(0,l.schemaHasRulesButRef)(b,this.RULES)){let j=(0,u.resolveUrl)(this.opts.uriResolver,_,b.$ref);v=F.call(this,w,j)}let{schemaId:S}=this.opts;if(v=v||new s({schema:b,schemaId:S,root:w,baseId:_}),v.schema!==v.root.schema)return v}}),Lc=se((e,t)=>{t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),Uc=se((e,t)=>{"use strict";(function(r,a){typeof e=="object"&&typeof t<"u"?a(e):typeof define=="function"&&define.amd?define(["exports"],a):a(r.URI=r.URI||{})})(e,function(r){"use strict";function a(){for(var B=arguments.length,R=Array(B),O=0;O<B;O++)R[O]=arguments[O];if(R.length>1){R[0]=R[0].slice(0,-1);for(var G=R.length-1,J=1;J<G;++J)R[J]=R[J].slice(1,-1);return R[G]=R[G].slice(1),R.join("")}else return R[0]}function u(B){return"(?:"+B+")"}function l(B){return B===void 0?"undefined":B===null?"null":Object.prototype.toString.call(B).split(" ").pop().split("]").shift().toLowerCase()}function n(B){return B.toUpperCase()}function s(B){return B!=null?B instanceof Array?B:typeof B.length!="number"||B.split||B.setInterval||B.call?[B]:Array.prototype.slice.call(B):[]}function c(B,R){var O=B;if(R)for(var G in R)O[G]=R[G];return O}function d(B){var R="[A-Za-z]",O="[\\x0D]",G="[0-9]",J="[\\x22]",fe=a(G,"[A-Fa-f]"),Ee="[\\x0A]",Be="[\\x20]",Pe=u(u("%[EFef]"+fe+"%"+fe+fe+"%"+fe+fe)+"|"+u("%[89A-Fa-f]"+fe+"%"+fe+fe)+"|"+u("%"+fe+fe)),qe="[\\:\\/\\?\\#\\[\\]\\@]",$e="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ve=a(qe,$e),Ge=B?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ze=B?"[\\uE000-\\uF8FF]":"[]",Re=a(R,G,"[\\-\\.\\_\\~]",Ge),Te=u(R+a(R,G,"[\\+\\-\\.]")+"*"),rt=u(u(Pe+"|"+a(Re,$e,"[\\:]"))+"*"),gr=u(u("25[0-5]")+"|"+u("2[0-4]"+G)+"|"+u("1"+G+G)+"|"+u("[1-9]"+G)+"|"+G),nt=u(u("25[0-5]")+"|"+u("2[0-4]"+G)+"|"+u("1"+G+G)+"|"+u("0?[1-9]"+G)+"|0?0?"+G),mt=u(nt+"\\."+nt+"\\."+nt+"\\."+nt),Ne=u(fe+"{1,4}"),gt=u(u(Ne+"\\:"+Ne)+"|"+mt),vt=u(u(Ne+"\\:")+"{6}"+gt),qt=u("\\:\\:"+u(Ne+"\\:")+"{5}"+gt),Jt=u(u(Ne)+"?\\:\\:"+u(Ne+"\\:")+"{4}"+gt),ot=u(u(u(Ne+"\\:")+"{0,1}"+Ne)+"?\\:\\:"+u(Ne+"\\:")+"{3}"+gt),Xr=u(u(u(Ne+"\\:")+"{0,2}"+Ne)+"?\\:\\:"+u(Ne+"\\:")+"{2}"+gt),or=u(u(u(Ne+"\\:")+"{0,3}"+Ne)+"?\\:\\:"+Ne+"\\:"+gt),Pt=u(u(u(Ne+"\\:")+"{0,4}"+Ne)+"?\\:\\:"+gt),Mt=u(u(u(Ne+"\\:")+"{0,5}"+Ne)+"?\\:\\:"+Ne),it=u(u(u(Ne+"\\:")+"{0,6}"+Ne)+"?\\:\\:"),Zt=u([vt,qt,Jt,ot,Xr,or,Pt,Mt,it].join("|")),Xt=u(u(Re+"|"+Pe)+"+"),sr=u(Zt+"\\%25"+Xt),ei=u(Zt+u("\\%25|\\%(?!"+fe+"{2})")+Xt),ti=u("[vV]"+fe+"+\\."+a(Re,$e,"[\\:]")+"+"),ou=u("\\["+u(ei+"|"+Zt+"|"+ti)+"\\]"),su=u(u(Pe+"|"+a(Re,$e))+"*"),Rr=u(ou+"|"+mt+"(?!"+su+")|"+su),lr=u(G+"*"),yr=u(u(rt+"@")+"?"+Rr+u("\\:"+lr)+"?"),Or=u(Pe+"|"+a(Re,$e,"[\\:\\@]")),an=u(Or+"*"),lu=u(Or+"+"),cu=u(u(Pe+"|"+a(Re,$e,"[\\@]"))+"+"),Tt=u(u("\\/"+an)+"*"),br=u("\\/"+u(lu+Tt)+"?"),ri=u(cu+Tt),Er=u(lu+Tt),yt="(?!"+Or+")",vr=u(Tt+"|"+br+"|"+ri+"|"+Er+"|"+yt),cr=u(u(Or+"|"+a("[\\/\\?]",ze))+"*"),Nr=u(u(Or+"|[\\/\\?]")+"*"),Di=u(u("\\/\\/"+yr+Tt)+"|"+br+"|"+Er+"|"+yt),ii=u(Te+"\\:"+Di+u("\\?"+cr)+"?"+u("\\#"+Nr)+"?"),Ir=u(u("\\/\\/"+yr+Tt)+"|"+br+"|"+ri+"|"+yt),ui=u(Ir+u("\\?"+cr)+"?"+u("\\#"+Nr)+"?"),Bi=u(ii+"|"+ui),aa=u(Te+"\\:"+Di+u("\\?"+cr)+"?"),oa="^("+Te+")\\:"+u(u("\\/\\/("+u("("+rt+")@")+"?("+Rr+")"+u("\\:("+lr+")")+"?)")+"?("+Tt+"|"+br+"|"+Er+"|"+yt+")")+u("\\?("+cr+")")+"?"+u("\\#("+Nr+")")+"?$",sa="^(){0}"+u(u("\\/\\/("+u("("+rt+")@")+"?("+Rr+")"+u("\\:("+lr+")")+"?)")+"?("+Tt+"|"+br+"|"+ri+"|"+yt+")")+u("\\?("+cr+")")+"?"+u("\\#("+Nr+")")+"?$",la="^("+Te+")\\:"+u(u("\\/\\/("+u("("+rt+")@")+"?("+Rr+")"+u("\\:("+lr+")")+"?)")+"?("+Tt+"|"+br+"|"+Er+"|"+yt+")")+u("\\?("+cr+")")+"?$",ca="^"+u("\\#("+Nr+")")+"?$",da="^"+u("("+rt+")@")+"?("+Rr+")"+u("\\:("+lr+")")+"?$";return{NOT_SCHEME:new RegExp(a("[^]",R,G,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Re,$e),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Re,$e),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Re,$e),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Re,$e),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Re,$e,"[\\:\\@\\/\\?]",ze),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Re,$e,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Re,$e),"g"),UNRESERVED:new RegExp(Re,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Re,Ve),"g"),PCT_ENCODED:new RegExp(Pe,"g"),IPV4ADDRESS:new RegExp("^("+mt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zt+")"+u(u("\\%25|\\%(?!"+fe+"{2})")+"("+Xt+")")+"?\\]?$")}}var m=d(!1),h=d(!0),y=function(){function B(R,O){var G=[],J=!0,fe=!1,Ee=void 0;try{for(var Be=R[Symbol.iterator](),Pe;!(J=(Pe=Be.next()).done)&&(G.push(Pe.value),!(O&&G.length===O));J=!0);}catch(qe){fe=!0,Ee=qe}finally{try{!J&&Be.return&&Be.return()}finally{if(fe)throw Ee}}return G}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return B(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(B){if(Array.isArray(B)){for(var R=0,O=Array(B.length);R<B.length;R++)O[R]=B[R];return O}else return Array.from(B)},F=2147483647,D=36,E=1,f=26,_=38,b=700,w=72,$=128,v="-",S=/^xn--/,j=/[^\0-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=D-E,K=Math.floor,ue=String.fromCharCode;function ee(B){throw new RangeError(Z[B])}function pe(B,R){for(var O=[],G=B.length;G--;)O[G]=R(B[G]);return O}function Q(B,R){var O=B.split("@"),G="";O.length>1&&(G=O[0]+"@",B=O[1]),B=B.replace(W,".");var J=B.split("."),fe=pe(J,R).join(".");return G+fe}function Y(B){for(var R=[],O=0,G=B.length;O<G;){var J=B.charCodeAt(O++);if(J>=55296&&J<=56319&&O<G){var fe=B.charCodeAt(O++);(fe&64512)==56320?R.push(((J&1023)<<10)+(fe&1023)+65536):(R.push(J),O--)}else R.push(J)}return R}var oe=function(B){return String.fromCodePoint.apply(String,g(B))},ne=function(B){return B-48<10?B-22:B-65<26?B-65:B-97<26?B-97:D},T=function(B,R){return B+22+75*(B<26)-((R!=0)<<5)},M=function(B,R,O){var G=0;for(B=O?K(B/b):B>>1,B+=K(B/R);B>q*f>>1;G+=D)B=K(B/q);return K(G+(q+1)*B/(B+_))},V=function(B){var R=[],O=B.length,G=0,J=$,fe=w,Ee=B.lastIndexOf(v);Ee<0&&(Ee=0);for(var Be=0;Be<Ee;++Be)B.charCodeAt(Be)>=128&&ee("not-basic"),R.push(B.charCodeAt(Be));for(var Pe=Ee>0?Ee+1:0;Pe<O;){for(var qe=G,$e=1,Ve=D;;Ve+=D){Pe>=O&&ee("invalid-input");var Ge=ne(B.charCodeAt(Pe++));(Ge>=D||Ge>K((F-G)/$e))&&ee("overflow"),G+=Ge*$e;var ze=Ve<=fe?E:Ve>=fe+f?f:Ve-fe;if(Ge<ze)break;var Re=D-ze;$e>K(F/Re)&&ee("overflow"),$e*=Re}var Te=R.length+1;fe=M(G-qe,Te,qe==0),K(G/Te)>F-J&&ee("overflow"),J+=K(G/Te),G%=Te,R.splice(G++,0,J)}return String.fromCodePoint.apply(String,R)},C=function(B){var R=[];B=Y(B);var O=B.length,G=$,J=0,fe=w,Ee=!0,Be=!1,Pe=void 0;try{for(var qe=B[Symbol.iterator](),$e;!(Ee=($e=qe.next()).done);Ee=!0){var Ve=$e.value;Ve<128&&R.push(ue(Ve))}}catch(sr){Be=!0,Pe=sr}finally{try{!Ee&&qe.return&&qe.return()}finally{if(Be)throw Pe}}var Ge=R.length,ze=Ge;for(Ge&&R.push(v);ze<O;){var Re=F,Te=!0,rt=!1,gr=void 0;try{for(var nt=B[Symbol.iterator](),mt;!(Te=(mt=nt.next()).done);Te=!0){var Ne=mt.value;Ne>=G&&Ne<Re&&(Re=Ne)}}catch(sr){rt=!0,gr=sr}finally{try{!Te&&nt.return&&nt.return()}finally{if(rt)throw gr}}var gt=ze+1;Re-G>K((F-J)/gt)&&ee("overflow"),J+=(Re-G)*gt,G=Re;var vt=!0,qt=!1,Jt=void 0;try{for(var ot=B[Symbol.iterator](),Xr;!(vt=(Xr=ot.next()).done);vt=!0){var or=Xr.value;if(or<G&&++J>F&&ee("overflow"),or==G){for(var Pt=J,Mt=D;;Mt+=D){var it=Mt<=fe?E:Mt>=fe+f?f:Mt-fe;if(Pt<it)break;var Zt=Pt-it,Xt=D-it;R.push(ue(T(it+Zt%Xt,0))),Pt=K(Zt/Xt)}R.push(ue(T(Pt,0))),fe=M(J,gt,ze==Ge),J=0,++ze}}}catch(sr){qt=!0,Jt=sr}finally{try{!vt&&ot.return&&ot.return()}finally{if(qt)throw Jt}}++J,++G}return R.join("")},P=function(B){return Q(B,function(R){return S.test(R)?V(R.slice(4).toLowerCase()):R})},A=function(B){return Q(B,function(R){return j.test(R)?"xn--"+C(R):R})},L={version:"2.1.0",ucs2:{decode:Y,encode:oe},decode:V,encode:C,toASCII:A,toUnicode:P},X={};function ce(B){var R=B.charCodeAt(0),O=void 0;return R<16?O="%0"+R.toString(16).toUpperCase():R<128?O="%"+R.toString(16).toUpperCase():R<2048?O="%"+(R>>6|192).toString(16).toUpperCase()+"%"+(R&63|128).toString(16).toUpperCase():O="%"+(R>>12|224).toString(16).toUpperCase()+"%"+(R>>6&63|128).toString(16).toUpperCase()+"%"+(R&63|128).toString(16).toUpperCase(),O}function de(B){for(var R="",O=0,G=B.length;O<G;){var J=parseInt(B.substr(O+1,2),16);if(J<128)R+=String.fromCharCode(J),O+=3;else if(J>=194&&J<224){if(G-O>=6){var fe=parseInt(B.substr(O+4,2),16);R+=String.fromCharCode((J&31)<<6|fe&63)}else R+=B.substr(O,6);O+=6}else if(J>=224){if(G-O>=9){var Ee=parseInt(B.substr(O+4,2),16),Be=parseInt(B.substr(O+7,2),16);R+=String.fromCharCode((J&15)<<12|(Ee&63)<<6|Be&63)}else R+=B.substr(O,9);O+=9}else R+=B.substr(O,3),O+=3}return R}function Fe(B,R){function O(G){var J=de(G);return J.match(R.UNRESERVED)?J:G}return B.scheme&&(B.scheme=String(B.scheme).replace(R.PCT_ENCODED,O).toLowerCase().replace(R.NOT_SCHEME,"")),B.userinfo!==void 0&&(B.userinfo=String(B.userinfo).replace(R.PCT_ENCODED,O).replace(R.NOT_USERINFO,ce).replace(R.PCT_ENCODED,n)),B.host!==void 0&&(B.host=String(B.host).replace(R.PCT_ENCODED,O).toLowerCase().replace(R.NOT_HOST,ce).replace(R.PCT_ENCODED,n)),B.path!==void 0&&(B.path=String(B.path).replace(R.PCT_ENCODED,O).replace(B.scheme?R.NOT_PATH:R.NOT_PATH_NOSCHEME,ce).replace(R.PCT_ENCODED,n)),B.query!==void 0&&(B.query=String(B.query).replace(R.PCT_ENCODED,O).replace(R.NOT_QUERY,ce).replace(R.PCT_ENCODED,n)),B.fragment!==void 0&&(B.fragment=String(B.fragment).replace(R.PCT_ENCODED,O).replace(R.NOT_FRAGMENT,ce).replace(R.PCT_ENCODED,n)),B}function Oe(B){return B.replace(/^0*(.*)/,"$1")||"0"}function k(B,R){var O=B.match(R.IPV4ADDRESS)||[],G=y(O,2),J=G[1];return J?J.split(".").map(Oe).join("."):B}function U(B,R){var O=B.match(R.IPV6ADDRESS)||[],G=y(O,3),J=G[1],fe=G[2];if(J){for(var Ee=J.toLowerCase().split("::").reverse(),Be=y(Ee,2),Pe=Be[0],qe=Be[1],$e=qe?qe.split(":").map(Oe):[],Ve=Pe.split(":").map(Oe),Ge=R.IPV4ADDRESS.test(Ve[Ve.length-1]),ze=Ge?7:8,Re=Ve.length-ze,Te=Array(ze),rt=0;rt<ze;++rt)Te[rt]=$e[rt]||Ve[Re+rt]||"";Ge&&(Te[ze-1]=k(Te[ze-1],R));var gr=Te.reduce(function(vt,qt,Jt){if(!qt||qt==="0"){var ot=vt[vt.length-1];ot&&ot.index+ot.length===Jt?ot.length++:vt.push({index:Jt,length:1})}return vt},[]),nt=gr.sort(function(vt,qt){return qt.length-vt.length})[0],mt=void 0;if(nt&&nt.length>1){var Ne=Te.slice(0,nt.index),gt=Te.slice(nt.index+nt.length);mt=Ne.join(":")+"::"+gt.join(":")}else mt=Te.join(":");return fe&&(mt+="%"+fe),mt}else return B}var re=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,me="".match(/(){0}/)[1]===void 0;function N(B){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O={},G=R.iri!==!1?h:m;R.reference==="suffix"&&(B=(R.scheme?R.scheme+":":"")+"//"+B);var J=B.match(re);if(J){me?(O.scheme=J[1],O.userinfo=J[3],O.host=J[4],O.port=parseInt(J[5],10),O.path=J[6]||"",O.query=J[7],O.fragment=J[8],isNaN(O.port)&&(O.port=J[5])):(O.scheme=J[1]||void 0,O.userinfo=B.indexOf("@")!==-1?J[3]:void 0,O.host=B.indexOf("//")!==-1?J[4]:void 0,O.port=parseInt(J[5],10),O.path=J[6]||"",O.query=B.indexOf("?")!==-1?J[7]:void 0,O.fragment=B.indexOf("#")!==-1?J[8]:void 0,isNaN(O.port)&&(O.port=B.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?J[4]:void 0)),O.host&&(O.host=U(k(O.host,G),G)),O.scheme===void 0&&O.userinfo===void 0&&O.host===void 0&&O.port===void 0&&!O.path&&O.query===void 0?O.reference="same-document":O.scheme===void 0?O.reference="relative":O.fragment===void 0?O.reference="absolute":O.reference="uri",R.reference&&R.reference!=="suffix"&&R.reference!==O.reference&&(O.error=O.error||"URI is not a "+R.reference+" reference.");var fe=X[(R.scheme||O.scheme||"").toLowerCase()];if(!R.unicodeSupport&&(!fe||!fe.unicodeSupport)){if(O.host&&(R.domainHost||fe&&fe.domainHost))try{O.host=L.toASCII(O.host.replace(G.PCT_ENCODED,de).toLowerCase())}catch(Ee){O.error=O.error||"Host's domain name can not be converted to ASCII via punycode: "+Ee}Fe(O,m)}else Fe(O,G);fe&&fe.parse&&fe.parse(O,R)}else O.error=O.error||"URI can not be parsed.";return O}function H(B,R){var O=R.iri!==!1?h:m,G=[];return B.userinfo!==void 0&&(G.push(B.userinfo),G.push("@")),B.host!==void 0&&G.push(U(k(String(B.host),O),O).replace(O.IPV6ADDRESS,function(J,fe,Ee){return"["+fe+(Ee?"%25"+Ee:"")+"]"})),(typeof B.port=="number"||typeof B.port=="string")&&(G.push(":"),G.push(String(B.port))),G.length?G.join(""):void 0}var ie=/^\.\.?\//,ae=/^\/\.(\/|$)/,le=/^\/\.\.(\/|$)/,_e=/^\/?(?:.|\n)*?(?=\/|$)/;function we(B){for(var R=[];B.length;)if(B.match(ie))B=B.replace(ie,"");else if(B.match(ae))B=B.replace(ae,"/");else if(B.match(le))B=B.replace(le,"/"),R.pop();else if(B==="."||B==="..")B="";else{var O=B.match(_e);if(O){var G=O[0];B=B.slice(G.length),R.push(G)}else throw new Error("Unexpected dot segment condition")}return R.join("")}function ke(B){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=R.iri?h:m,G=[],J=X[(R.scheme||B.scheme||"").toLowerCase()];if(J&&J.serialize&&J.serialize(B,R),B.host&&!O.IPV6ADDRESS.test(B.host)&&(R.domainHost||J&&J.domainHost))try{B.host=R.iri?L.toUnicode(B.host):L.toASCII(B.host.replace(O.PCT_ENCODED,de).toLowerCase())}catch(Be){B.error=B.error||"Host's domain name can not be converted to "+(R.iri?"Unicode":"ASCII")+" via punycode: "+Be}Fe(B,O),R.reference!=="suffix"&&B.scheme&&(G.push(B.scheme),G.push(":"));var fe=H(B,R);if(fe!==void 0&&(R.reference!=="suffix"&&G.push("//"),G.push(fe),B.path&&B.path.charAt(0)!=="/"&&G.push("/")),B.path!==void 0){var Ee=B.path;!R.absolutePath&&(!J||!J.absolutePath)&&(Ee=we(Ee)),fe===void 0&&(Ee=Ee.replace(/^\/\//,"/%2F")),G.push(Ee)}return B.query!==void 0&&(G.push("?"),G.push(B.query)),B.fragment!==void 0&&(G.push("#"),G.push(B.fragment)),G.join("")}function Me(B,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=arguments[3],J={};return G||(B=N(ke(B,O),O),R=N(ke(R,O),O)),O=O||{},!O.tolerant&&R.scheme?(J.scheme=R.scheme,J.userinfo=R.userinfo,J.host=R.host,J.port=R.port,J.path=we(R.path||""),J.query=R.query):(R.userinfo!==void 0||R.host!==void 0||R.port!==void 0?(J.userinfo=R.userinfo,J.host=R.host,J.port=R.port,J.path=we(R.path||""),J.query=R.query):(R.path?(R.path.charAt(0)==="/"?J.path=we(R.path):((B.userinfo!==void 0||B.host!==void 0||B.port!==void 0)&&!B.path?J.path="/"+R.path:B.path?J.path=B.path.slice(0,B.path.lastIndexOf("/")+1)+R.path:J.path=R.path,J.path=we(J.path)),J.query=R.query):(J.path=B.path,R.query!==void 0?J.query=R.query:J.query=B.query),J.userinfo=B.userinfo,J.host=B.host,J.port=B.port),J.scheme=B.scheme),J.fragment=R.fragment,J}function Gt(B,R,O){var G=c({scheme:"null"},O);return ke(Me(N(B,G),N(R,G),G,!0),G)}function $t(B,R){return typeof B=="string"?B=ke(N(B,R),R):l(B)==="object"&&(B=N(ke(B,R),R)),B}function Dt(B,R,O){return typeof B=="string"?B=ke(N(B,O),O):l(B)==="object"&&(B=ke(B,O)),typeof R=="string"?R=ke(N(R,O),O):l(R)==="object"&&(R=ke(R,O)),B===R}function xt(B,R){return B&&B.toString().replace(!R||!R.iri?m.ESCAPE:h.ESCAPE,ce)}function Ze(B,R){return B&&B.toString().replace(!R||!R.iri?m.PCT_ENCODED:h.PCT_ENCODED,de)}var Ie={scheme:"http",domainHost:!0,parse:function(B,R){return B.host||(B.error=B.error||"HTTP URIs must have a host."),B},serialize:function(B,R){var O=String(B.scheme).toLowerCase()==="https";return(B.port===(O?443:80)||B.port==="")&&(B.port=void 0),B.path||(B.path="/"),B}},De={scheme:"https",domainHost:Ie.domainHost,parse:Ie.parse,serialize:Ie.serialize};function Xe(B){return typeof B.secure=="boolean"?B.secure:String(B.scheme).toLowerCase()==="wss"}var ht={scheme:"ws",domainHost:!0,parse:function(B,R){var O=B;return O.secure=Xe(O),O.resourceName=(O.path||"/")+(O.query?"?"+O.query:""),O.path=void 0,O.query=void 0,O},serialize:function(B,R){if((B.port===(Xe(B)?443:80)||B.port==="")&&(B.port=void 0),typeof B.secure=="boolean"&&(B.scheme=B.secure?"wss":"ws",B.secure=void 0),B.resourceName){var O=B.resourceName.split("?"),G=y(O,2),J=G[0],fe=G[1];B.path=J&&J!=="/"?J:void 0,B.query=fe,B.resourceName=void 0}return B.fragment=void 0,B}},Kt={scheme:"wss",domainHost:ht.domainHost,parse:ht.parse,serialize:ht.serialize},kt={},Nt=!0,ar="[A-Za-z0-9\\-\\.\\_\\~"+(Nt?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",et="[0-9A-Fa-f]",jr=u(u("%[EFef]"+et+"%"+et+et+"%"+et+et)+"|"+u("%[89A-Fa-f]"+et+"%"+et+et)+"|"+u("%"+et+et)),It="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Yt="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",tu=a(Yt,'[\\"\\\\]'),Jr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",un=new RegExp(ar,"g"),Qt=new RegExp(jr,"g"),ru=new RegExp(a("[^]",It,"[\\.]",'[\\"]',tu),"g"),iu=new RegExp(a("[^]",ar,Jr),"g"),nn=iu;function Si(B){var R=de(B);return R.match(un)?R:B}var uu={scheme:"mailto",parse:function(B,R){var O=B,G=O.to=O.path?O.path.split(","):[];if(O.path=void 0,O.query){for(var J=!1,fe={},Ee=O.query.split("&"),Be=0,Pe=Ee.length;Be<Pe;++Be){var qe=Ee[Be].split("=");switch(qe[0]){case"to":for(var $e=qe[1].split(","),Ve=0,Ge=$e.length;Ve<Ge;++Ve)G.push($e[Ve]);break;case"subject":O.subject=Ze(qe[1],R);break;case"body":O.body=Ze(qe[1],R);break;default:J=!0,fe[Ze(qe[0],R)]=Ze(qe[1],R);break}}J&&(O.headers=fe)}O.query=void 0;for(var ze=0,Re=G.length;ze<Re;++ze){var Te=G[ze].split("@");if(Te[0]=Ze(Te[0]),R.unicodeSupport)Te[1]=Ze(Te[1],R).toLowerCase();else try{Te[1]=L.toASCII(Ze(Te[1],R).toLowerCase())}catch(rt){O.error=O.error||"Email address's domain name can not be converted to ASCII via punycode: "+rt}G[ze]=Te.join("@")}return O},serialize:function(B,R){var O=B,G=s(B.to);if(G){for(var J=0,fe=G.length;J<fe;++J){var Ee=String(G[J]),Be=Ee.lastIndexOf("@"),Pe=Ee.slice(0,Be).replace(Qt,Si).replace(Qt,n).replace(ru,ce),qe=Ee.slice(Be+1);try{qe=R.iri?L.toUnicode(qe):L.toASCII(Ze(qe,R).toLowerCase())}catch(ze){O.error=O.error||"Email address's domain name can not be converted to "+(R.iri?"Unicode":"ASCII")+" via punycode: "+ze}G[J]=Pe+"@"+qe}O.path=G.join(",")}var $e=B.headers=B.headers||{};B.subject&&($e.subject=B.subject),B.body&&($e.body=B.body);var Ve=[];for(var Ge in $e)$e[Ge]!==kt[Ge]&&Ve.push(Ge.replace(Qt,Si).replace(Qt,n).replace(iu,ce)+"="+$e[Ge].replace(Qt,Si).replace(Qt,n).replace(nn,ce));return Ve.length&&(O.query=Ve.join("&")),O}},nu=/^([^\:]+)\:(.*)/,Zr={scheme:"urn",parse:function(B,R){var O=B.path&&B.path.match(nu),G=B;if(O){var J=R.scheme||G.scheme||"urn",fe=O[1].toLowerCase(),Ee=O[2],Be=J+":"+(R.nid||fe),Pe=X[Be];G.nid=fe,G.nss=Ee,G.path=void 0,Pe&&(G=Pe.parse(G,R))}else G.error=G.error||"URN can not be parsed.";return G},serialize:function(B,R){var O=R.scheme||B.scheme||"urn",G=B.nid,J=O+":"+(R.nid||G),fe=X[J];fe&&(B=fe.serialize(B,R));var Ee=B,Be=B.nss;return Ee.path=(G||R.nid)+":"+Be,Ee}},$i=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,au={scheme:"urn:uuid",parse:function(B,R){var O=B;return O.uuid=O.nss,O.nss=void 0,!R.tolerant&&(!O.uuid||!O.uuid.match($i))&&(O.error=O.error||"UUID is not valid."),O},serialize:function(B,R){var O=B;return O.nss=(B.uuid||"").toLowerCase(),O}};X[Ie.scheme]=Ie,X[De.scheme]=De,X[ht.scheme]=ht,X[Kt.scheme]=Kt,X[uu.scheme]=uu,X[Zr.scheme]=Zr,X[au.scheme]=au,r.SCHEMES=X,r.pctEncChar=ce,r.pctDecChars=de,r.parse=N,r.removeDotSegments=we,r.serialize=ke,r.resolveComponents=Me,r.resolve=Gt,r.normalize=$t,r.equal=Dt,r.escapeComponent=xt,r.unescapeComponent=Ze,Object.defineProperty(r,"__esModule",{value:!0})})}),Wc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Uc();t.code='require("ajv/dist/runtime/uri").default',e.default=t}),zc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Zu();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var a=Gn(),u=Kn(),l=Ko(),n=Yn(),s=Se(),c=Ju(),d=Ou(),m=je(),h=Lc(),y=Wc(),g=(T,M)=>new RegExp(T,M);g.code="new RegExp";var F=["removeAdditional","useDefaults","coerceTypes"],D=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function b(T){var M,V,C,P,A,L,X,ce,de,Fe,Oe,k,U,re,me,N,H,ie,ae,le,_e,we,ke,Me,Gt;let $t=T.strict,Dt=(M=T.code)===null||M===void 0?void 0:M.optimize,xt=Dt===!0||Dt===void 0?1:Dt||0,Ze=(C=(V=T.code)===null||V===void 0?void 0:V.regExp)!==null&&C!==void 0?C:g,Ie=(P=T.uriResolver)!==null&&P!==void 0?P:y.default;return{strictSchema:(L=(A=T.strictSchema)!==null&&A!==void 0?A:$t)!==null&&L!==void 0?L:!0,strictNumbers:(ce=(X=T.strictNumbers)!==null&&X!==void 0?X:$t)!==null&&ce!==void 0?ce:!0,strictTypes:(Fe=(de=T.strictTypes)!==null&&de!==void 0?de:$t)!==null&&Fe!==void 0?Fe:"log",strictTuples:(k=(Oe=T.strictTuples)!==null&&Oe!==void 0?Oe:$t)!==null&&k!==void 0?k:"log",strictRequired:(re=(U=T.strictRequired)!==null&&U!==void 0?U:$t)!==null&&re!==void 0?re:!1,code:T.code?{...T.code,optimize:xt,regExp:Ze}:{optimize:xt,regExp:Ze},loopRequired:(me=T.loopRequired)!==null&&me!==void 0?me:_,loopEnum:(N=T.loopEnum)!==null&&N!==void 0?N:_,meta:(H=T.meta)!==null&&H!==void 0?H:!0,messages:(ie=T.messages)!==null&&ie!==void 0?ie:!0,inlineRefs:(ae=T.inlineRefs)!==null&&ae!==void 0?ae:!0,schemaId:(le=T.schemaId)!==null&&le!==void 0?le:"$id",addUsedSchema:(_e=T.addUsedSchema)!==null&&_e!==void 0?_e:!0,validateSchema:(we=T.validateSchema)!==null&&we!==void 0?we:!0,validateFormats:(ke=T.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(Me=T.unicodeRegExp)!==null&&Me!==void 0?Me:!0,int32range:(Gt=T.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:Ie}}var w=class{constructor(T={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,T=this.opts={...T,...b(T)};let{es5:M,lines:V}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:D,es5:M,lines:V}),this.logger=K(T.logger);let C=T.validateFormats;T.validateFormats=!1,this.RULES=(0,l.getRules)(),$.call(this,E,T,"NOT SUPPORTED"),$.call(this,f,T,"DEPRECATED","warn"),this._metaOpts=Z.call(this),T.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),T.keywords&&W.call(this,T.keywords),typeof T.meta=="object"&&this.addMetaSchema(T.meta),S.call(this),T.validateFormats=C}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:T,meta:M,schemaId:V}=this.opts,C=h;V==="id"&&(C={...h},C.id=C.$id,delete C.$id),M&&T&&this.addMetaSchema(C,C[V],!1)}defaultMeta(){let{meta:T,schemaId:M}=this.opts;return this.opts.defaultMeta=typeof T=="object"?T[M]||T:void 0}validate(T,M){let V;if(typeof T=="string"){if(V=this.getSchema(T),!V)throw new Error(`no schema with key or ref "${T}"`)}else V=this.compile(T);let C=V(M);return"$async"in V||(this.errors=V.errors),C}compile(T,M){let V=this._addSchema(T,M);return V.validate||this._compileSchemaEnv(V)}compileAsync(T,M){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:V}=this.opts;return C.call(this,T,M);async function C(de,Fe){await P.call(this,de.$schema);let Oe=this._addSchema(de,Fe);return Oe.validate||A.call(this,Oe)}async function P(de){de&&!this.getSchema(de)&&await C.call(this,{$ref:de},!0)}async function A(de){try{return this._compileSchemaEnv(de)}catch(Fe){if(!(Fe instanceof u.default))throw Fe;return L.call(this,Fe),await X.call(this,Fe.missingSchema),A.call(this,de)}}function L({missingSchema:de,missingRef:Fe}){if(this.refs[de])throw new Error(`AnySchema ${de} is loaded but ${Fe} cannot be resolved`)}async function X(de){let Fe=await ce.call(this,de);this.refs[de]||await P.call(this,Fe.$schema),this.refs[de]||this.addSchema(Fe,de,M)}async function ce(de){let Fe=this._loading[de];if(Fe)return Fe;try{return await(this._loading[de]=V(de))}finally{delete this._loading[de]}}}addSchema(T,M,V,C=this.opts.validateSchema){if(Array.isArray(T)){for(let A of T)this.addSchema(A,void 0,V,C);return this}let P;if(typeof T=="object"){let{schemaId:A}=this.opts;if(P=T[A],P!==void 0&&typeof P!="string")throw new Error(`schema ${A} must be string`)}return M=(0,c.normalizeId)(M||P),this._checkUnique(M),this.schemas[M]=this._addSchema(T,V,M,C,!0),this}addMetaSchema(T,M,V=this.opts.validateSchema){return this.addSchema(T,M,!0,V),this}validateSchema(T,M){if(typeof T=="boolean")return!0;let V;if(V=T.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let C=this.validate(V,T);if(!C&&M){let P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return C}getSchema(T){let M;for(;typeof(M=v.call(this,T))=="string";)T=M;if(M===void 0){let{schemaId:V}=this.opts,C=new n.SchemaEnv({schema:{},schemaId:V});if(M=n.resolveSchema.call(this,C,T),!M)return;this.refs[T]=M}return M.validate||this._compileSchemaEnv(M)}removeSchema(T){if(T instanceof RegExp)return this._removeAllSchemas(this.schemas,T),this._removeAllSchemas(this.refs,T),this;switch(typeof T){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let M=v.call(this,T);return typeof M=="object"&&this._cache.delete(M.schema),delete this.schemas[T],delete this.refs[T],this}case"object":{let M=T;this._cache.delete(M);let V=T[this.opts.schemaId];return V&&(V=(0,c.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(T){for(let M of T)this.addKeyword(M);return this}addKeyword(T,M){let V;if(typeof T=="string")V=T,typeof M=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),M.keyword=V);else if(typeof T=="object"&&M===void 0){if(M=T,V=M.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ee.call(this,V,M),!M)return(0,m.eachItem)(V,P=>pe.call(this,P)),this;Y.call(this,M);let C={...M,type:(0,d.getJSONTypes)(M.type),schemaType:(0,d.getJSONTypes)(M.schemaType)};return(0,m.eachItem)(V,C.type.length===0?P=>pe.call(this,P,C):P=>C.type.forEach(A=>pe.call(this,P,C,A))),this}getKeyword(T){let M=this.RULES.all[T];return typeof M=="object"?M.definition:!!M}removeKeyword(T){let{RULES:M}=this;delete M.keywords[T],delete M.all[T];for(let V of M.rules){let C=V.rules.findIndex(P=>P.keyword===T);C>=0&&V.rules.splice(C,1)}return this}addFormat(T,M){return typeof M=="string"&&(M=new RegExp(M)),this.formats[T]=M,this}errorsText(T=this.errors,{separator:M=", ",dataVar:V="data"}={}){return!T||T.length===0?"No errors":T.map(C=>`${V}${C.instancePath} ${C.message}`).reduce((C,P)=>C+M+P)}$dataMetaSchema(T,M){let V=this.RULES.all;T=JSON.parse(JSON.stringify(T));for(let C of M){let P=C.split("/").slice(1),A=T;for(let L of P)A=A[L];for(let L in V){let X=V[L];if(typeof X!="object")continue;let{$data:ce}=X.definition,de=A[L];ce&&de&&(A[L]=ne(de))}}return T}_removeAllSchemas(T,M){for(let V in T){let C=T[V];(!M||M.test(V))&&(typeof C=="string"?delete T[V]:C&&!C.meta&&(this._cache.delete(C.schema),delete T[V]))}}_addSchema(T,M,V,C=this.opts.validateSchema,P=this.opts.addUsedSchema){let A,{schemaId:L}=this.opts;if(typeof T=="object")A=T[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof T!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(T);if(X!==void 0)return X;V=(0,c.normalizeId)(A||V);let ce=c.getSchemaRefs.call(this,T,V);return X=new n.SchemaEnv({schema:T,schemaId:L,meta:M,baseId:V,localRefs:ce}),this._cache.set(X.schema,X),P&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=X),C&&this.validateSchema(T,!0),X}_checkUnique(T){if(this.schemas[T]||this.refs[T])throw new Error(`schema with key or id "${T}" already exists`)}_compileSchemaEnv(T){if(T.meta?this._compileMetaSchema(T):n.compileSchema.call(this,T),!T.validate)throw new Error("ajv implementation error");return T.validate}_compileMetaSchema(T){let M=this.opts;this.opts=this._metaOpts;try{n.compileSchema.call(this,T)}finally{this.opts=M}}};e.default=w,w.ValidationError=a.default,w.MissingRefError=u.default;function $(T,M,V,C="error"){for(let P in T){let A=P;A in M&&this.logger[C](`${V}: option ${P}. ${T[A]}`)}}function v(T){return T=(0,c.normalizeId)(T),this.schemas[T]||this.refs[T]}function S(){let T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(let M in T)this.addSchema(T[M],M)}function j(){for(let T in this.opts.formats){let M=this.opts.formats[T];M&&this.addFormat(T,M)}}function W(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let M in T){let V=T[M];V.keyword||(V.keyword=M),this.addKeyword(V)}}function Z(){let T={...this.opts};for(let M of F)delete T[M];return T}var q={log(){},warn(){},error(){}};function K(T){if(T===!1)return q;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}var ue=/^[a-z_$][a-z0-9_$:-]*$/i;function ee(T,M){let{RULES:V}=this;if((0,m.eachItem)(T,C=>{if(V.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!ue.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!M&&M.$data&&!("code"in M||"validate"in M))throw new Error('$data keyword must have "code" or "validate" function')}function pe(T,M,V){var C;let P=M?.post;if(V&&P)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:A}=this,L=P?A.post:A.rules.find(({type:ce})=>ce===V);if(L||(L={type:V,rules:[]},A.rules.push(L)),A.keywords[T]=!0,!M)return;let X={keyword:T,definition:{...M,type:(0,d.getJSONTypes)(M.type),schemaType:(0,d.getJSONTypes)(M.schemaType)}};M.before?Q.call(this,L,X,M.before):L.rules.push(X),A.all[T]=X,(C=M.implements)===null||C===void 0||C.forEach(ce=>this.addKeyword(ce))}function Q(T,M,V){let C=T.rules.findIndex(P=>P.keyword===V);C>=0?T.rules.splice(C,0,M):(T.rules.push(M),this.logger.warn(`rule ${V} is not defined`))}function Y(T){let{metaSchema:M}=T;M!==void 0&&(T.$data&&this.opts.$data&&(M=ne(M)),T.validateSchema=this.compile(M,!0))}var oe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(T){return{anyOf:[T,oe]}}}),Hc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}),Vc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=Kn(),r=Vt(),a=Se(),u=Pr(),l=Yn(),n=je(),s={keyword:"$ref",schemaType:"string",code(m){let{gen:h,schema:y,it:g}=m,{baseId:F,schemaEnv:D,validateName:E,opts:f,self:_}=g,{root:b}=D;if((y==="#"||y==="#/")&&F===b.baseId)return $();let w=l.resolveRef.call(_,b,F,y);if(w===void 0)throw new t.default(g.opts.uriResolver,F,y);if(w instanceof l.SchemaEnv)return v(w);return S(w);function $(){if(D===b)return d(m,E,D,D.$async);let j=h.scopeValue("root",{ref:b});return d(m,(0,a._)`${j}.validate`,b,b.$async)}function v(j){let W=c(m,j);d(m,W,j,j.$async)}function S(j){let W=h.scopeValue("schema",f.code.source===!0?{ref:j,code:(0,a.stringify)(j)}:{ref:j}),Z=h.name("valid"),q=m.subschema({schema:j,dataTypes:[],schemaPath:a.nil,topSchemaRef:W,errSchemaPath:y},Z);m.mergeEvaluated(q),m.ok(Z)}}};function c(m,h){let{gen:y}=m;return h.validate?y.scopeValue("validate",{ref:h.validate}):(0,a._)`${y.scopeValue("wrapper",{ref:h})}.validate`}e.getValidate=c;function d(m,h,y,g){let{gen:F,it:D}=m,{allErrors:E,schemaEnv:f,opts:_}=D,b=_.passContext?u.default.this:a.nil;g?w():$();function w(){if(!f.$async)throw new Error("async schema referenced by sync schema");let j=F.let("valid");F.try(()=>{F.code((0,a._)`await ${(0,r.callValidateCode)(m,h,b)}`),S(h),E||F.assign(j,!0)},W=>{F.if((0,a._)`!(${W} instanceof ${D.ValidationError})`,()=>F.throw(W)),v(W),E||F.assign(j,!1)}),m.ok(j)}function $(){m.result((0,r.callValidateCode)(m,h,b),()=>S(h),()=>v(h))}function v(j){let W=(0,a._)`${j}.errors`;F.assign(u.default.vErrors,(0,a._)`${u.default.vErrors} === null ? ${W} : ${u.default.vErrors}.concat(${W})`),F.assign(u.default.errors,(0,a._)`${u.default.vErrors}.length`)}function S(j){var W;if(!D.opts.unevaluated)return;let Z=(W=y?.validate)===null||W===void 0?void 0:W.evaluated;if(D.props!==!0)if(Z&&!Z.dynamicProps)Z.props!==void 0&&(D.props=n.mergeEvaluated.props(F,Z.props,D.props));else{let q=F.var("props",(0,a._)`${j}.evaluated.props`);D.props=n.mergeEvaluated.props(F,q,D.props,a.Name)}if(D.items!==!0)if(Z&&!Z.dynamicItems)Z.items!==void 0&&(D.items=n.mergeEvaluated.items(F,Z.items,D.items));else{let q=F.var("items",(0,a._)`${j}.evaluated.items`);D.items=n.mergeEvaluated.items(F,q,D.items,a.Name)}}}e.callRef=d,e.default=s}),Gc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Hc(),r=Vc(),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=a}),Kc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=t.operators,a={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},u={message:({keyword:n,schemaCode:s})=>(0,t.str)`must be ${a[n].okStr} ${s}`,params:({keyword:n,schemaCode:s})=>(0,t._)`{comparison: ${a[n].okStr}, limit: ${s}}`},l={keyword:Object.keys(a),type:"number",schemaType:"number",$data:!0,error:u,code(n){let{keyword:s,data:c,schemaCode:d}=n;n.fail$data((0,t._)`${c} ${a[s].fail} ${d} || isNaN(${c})`)}};e.default=l}),Yc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message:({schemaCode:u})=>(0,t.str)`must be multiple of ${u}`,params:({schemaCode:u})=>(0,t._)`{multipleOf: ${u}}`},a={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(u){let{gen:l,data:n,schemaCode:s,it:c}=u,d=c.opts.multipleOfPrecision,m=l.let("res"),h=d?(0,t._)`Math.abs(Math.round(${m}) - ${m}) > 1e-${d}`:(0,t._)`${m} !== parseInt(${m})`;u.fail$data((0,t._)`(${s} === 0 || (${m} = ${n}/${s}, ${h}))`)}};e.default=a}),Qc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(r){let a=r.length,u=0,l=0,n;for(;l<a;)u++,n=r.charCodeAt(l++),n>=55296&&n<=56319&&l<a&&(n=r.charCodeAt(l),(n&64512)===56320&&l++);return u}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}),Jc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Qc(),u={message({keyword:n,schemaCode:s}){let c=n==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${c} than ${s} characters`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},l={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:u,code(n){let{keyword:s,data:c,schemaCode:d,it:m}=n,h=s==="maxLength"?t.operators.GT:t.operators.LT,y=m.opts.unicode===!1?(0,t._)`${c}.length`:(0,t._)`${(0,r.useFunc)(n.gen,a.default)}(${c})`;n.fail$data((0,t._)`${y} ${h} ${d}`)}};e.default=l}),Zc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Vt(),r=Se(),a={message:({schemaCode:l})=>(0,r.str)`must match pattern "${l}"`,params:({schemaCode:l})=>(0,r._)`{pattern: ${l}}`},u={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:a,code(l){let{data:n,$data:s,schema:c,schemaCode:d,it:m}=l,h=m.opts.unicodeRegExp?"u":"",y=s?(0,r._)`(new RegExp(${d}, ${h}))`:(0,t.usePattern)(l,c);l.fail$data((0,r._)`!${y}.test(${n})`)}};e.default=u}),Xc=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message({keyword:u,schemaCode:l}){let n=u==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${n} than ${l} properties`},params:({schemaCode:u})=>(0,t._)`{limit: ${u}}`},a={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(u){let{keyword:l,data:n,schemaCode:s}=u,c=l==="maxProperties"?t.operators.GT:t.operators.LT;u.fail$data((0,t._)`Object.keys(${n}).length ${c} ${s}`)}};e.default=a}),ed=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Vt(),r=Se(),a=je(),u={message:({params:{missingProperty:n}})=>(0,r.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,r._)`{missingProperty: ${n}}`},l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:u,code(n){let{gen:s,schema:c,schemaCode:d,data:m,$data:h,it:y}=n,{opts:g}=y;if(!h&&c.length===0)return;let F=c.length>=g.loopRequired;if(y.allErrors?D():E(),g.strictRequired){let b=n.parentSchema.properties,{definedProperties:w}=n.it;for(let $ of c)if(b?.[$]===void 0&&!w.has($)){let v=y.schemaEnv.baseId+y.errSchemaPath,S=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,a.checkStrictMode)(y,S,y.opts.strictRequired)}}function D(){if(F||h)n.block$data(r.nil,f);else for(let b of c)(0,t.checkReportMissingProp)(n,b)}function E(){let b=s.let("missing");if(F||h){let w=s.let("valid",!0);n.block$data(w,()=>_(b,w)),n.ok(w)}else s.if((0,t.checkMissingProp)(n,c,b)),(0,t.reportMissingProp)(n,b),s.else()}function f(){s.forOf("prop",d,b=>{n.setParams({missingProperty:b}),s.if((0,t.noPropertyInData)(s,m,b,g.ownProperties),()=>n.error())})}function _(b,w){n.setParams({missingProperty:b}),s.forOf(b,d,()=>{s.assign(w,(0,t.propertyInData)(s,m,b,g.ownProperties)),s.if((0,r.not)(w),()=>{n.error(),s.break()})},r.nil)}}};e.default=l}),td=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message({keyword:u,schemaCode:l}){let n=u==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${n} than ${l} items`},params:({schemaCode:u})=>(0,t._)`{limit: ${u}}`},a={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(u){let{keyword:l,data:n,schemaCode:s}=u,c=l==="maxItems"?t.operators.GT:t.operators.LT;u.fail$data((0,t._)`${n}.length ${c} ${s}`)}};e.default=a}),Qn=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Qo();t.code='require("ajv/dist/runtime/equal").default',e.default=t}),rd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ou(),r=Se(),a=je(),u=Qn(),l={message:({params:{i:s,j:c}})=>(0,r.str)`must NOT have duplicate items (items ## ${c} and ${s} are identical)`,params:({params:{i:s,j:c}})=>(0,r._)`{i: ${s}, j: ${c}}`},n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:l,code(s){let{gen:c,data:d,$data:m,schema:h,parentSchema:y,schemaCode:g,it:F}=s;if(!m&&!h)return;let D=c.let("valid"),E=y.items?(0,t.getSchemaTypes)(y.items):[];s.block$data(D,f,(0,r._)`${g} === false`),s.ok(D);function f(){let $=c.let("i",(0,r._)`${d}.length`),v=c.let("j");s.setParams({i:$,j:v}),c.assign(D,!0),c.if((0,r._)`${$} > 1`,()=>(_()?b:w)($,v))}function _(){return E.length>0&&!E.some($=>$==="object"||$==="array")}function b($,v){let S=c.name("item"),j=(0,t.checkDataTypes)(E,S,F.opts.strictNumbers,t.DataType.Wrong),W=c.const("indices",(0,r._)`{}`);c.for((0,r._)`;${$}--;`,()=>{c.let(S,(0,r._)`${d}[${$}]`),c.if(j,(0,r._)`continue`),E.length>1&&c.if((0,r._)`typeof ${S} == "string"`,(0,r._)`${S} += "_"`),c.if((0,r._)`typeof ${W}[${S}] == "number"`,()=>{c.assign(v,(0,r._)`${W}[${S}]`),s.error(),c.assign(D,!1).break()}).code((0,r._)`${W}[${S}] = ${$}`)})}function w($,v){let S=(0,a.useFunc)(c,u.default),j=c.name("outer");c.label(j).for((0,r._)`;${$}--;`,()=>c.for((0,r._)`${v} = ${$}; ${v}--;`,()=>c.if((0,r._)`${S}(${d}[${$}], ${d}[${v}])`,()=>{s.error(),c.assign(D,!1).break(j)})))}}};e.default=n}),id=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Qn(),u={message:"must be equal to constant",params:({schemaCode:n})=>(0,t._)`{allowedValue: ${n}}`},l={keyword:"const",$data:!0,error:u,code(n){let{gen:s,data:c,$data:d,schemaCode:m,schema:h}=n;d||h&&typeof h=="object"?n.fail$data((0,t._)`!${(0,r.useFunc)(s,a.default)}(${c}, ${m})`):n.fail((0,t._)`${h} !== ${c}`)}};e.default=l}),ud=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Qn(),u={message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,t._)`{allowedValues: ${n}}`},l={keyword:"enum",schemaType:"array",$data:!0,error:u,code(n){let{gen:s,data:c,$data:d,schema:m,schemaCode:h,it:y}=n;if(!d&&m.length===0)throw new Error("enum must have non-empty array");let g=m.length>=y.opts.loopEnum,F,D=()=>F??(F=(0,r.useFunc)(s,a.default)),E;if(g||d)E=s.let("valid"),n.block$data(E,f);else{if(!Array.isArray(m))throw new Error("ajv implementation error");let b=s.const("vSchema",h);E=(0,t.or)(...m.map((w,$)=>_(b,$)))}n.pass(E);function f(){s.assign(E,!1),s.forOf("v",h,b=>s.if((0,t._)`${D()}(${c}, ${b})`,()=>s.assign(E,!0).break()))}function _(b,w){let $=m[w];return typeof $=="object"&&$!==null?(0,t._)`${D()}(${c}, ${b}[${w}])`:(0,t._)`${c} === ${$}`}}};e.default=l}),nd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Kc(),r=Yc(),a=Jc(),u=Zc(),l=Xc(),n=ed(),s=td(),c=rd(),d=id(),m=ud(),h=[t.default,r.default,a.default,u.default,l.default,n.default,s.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,m.default];e.default=h}),Jo=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Se(),r=je(),a={message:({params:{len:n}})=>(0,t.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,t._)`{limit: ${n}}`},u={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:a,code(n){let{parentSchema:s,it:c}=n,{items:d}=s;if(!Array.isArray(d)){(0,r.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}l(n,d)}};function l(n,s){let{gen:c,schema:d,data:m,keyword:h,it:y}=n;y.items=!0;let g=c.const("len",(0,t._)`${m}.length`);if(d===!1)n.setParams({len:s.length}),n.pass((0,t._)`${g} <= ${s.length}`);else if(typeof d=="object"&&!(0,r.alwaysValidSchema)(y,d)){let D=c.var("valid",(0,t._)`${g} <= ${s.length}`);c.if((0,t.not)(D),()=>F(D)),n.ok(D)}function F(D){c.forRange("i",s.length,g,E=>{n.subschema({keyword:h,dataProp:E,dataPropType:r.Type.Num},D),y.allErrors||c.if((0,t.not)(D),()=>c.break())})}}e.validateAdditionalItems=l,e.default=u}),Zo=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Se(),r=je(),a=Vt(),u={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){let{schema:s,it:c}=n;if(Array.isArray(s))return l(n,"additionalItems",s);c.items=!0,!(0,r.alwaysValidSchema)(c,s)&&n.ok((0,a.validateArray)(n))}};function l(n,s,c=n.schema){let{gen:d,parentSchema:m,data:h,keyword:y,it:g}=n;E(m),g.opts.unevaluated&&c.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(d,c.length,g.items));let F=d.name("valid"),D=d.const("len",(0,t._)`${h}.length`);c.forEach((f,_)=>{(0,r.alwaysValidSchema)(g,f)||(d.if((0,t._)`${D} > ${_}`,()=>n.subschema({keyword:y,schemaProp:_,dataProp:_},F)),n.ok(F))});function E(f){let{opts:_,errSchemaPath:b}=g,w=c.length,$=w===f.minItems&&(w===f.maxItems||f[s]===!1);if(_.strictTuples&&!$){let v=`"${y}" is ${w}-tuple, but minItems or maxItems/${s} are not specified or different at path "${b}"`;(0,r.checkStrictMode)(g,v,_.strictTuples)}}}e.validateTuple=l,e.default=u}),ad=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Zo(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,t.validateTuple)(a,"items")};e.default=r}),od=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Vt(),u=Jo(),l={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:l,code(s){let{schema:c,parentSchema:d,it:m}=s,{prefixItems:h}=d;m.items=!0,!(0,r.alwaysValidSchema)(m,c)&&(h?(0,u.validateAdditionalItems)(s,h):s.ok((0,a.validateArray)(s)))}};e.default=n}),sd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:({params:{min:l,max:n}})=>n===void 0?(0,t.str)`must contain at least ${l} valid item(s)`:(0,t.str)`must contain at least ${l} and no more than ${n} valid item(s)`,params:({params:{min:l,max:n}})=>n===void 0?(0,t._)`{minContains: ${l}}`:(0,t._)`{minContains: ${l}, maxContains: ${n}}`},u={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:a,code(l){let{gen:n,schema:s,parentSchema:c,data:d,it:m}=l,h,y,{minContains:g,maxContains:F}=c;m.opts.next?(h=g===void 0?1:g,y=F):h=1;let D=n.const("len",(0,t._)`${d}.length`);if(l.setParams({min:h,max:y}),y===void 0&&h===0){(0,r.checkStrictMode)(m,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(y!==void 0&&h>y){(0,r.checkStrictMode)(m,'"minContains" > "maxContains" is always invalid'),l.fail();return}if((0,r.alwaysValidSchema)(m,s)){let w=(0,t._)`${D} >= ${h}`;y!==void 0&&(w=(0,t._)`${w} && ${D} <= ${y}`),l.pass(w);return}m.items=!0;let E=n.name("valid");y===void 0&&h===1?_(E,()=>n.if(E,()=>n.break())):h===0?(n.let(E,!0),y!==void 0&&n.if((0,t._)`${d}.length > 0`,f)):(n.let(E,!1),f()),l.result(E,()=>l.reset());function f(){let w=n.name("_valid"),$=n.let("count",0);_(w,()=>n.if(w,()=>b($)))}function _(w,$){n.forRange("i",0,D,v=>{l.subschema({keyword:"contains",dataProp:v,dataPropType:r.Type.Num,compositeRule:!0},w),$()})}function b(w){n.code((0,t._)`${w}++`),y===void 0?n.if((0,t._)`${w} >= ${h}`,()=>n.assign(E,!0).break()):(n.if((0,t._)`${w} > ${y}`,()=>n.assign(E,!1).break()),h===1?n.assign(E,!0):n.if((0,t._)`${w} >= ${h}`,()=>n.assign(E,!0)))}}};e.default=u}),ld=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Se(),r=je(),a=Vt();e.error={message:({params:{property:c,depsCount:d,deps:m}})=>{let h=d===1?"property":"properties";return(0,t.str)`must have ${h} ${m} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:m,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${d},
    deps: ${m}}`};var u={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){let[d,m]=l(c);n(c,d),s(c,m)}};function l({schema:c}){let d={},m={};for(let h in c){if(h==="__proto__")continue;let y=Array.isArray(c[h])?d:m;y[h]=c[h]}return[d,m]}function n(c,d=c.schema){let{gen:m,data:h,it:y}=c;if(Object.keys(d).length===0)return;let g=m.let("missing");for(let F in d){let D=d[F];if(D.length===0)continue;let E=(0,a.propertyInData)(m,h,F,y.opts.ownProperties);c.setParams({property:F,depsCount:D.length,deps:D.join(", ")}),y.allErrors?m.if(E,()=>{for(let f of D)(0,a.checkReportMissingProp)(c,f)}):(m.if((0,t._)`${E} && (${(0,a.checkMissingProp)(c,D,g)})`),(0,a.reportMissingProp)(c,g),m.else())}}e.validatePropertyDeps=n;function s(c,d=c.schema){let{gen:m,data:h,keyword:y,it:g}=c,F=m.name("valid");for(let D in d)(0,r.alwaysValidSchema)(g,d[D])||(m.if((0,a.propertyInData)(m,h,D,g.opts.ownProperties),()=>{let E=c.subschema({keyword:y,schemaProp:D},F);c.mergeValidEvaluated(E,F)},()=>m.var(F,!0)),c.ok(F))}e.validateSchemaDeps=s,e.default=u}),cd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:"property name must be valid",params:({params:l})=>(0,t._)`{propertyName: ${l.propertyName}}`},u={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:a,code(l){let{gen:n,schema:s,data:c,it:d}=l;if((0,r.alwaysValidSchema)(d,s))return;let m=n.name("valid");n.forIn("key",c,h=>{l.setParams({propertyName:h}),l.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},m),n.if((0,t.not)(m),()=>{l.error(!0),d.allErrors||n.break()})}),l.ok(m)}};e.default=u}),Xo=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Vt(),r=Se(),a=Pr(),u=je(),l={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:l,code(s){let{gen:c,schema:d,parentSchema:m,data:h,errsCount:y,it:g}=s;if(!y)throw new Error("ajv implementation error");let{allErrors:F,opts:D}=g;if(g.props=!0,D.removeAdditional!=="all"&&(0,u.alwaysValidSchema)(g,d))return;let E=(0,t.allSchemaProperties)(m.properties),f=(0,t.allSchemaProperties)(m.patternProperties);_(),s.ok((0,r._)`${y} === ${a.default.errors}`);function _(){c.forIn("key",h,S=>{!E.length&&!f.length?$(S):c.if(b(S),()=>$(S))})}function b(S){let j;if(E.length>8){let W=(0,u.schemaRefOrVal)(g,m.properties,"properties");j=(0,t.isOwnProperty)(c,W,S)}else E.length?j=(0,r.or)(...E.map(W=>(0,r._)`${S} === ${W}`)):j=r.nil;return f.length&&(j=(0,r.or)(j,...f.map(W=>(0,r._)`${(0,t.usePattern)(s,W)}.test(${S})`))),(0,r.not)(j)}function w(S){c.code((0,r._)`delete ${h}[${S}]`)}function $(S){if(D.removeAdditional==="all"||D.removeAdditional&&d===!1){w(S);return}if(d===!1){s.setParams({additionalProperty:S}),s.error(),F||c.break();return}if(typeof d=="object"&&!(0,u.alwaysValidSchema)(g,d)){let j=c.name("valid");D.removeAdditional==="failing"?(v(S,j,!1),c.if((0,r.not)(j),()=>{s.reset(),w(S)})):(v(S,j),F||c.if((0,r.not)(j),()=>c.break()))}}function v(S,j,W){let Z={keyword:"additionalProperties",dataProp:S,dataPropType:u.Type.Str};W===!1&&Object.assign(Z,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(Z,j)}}};e.default=n}),dd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Zu(),r=Vt(),a=je(),u=Xo(),l={keyword:"properties",type:"object",schemaType:"object",code(n){let{gen:s,schema:c,parentSchema:d,data:m,it:h}=n;h.opts.removeAdditional==="all"&&d.additionalProperties===void 0&&u.default.code(new t.KeywordCxt(h,u.default,"additionalProperties"));let y=(0,r.allSchemaProperties)(c);for(let f of y)h.definedProperties.add(f);h.opts.unevaluated&&y.length&&h.props!==!0&&(h.props=a.mergeEvaluated.props(s,(0,a.toHash)(y),h.props));let g=y.filter(f=>!(0,a.alwaysValidSchema)(h,c[f]));if(g.length===0)return;let F=s.name("valid");for(let f of g)D(f)?E(f):(s.if((0,r.propertyInData)(s,m,f,h.opts.ownProperties)),E(f),h.allErrors||s.else().var(F,!0),s.endIf()),n.it.definedProperties.add(f),n.ok(F);function D(f){return h.opts.useDefaults&&!h.compositeRule&&c[f].default!==void 0}function E(f){n.subschema({keyword:"properties",schemaProp:f,dataProp:f},F)}}};e.default=l}),pd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Vt(),r=Se(),a=je(),u=je(),l={keyword:"patternProperties",type:"object",schemaType:"object",code(n){let{gen:s,schema:c,data:d,parentSchema:m,it:h}=n,{opts:y}=h,g=(0,t.allSchemaProperties)(c),F=g.filter($=>(0,a.alwaysValidSchema)(h,c[$]));if(g.length===0||F.length===g.length&&(!h.opts.unevaluated||h.props===!0))return;let D=y.strictSchema&&!y.allowMatchingProperties&&m.properties,E=s.name("valid");h.props!==!0&&!(h.props instanceof r.Name)&&(h.props=(0,u.evaluatedPropsToName)(s,h.props));let{props:f}=h;_();function _(){for(let $ of g)D&&b($),h.allErrors?w($):(s.var(E,!0),w($),s.if(E))}function b($){for(let v in D)new RegExp($).test(v)&&(0,a.checkStrictMode)(h,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function w($){s.forIn("key",d,v=>{s.if((0,r._)`${(0,t.usePattern)(n,$)}.test(${v})`,()=>{let S=F.includes($);S||n.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:u.Type.Str},E),h.opts.unevaluated&&f!==!0?s.assign((0,r._)`${f}[${v}]`,!0):!S&&!h.allErrors&&s.if((0,r.not)(E),()=>s.break())})})}}};e.default=l}),fd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=je(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:u,schema:l,it:n}=a;if((0,t.alwaysValidSchema)(n,l)){a.fail();return}let s=u.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),a.failResult(s,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}};e.default=r}),hd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Vt(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}),md=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:"must match exactly one schema in oneOf",params:({params:l})=>(0,t._)`{passingSchemas: ${l.passing}}`},u={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:a,code(l){let{gen:n,schema:s,parentSchema:c,it:d}=l;if(!Array.isArray(s))throw new Error("ajv implementation error");if(d.opts.discriminator&&c.discriminator)return;let m=s,h=n.let("valid",!1),y=n.let("passing",null),g=n.name("_valid");l.setParams({passing:y}),n.block(F),l.result(h,()=>l.reset(),()=>l.error(!0));function F(){m.forEach((D,E)=>{let f;(0,r.alwaysValidSchema)(d,D)?n.var(g,!0):f=l.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},g),E>0&&n.if((0,t._)`${g} && ${h}`).assign(h,!1).assign(y,(0,t._)`[${y}, ${E}]`).else(),n.if(g,()=>{n.assign(h,!0),n.assign(y,E),f&&l.mergeEvaluated(f,t.Name)})})}}};e.default=u}),gd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=je(),r={keyword:"allOf",schemaType:"array",code(a){let{gen:u,schema:l,it:n}=a;if(!Array.isArray(l))throw new Error("ajv implementation error");let s=u.name("valid");l.forEach((c,d)=>{if((0,t.alwaysValidSchema)(n,c))return;let m=a.subschema({keyword:"allOf",schemaProp:d},s);a.ok(s),a.mergeEvaluated(m)})}};e.default=r}),yd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:({params:n})=>(0,t.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,t._)`{failingKeyword: ${n.ifClause}}`},u={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:a,code(n){let{gen:s,parentSchema:c,it:d}=n;c.then===void 0&&c.else===void 0&&(0,r.checkStrictMode)(d,'"if" without "then" and "else" is ignored');let m=l(d,"then"),h=l(d,"else");if(!m&&!h)return;let y=s.let("valid",!0),g=s.name("_valid");if(F(),n.reset(),m&&h){let E=s.let("ifClause");n.setParams({ifClause:E}),s.if(g,D("then",E),D("else",E))}else m?s.if(g,D("then")):s.if((0,t.not)(g),D("else"));n.pass(y,()=>n.error(!0));function F(){let E=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);n.mergeEvaluated(E)}function D(E,f){return()=>{let _=n.subschema({keyword:E},g);s.assign(y,g),n.mergeValidEvaluated(_,y),f?s.assign(f,(0,t._)`${E}`):n.setParams({ifClause:E})}}}};function l(n,s){let c=n.schema[s];return c!==void 0&&!(0,r.alwaysValidSchema)(n,c)}e.default=u}),bd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=je(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:u,it:l}){u.if===void 0&&(0,t.checkStrictMode)(l,`"${a}" without "if" is ignored`)}};e.default=r}),Ed=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Jo(),r=ad(),a=Zo(),u=od(),l=sd(),n=ld(),s=cd(),c=Xo(),d=dd(),m=pd(),h=fd(),y=hd(),g=md(),F=gd(),D=yd(),E=bd();function f(_=!1){let b=[h.default,y.default,g.default,F.default,D.default,E.default,s.default,c.default,n.default,d.default,m.default];return _?b.push(r.default,u.default):b.push(t.default,a.default),b.push(l.default),b}e.default=f}),vd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message:({schemaCode:u})=>(0,t.str)`must match format "${u}"`,params:({schemaCode:u})=>(0,t._)`{format: ${u}}`},a={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(u,l){let{gen:n,data:s,$data:c,schema:d,schemaCode:m,it:h}=u,{opts:y,errSchemaPath:g,schemaEnv:F,self:D}=h;if(!y.validateFormats)return;c?E():f();function E(){let _=n.scopeValue("formats",{ref:D.formats,code:y.code.formats}),b=n.const("fDef",(0,t._)`${_}[${m}]`),w=n.let("fType"),$=n.let("format");n.if((0,t._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>n.assign(w,(0,t._)`${b}.type || "string"`).assign($,(0,t._)`${b}.validate`),()=>n.assign(w,(0,t._)`"string"`).assign($,b)),u.fail$data((0,t.or)(v(),S()));function v(){return y.strictSchema===!1?t.nil:(0,t._)`${m} && !${$}`}function S(){let j=F.$async?(0,t._)`(${b}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,W=(0,t._)`(typeof ${$} == "function" ? ${j} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${w} === ${l} && !${W}`}}function f(){let _=D.formats[d];if(!_){v();return}if(_===!0)return;let[b,w,$]=S(_);b===l&&u.pass(j());function v(){if(y.strictSchema===!1){D.logger.warn(W());return}throw new Error(W());function W(){return`unknown format "${d}" ignored in schema at path "${g}"`}}function S(W){let Z=W instanceof RegExp?(0,t.regexpCode)(W):y.code.formats?(0,t._)`${y.code.formats}${(0,t.getProperty)(d)}`:void 0,q=n.scopeValue("formats",{key:d,ref:W,code:Z});return typeof W=="object"&&!(W instanceof RegExp)?[W.type||"string",W.validate,(0,t._)`${q}.validate`]:["string",W,q]}function j(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!F.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof w=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=a}),Fd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=vd(),r=[t.default];e.default=r}),_d=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),wd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Gc(),r=nd(),a=Ed(),u=Fd(),l=_d(),n=[t.default,r.default,(0,a.default)(),u.default,l.metadataVocabulary,l.contentVocabulary];e.default=n}),Cd=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t=e.DiscrError||(e.DiscrError={}))}),Ad=se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=Cd(),a=Yn(),u=je(),l={message:({params:{discrError:s,tagName:c}})=>s===r.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:s,tag:c,tagName:d}})=>(0,t._)`{error: ${s}, tag: ${d}, tagValue: ${c}}`},n={keyword:"discriminator",type:"object",schemaType:"object",error:l,code(s){let{gen:c,data:d,schema:m,parentSchema:h,it:y}=s,{oneOf:g}=h;if(!y.opts.discriminator)throw new Error("discriminator: requires discriminator option");let F=m.propertyName;if(typeof F!="string")throw new Error("discriminator: requires propertyName");if(m.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");let D=c.let("valid",!1),E=c.const("tag",(0,t._)`${d}${(0,t.getProperty)(F)}`);c.if((0,t._)`typeof ${E} == "string"`,()=>f(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:E,tagName:F})),s.ok(D);function f(){let w=b();c.if(!1);for(let $ in w)c.elseIf((0,t._)`${E} === ${$}`),c.assign(D,_(w[$]));c.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:E,tagName:F}),c.endIf()}function _(w){let $=c.name("valid"),v=s.subschema({keyword:"oneOf",schemaProp:w},$);return s.mergeEvaluated(v,t.Name),$}function b(){var w;let $={},v=j(h),S=!0;for(let q=0;q<g.length;q++){let K=g[q];K?.$ref&&!(0,u.schemaHasRulesButRef)(K,y.self.RULES)&&(K=a.resolveRef.call(y.self,y.schemaEnv.root,y.baseId,K?.$ref),K instanceof a.SchemaEnv&&(K=K.schema));let ue=(w=K?.properties)===null||w===void 0?void 0:w[F];if(typeof ue!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${F}"`);S=S&&(v||j(K)),W(ue,q)}if(!S)throw new Error(`discriminator: "${F}" must be required`);return $;function j({required:q}){return Array.isArray(q)&&q.includes(F)}function W(q,K){if(q.const)Z(q.const,K);else if(q.enum)for(let ue of q.enum)Z(ue,K);else throw new Error(`discriminator: "properties/${F}" must have "const" or "enum"`)}function Z(q,K){if(typeof q!="string"||q in $)throw new Error(`discriminator: "${F}" values must be unique strings`);$[q]=K}}}};e.default=n}),Sd=se((e,t)=>{t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),$d=se((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=zc(),a=wd(),u=Ad(),l=Sd(),n=["/properties"],s="http://json-schema.org/draft-07/schema",c=class extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let g=this.opts.$data?this.$dataMetaSchema(l,n):l;this.addMetaSchema(g,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var d=Zu();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var m=Se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var h=Gn();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var y=Kn();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return y.default}})}),Dd=se((e,t)=>{"use strict";t.exports=function(r){if(r&&r.length)for(let l of r){let n;switch(l.keyword){case"additionalItems":case"items":n="";var u=l.params.limit;n+="\u4E0D\u5141\u8BB8\u8D85\u8FC7"+u+"\u4E2A\u5143\u7D20";break;case"additionalProperties":n="\u4E0D\u5141\u8BB8\u6709\u989D\u5916\u7684\u5C5E\u6027";break;case"anyOf":n="\u6570\u636E\u5E94\u4E3A anyOf \u6240\u6307\u5B9A\u7684\u5176\u4E2D\u4E00\u4E2A";break;case"const":n="\u5E94\u5F53\u7B49\u4E8E\u5E38\u91CF";break;case"contains":n="\u5E94\u5F53\u5305\u542B\u4E00\u4E2A\u6709\u6548\u9879";break;case"dependencies":case"dependentRequired":n="";var u=l.params.depsCount;n+="\u5E94\u5F53\u62E5\u6709\u5C5E\u6027"+l.params.property+"\u7684\u4F9D\u8D56\u5C5E\u6027"+l.params.deps;break;case"discriminator":switch(l.params.error){case"tag":n='\u6807\u7B7E "'+l.params.tag+'" \u7684\u7C7B\u578B\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32';break;case"mapping":n='\u6807\u7B7E "'+l.params.tag+'" \u7684\u503C\u5FC5\u987B\u5728 oneOf \u4E4B\u4E2D';break;default:n='\u5E94\u5F53\u901A\u8FC7 "'+l.keyword+' \u5173\u952E\u8BCD\u6821\u9A8C"'}break;case"enum":n="\u5E94\u5F53\u662F\u9884\u8BBE\u5B9A\u7684\u679A\u4E3E\u503C\u4E4B\u4E00";break;case"false schema":n="\u5E03\u5C14\u6A21\u5F0F\u51FA\u9519";break;case"format":n='\u5E94\u5F53\u5339\u914D\u683C\u5F0F "'+l.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":n="";var a=l.params.comparison+" "+l.params.limit;n+="\u5E94\u5F53\u662F "+a;break;case"formatMinimum":case"formatExclusiveMinimum":n="";var a=l.params.comparison+" "+l.params.limit;n+="\u5E94\u5F53\u662F "+a;break;case"if":n='\u5E94\u5F53\u5339\u914D\u6A21\u5F0F "'+l.params.failingKeyword+'" ';break;case"maximum":case"exclusiveMaximum":n="";var a=l.params.comparison+" "+l.params.limit;n+="\u5E94\u5F53\u4E3A "+a;break;case"maxItems":n="";var u=l.params.limit;n+="\u4E0D\u5E94\u591A\u4E8E "+u+" \u4E2A\u9879";break;case"maxLength":n="";var u=l.params.limit;n+="\u4E0D\u5E94\u591A\u4E8E "+u+" \u4E2A\u5B57\u7B26";break;case"maxProperties":n="";var u=l.params.limit;n+="\u4E0D\u5E94\u6709\u591A\u4E8E "+u+" \u4E2A\u5C5E\u6027";break;case"minimum":case"exclusiveMinimum":n="";var a=l.params.comparison+" "+l.params.limit;n+="\u5E94\u5F53\u4E3A "+a;break;case"minItems":n="";var u=l.params.limit;n+="\u4E0D\u5E94\u5C11\u4E8E "+u+" \u4E2A\u9879";break;case"minLength":n="";var u=l.params.limit;n+="\u4E0D\u5E94\u5C11\u4E8E "+u+" \u4E2A\u5B57\u7B26";break;case"minProperties":n="";var u=l.params.limit;n+="\u4E0D\u5E94\u6709\u5C11\u4E8E "+u+" \u4E2A\u5C5E\u6027";break;case"multipleOf":n="\u5E94\u5F53\u662F "+l.params.multipleOf+" \u7684\u6574\u6570\u500D";break;case"not":n='\u4E0D\u5E94\u5F53\u5339\u914D "not" schema';break;case"oneOf":n='\u53EA\u80FD\u5339\u914D\u4E00\u4E2A "oneOf" \u4E2D\u7684 schema';break;case"pattern":n='\u5E94\u5F53\u5339\u914D\u6A21\u5F0F "'+l.params.pattern+'"';break;case"patternRequired":n="\u5E94\u5F53\u6709\u5C5E\u6027\u5339\u914D\u6A21\u5F0F "+l.params.missingPattern;break;case"propertyNames":n="\u5C5E\u6027\u540D \u65E0\u6548";break;case"required":n="\u5E94\u5F53\u6709\u5FC5\u9700\u5C5E\u6027 "+l.params.missingProperty;break;case"type":n="\u5E94\u5F53\u662F "+l.params.type+" \u7C7B\u578B";break;case"unevaluatedItems":n="";var u=l.params.len;n+=" \u4E0D\u5141\u8BB8\u6709\u8D85\u8FC7 "+u+" \u4E2A\u5143\u7D20";break;case"unevaluatedProperties":n="\u4E0D\u5141\u8BB8\u5B58\u5728\u672A\u6C42\u503C\u7684\u5C5E\u6027";break;case"uniqueItems":n="\u4E0D\u5E94\u5F53\u542B\u6709\u91CD\u590D\u9879 (\u7B2C "+l.params.j+" \u9879\u4E0E\u7B2C "+l.params.i+" \u9879\u662F\u91CD\u590D\u7684)";break;default:n='\u5E94\u5F53\u901A\u8FC7 "'+l.keyword+' \u5173\u952E\u8BCD\u6821\u9A8C"'}l.message=n}}}),Bd=se((e,t)=>{t.exports=[{$id:"Op",type:"number",enum:[0,1,2,3,4],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Event",type:"object",properties:{id:{description:"\u4E8B\u4EF6 ID",type:"number"},type:{description:"\u4E8B\u4EF6\u7C7B\u578B",type:"string"},platform:{description:"\u63A5\u6536\u8005\u7684\u5E73\u53F0\u540D\u79F0",type:"string"},self_id:{description:"\u63A5\u6536\u8005\u7684\u5E73\u53F0\u8D26\u53F7",type:"string"},timestamp:{description:"\u4E8B\u4EF6\u7684\u65F6\u95F4\u6233",type:"number"},channel:{$ref:"#/definitions/Channel",description:"\u4E8B\u4EF6\u6240\u5C5E\u7684\u9891\u9053"},guild:{$ref:"#/definitions/Guild",description:"\u4E8B\u4EF6\u6240\u5C5E\u7684\u7FA4\u7EC4"},login:{$ref:"#/definitions/Login",description:"\u4E8B\u4EF6\u7684\u767B\u5F55\u4FE1\u606F"},member:{$ref:"#/definitions/GuildMember",description:"\u4E8B\u4EF6\u7684\u76EE\u6807\u6210\u5458"},message:{$ref:"#/definitions/Message",description:"\u4E8B\u4EF6\u7684\u6D88\u606F"},operator:{$ref:"#/definitions/User",description:"\u4E8B\u4EF6\u7684\u64CD\u4F5C\u8005"},role:{$ref:"#/definitions/GuildRole",description:"\u4E8B\u4EF6\u7684\u76EE\u6807\u89D2\u8272"},user:{$ref:"#/definitions/User",description:"\u4E8B\u4EF6\u7684\u76EE\u6807\u7528\u6237"}},defaultProperties:[],additionalProperties:!1,required:["id","platform","self_id","timestamp","type"],definitions:{Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]},Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]},Login:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},self_id:{description:"\u5E73\u53F0\u8D26\u53F7",type:"string"},platform:{description:"\u5E73\u53F0\u540D\u79F0",type:"string"},status:{$ref:"#/definitions/LoginStatus",description:"\u5728\u7EBF\u72B6\u6001"},features:{description:"\u5E73\u53F0\u7279\u6027\u5217\u8868",type:"array",items:{type:"string"}},proxy_urls:{description:"\u4EE3\u7406\u8DEF\u7531\u5217\u8868",type:"array",items:{type:"string"}}},defaultProperties:[],additionalProperties:!1,required:["features","proxy_urls","status"]},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]},LoginStatus:{type:"number",enum:[0,1,2,3,4]},GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},Message:{type:"object",properties:{id:{description:"\u6D88\u606F ID",type:"string"},content:{description:"\u6D88\u606F\u5185\u5BB9",type:"string"},channel:{$ref:"#/definitions/Channel",description:"\u9891\u9053\u5BF9\u8C61"},guild:{$ref:"#/definitions/Guild",description:"\u7FA4\u7EC4\u5BF9\u8C61"},member:{$ref:"#/definitions/GuildMember",description:"\u6210\u5458\u5BF9\u8C61"},user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},created_at:{description:"\u6D88\u606F\u53D1\u9001\u7684\u65F6\u95F4\u6233",type:"number"},updated_at:{description:"\u6D88\u606F\u4FEE\u6539\u7684\u65F6\u95F4\u6233",type:"number"}},defaultProperties:[],additionalProperties:!1,required:["content","id"]},GuildRole:{type:"object",properties:{id:{description:"\u89D2\u8272 ID",type:"string"},name:{description:"\u89D2\u8272\u540D\u79F0",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Channel",type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"],definitions:{ChannelType:{type:"number",enum:[0,1,2,3]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelType",type:"number",enum:[0,1,2,3],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Guild",type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Login",type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},self_id:{description:"\u5E73\u53F0\u8D26\u53F7",type:"string"},platform:{description:"\u5E73\u53F0\u540D\u79F0",type:"string"},status:{$ref:"#/definitions/LoginStatus",description:"\u5728\u7EBF\u72B6\u6001"},features:{description:"\u5E73\u53F0\u7279\u6027\u5217\u8868",type:"array",items:{type:"string"}},proxy_urls:{description:"\u4EE3\u7406\u8DEF\u7531\u5217\u8868",type:"array",items:{type:"string"}}},defaultProperties:[],additionalProperties:!1,required:["features","proxy_urls","status"],definitions:{User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]},LoginStatus:{type:"number",enum:[0,1,2,3,4]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"LoginStatus",type:"number",enum:[0,1,2,3,4],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMember",type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,definitions:{User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Message",type:"object",properties:{id:{description:"\u6D88\u606F ID",type:"string"},content:{description:"\u6D88\u606F\u5185\u5BB9",type:"string"},channel:{$ref:"#/definitions/Channel",description:"\u9891\u9053\u5BF9\u8C61"},guild:{$ref:"#/definitions/Guild",description:"\u7FA4\u7EC4\u5BF9\u8C61"},member:{$ref:"#/definitions/GuildMember",description:"\u6210\u5458\u5BF9\u8C61"},user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},created_at:{description:"\u6D88\u606F\u53D1\u9001\u7684\u65F6\u95F4\u6233",type:"number"},updated_at:{description:"\u6D88\u606F\u4FEE\u6539\u7684\u65F6\u95F4\u6233",type:"number"}},defaultProperties:[],additionalProperties:!1,required:["content","id"],definitions:{Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]},Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]},GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"User",type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildRole",type:"object",properties:{id:{description:"\u89D2\u8272 ID",type:"string"},name:{description:"\u89D2\u8272\u540D\u79F0",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Next",type:"object",properties:{next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageCreatePayload",type:"object",properties:{channel_id:{title:"\u76EE\u6807\u9891\u9053",description:`\u6D88\u606F\u8981\u53D1\u9001\u5230\u7684\u9891\u9053\u3002

\u5728 Chronocat\uFF0C\u7FA4\u804A\u5BF9\u5E94\u7684\u9891\u9053\u4E3A\u7FA4\u53F7\uFF0C
\u79C1\u804A\u5BF9\u5E94\u7684\u9891\u9053\u4E3A private: \u540E\u8DDF QQ \u53F7\u3002`,type:"string"},content:{title:"\u6D88\u606F\u5185\u5BB9",description:`\u6D88\u606F\u7684\u5185\u5BB9\u3002

\u683C\u5F0F\u4E3A Satori \u6D88\u606F\u5143\u7D20\u5B57\u7B26\u4E32\u3002`,type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","content"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ApprovePayload",type:"object",properties:{message_id:{description:"\u8BF7\u6C42 ID",type:"string"},approve:{description:"\u662F\u5426\u901A\u8FC7\u8BF7\u6C42",type:"boolean"},comment:{description:"\u5907\u6CE8\u4FE1\u606F",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["approve","message_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"FriendListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/User"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/Guild"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"UserPayload",type:"object",properties:{user_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberListPayload",type:"object",properties:{guild_id:{type:"string"},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/GuildMember"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildRemovePayload",type:"object",properties:{guild_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageDeletePayload",type:"object",properties:{channel_id:{type:"string"},message_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","message_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageGetPayload",type:"object",properties:{channel_id:{type:"string"},message_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","message_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageListPayload",type:"object",properties:{channel_id:{type:"string"},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/Message"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{Message:{type:"object",properties:{id:{description:"\u6D88\u606F ID",type:"string"},content:{description:"\u6D88\u606F\u5185\u5BB9",type:"string"},channel:{$ref:"#/definitions/Channel",description:"\u9891\u9053\u5BF9\u8C61"},guild:{$ref:"#/definitions/Guild",description:"\u7FA4\u7EC4\u5BF9\u8C61"},member:{$ref:"#/definitions/GuildMember",description:"\u6210\u5458\u5BF9\u8C61"},user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},created_at:{description:"\u6D88\u606F\u53D1\u9001\u7684\u65F6\u95F4\u6233",type:"number"},updated_at:{description:"\u6D88\u606F\u4FEE\u6539\u7684\u65F6\u95F4\u6233",type:"number"}},defaultProperties:[],additionalProperties:!1,required:["content","id"]},Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]},Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]},GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelMutePayload",type:"object",properties:{channel_id:{type:"string"},enable:{type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","enable"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelMemberMutePayload",type:"object",properties:{channel_id:{type:"string"},user_id:{type:"string"},duration:{type:"number"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","duration","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberMutePayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"},duration:{title:"\u7981\u8A00\u65F6\u957F",description:`\u7981\u8A00\u7684\u65F6\u957F\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u30020
\u8868\u793A\u89E3\u9664\u7981\u8A00\u3002\u5E94\u5F53\u5C0F\u4E8E 30 \u5929\uFF08259,200,000
\u6BEB\u79D2\uFF09\u3002\u76EE\u524D\u4F1A\u5BF9\u5411\u4E0B\u53D6\u6574\u5230\u79D2\u3002`,type:"number"},comment:{title:"\u8BF4\u660E\u4FE1\u606F",description:"\u7981\u8A00\u7FA4\u7EC4\u6210\u5458\u7684\u8BF4\u660E\u3002\u76EE\u524D\u4F1A\u5FFD\u7565\u6B64\u5B57\u6BB5\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["duration","guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelListPayload",type:"object",properties:{guild_id:{type:"string"},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/Channel"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelGetPayload",type:"object",properties:{channel_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildGetPayload",type:"object",properties:{guild_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"UserGetPayload",type:"object",properties:{user_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberGetPayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberKickPayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"},permanent:{type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberTitleSetPayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"},title:{title:"\u4E13\u5C5E\u5934\u8854",description:"\u8981\u8BBE\u7F6E\u7684\u4E13\u5C5E\u5934\u8854\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"PuTongDeJieKou1Payload",type:"object",properties:{g:{type:"string"},a:{type:"string"},b:{type:"string"},d:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["a","b","d","g"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatBaseConfig",type:"object",properties:{log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1,definitions:{ChronocatLogConfig:{type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1},ChronocatSatoriServerConfig:{type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"]},ChronocatSatoriWebHookConfig:{type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatConfig",type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},overrides:{title:"\u8D26\u53F7\u914D\u7F6E",description:"\u8D26\u53F7\u4E13\u5C5E\u7684\u914D\u7F6E\u3002",default:{},type:"object",additionalProperties:{$ref:"#/definitions/ChronocatCurrentConfig"},defaultProperties:[]},log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1,definitions:{ChronocatCurrentConfig:{type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",type:"boolean"},log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1},ChronocatLogConfig:{type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1},ChronocatSatoriServerConfig:{type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"]},ChronocatSatoriWebHookConfig:{type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatCurrentConfig",type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",type:"boolean"},log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1,definitions:{ChronocatLogConfig:{type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1},ChronocatSatoriServerConfig:{type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"]},ChronocatSatoriWebHookConfig:{type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatServerConfig",type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatHttpServerConfig",type:"object",properties:{listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSelfUrlConfig",type:"object",properties:{self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSatoriEventsConfig",type:"object",properties:{self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSatoriServerConfig",type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSatoriWebHookConfig",type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatLogConfig",type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatLogCurrentConfig",type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"}]}),es={};Io(es,{ChannelType:()=>us,LoginStatus:()=>ns,Op:()=>is,chronocat:()=>lm});Gs.exports=Ec(es);var _t=pt(vc(),1),xd=Object.defineProperty,kd=Object.getOwnPropertyNames,Ke=(e,t)=>xd(e,"name",{value:t,configurable:!0}),Pd=(e,t)=>function(){return t||(0,e[kd(e)[0]])((t={exports:{}}).exports,t),t.exports},Td=Pd({"satori/packages/element/src/index.ts"(e,t){var r=Symbol.for("satori.element"),a=class{static{Ke(this,"ElementConstructor")}get data(){return this.attrs}getTagName(){return this.type==="component"?this.attrs.is?.name??"component":this.type}toAttrString(){return Object.entries(this.attrs).map(([n,s])=>(0,_t.isNullable)(s)?"":(n=(0,_t.hyphenate)(n),s===!0?` ${n}`:s===!1?` no-${n}`:` ${n}="${u.escape(""+s,!0)}"`)).join("")}toString(n=!1){if(this.type==="text"&&"content"in this.attrs)return n?this.attrs.content:u.escape(this.attrs.content);let s=this.children.map(m=>m.toString(n)).join("");if(n)return s;let c=this.toAttrString(),d=this.getTagName();return this.children.length?`<${d}${c}>${s}</${d}>`:`<${d}${c}/>`}};(0,_t.defineProperty)(a,"name","Element"),(0,_t.defineProperty)(a.prototype,r,!0);function u(n,...s){let c=Object.create(a.prototype),d={},m=[];if(s[0]&&typeof s[0]=="object"&&!u.isElement(s[0])&&!Array.isArray(s[0])){let h=s.shift();for(let[y,g]of Object.entries(h))(0,_t.isNullable)(g)||(y==="children"?s.push(...(0,_t.makeArray)(g)):d[(0,_t.camelize)(y)]=g)}for(let h of s)m.push(...u.toElementArray(h));return typeof n=="function"&&(d.is=n,n="component"),Object.assign(c,{type:n,attrs:d,children:m})}Ke(u,"Element");var l=new Function("expr","context",`
  try {
    with (context) {
      return eval(expr)
    }
  } catch {}
`);(n=>{n.jsx=n,n.jsxs=n,n.jsxDEV=n,n.Fragment="template";function s(Q){return Q&&typeof Q=="object"&&Q[r]}n.isElement=s,Ke(s,"isElement");function c(Q){if(typeof Q=="string"||typeof Q=="number"||typeof Q=="boolean"){if(Q=""+Q,Q)return n("text",{content:Q})}else{if(s(Q))return Q;if(!(0,_t.isNullable)(Q))throw new TypeError(`Invalid content: ${Q}`)}}n.toElement=c,Ke(c,"toElement");function d(Q){return Array.isArray(Q)?Q.map(c).filter(Y=>Y):[c(Q)].filter(Y=>Y)}n.toElementArray=d,Ke(d,"toElementArray");function m(Q,Y){return typeof Q=="string"?S(Q,Y):d(Q)}n.normalize=m,Ke(m,"normalize");function h(Q,Y=!1){let oe=Q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return Y?oe.replace(/"/g,"&quot;"):oe}n.escape=h,Ke(h,"escape");function y(Q){return Q.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#(\d+);/g,(Y,oe)=>oe==="38"?Y:String.fromCharCode(+oe)).replace(/&#x([0-9a-f]+);/gi,(Y,oe)=>oe==="26"?Y:String.fromCharCode(parseInt(oe,16))).replace(/&(amp|#38|#x26);/g,"&")}n.unescape=y,Ke(y,"unescape");function g(Q,Y={}){let oe=S(Q);return Y.caret?Y.type&&oe[0]?.type!==Y.type?void 0:oe[0]:E(oe,Y.type||"*")[0]}n.from=g,Ke(g,"from");let F=/ *([ >+~]) */g;function D(Q){return Q.split(",").map(Y=>{let oe=[];Y=Y.trim();let ne,T=" ";for(;ne=F.exec(Y);)oe.push({type:Y.slice(0,ne.index),combinator:T}),T=ne[1],Y=Y.slice(ne.index+ne[0].length);return oe.push({type:Y,combinator:T}),oe})}n.parseSelector=D,Ke(D,"parseSelector");function E(Q,Y){if(!Q||!Y)return[];if(typeof Q=="string"&&(Q=S(Q)),typeof Y=="string"&&(Y=D(Y)),!Y.length)return[];let oe=[],ne=[];for(let[T,M]of Q.entries()){let V=[],C=[...Y,...oe];oe=[];let P=!1;for(let A of C){let{type:L,combinator:X}=A[0];(L===M.type||L==="*")&&(A.length===1?P=!0:[" ",">"].includes(A[1].combinator)?V.push(A.slice(1)):A[1].combinator==="+"?oe.push(A.slice(1)):Y.push(A.slice(1))),X===" "&&V.push(A)}P&&ne.push(Q[T]),ne.push(...E(M.children,V))}return ne}n.select=E,Ke(E,"select");function f(Q,Y){if(Q=Q.trim(),!/^[\w.]+$/.test(Q))return l(Q,Y)??"";let oe=Y;for(let ne of Q.split("."))if(oe=oe[ne],(0,_t.isNullable)(oe))return"";return oe??""}n.interpolate=f,Ke(f,"interpolate");let _=/(?<comment><!--[\s\S]*?-->)|(?<tag><(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>)/,b=/(?<comment><!--[\s\S]*?-->)|(?<tag><(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>)|(?<curly>\{(?<derivative>[@:/#][^\s}]*)?[\s\S]*?\})/,w=/([^\s=]+)(?:="(?<value1>[^"]*)"|='(?<value2>[^']*)')?/g,$=/([^\s=]+)(?:="(?<value1>[^"]*)"|='(?<value2>[^']*)'|=(?<curly>\{([^}]+)\}))?/g,v;(Q=>{Q[Q.OPEN=0]="OPEN",Q[Q.CLOSE=1]="CLOSE",Q[Q.EMPTY=2]="EMPTY",Q[Q.CONTINUE=3]="CONTINUE"})(v||(v={}));function S(Q,Y){let oe=[];function ne(P){P&&oe.push(P)}Ke(ne,"pushText");let T=Y?b:_,M,V=!0;for(;M=T.exec(Q);){let P=!M.groups.curly;C(Q.slice(0,M.index),V,P),V=P,Q=Q.slice(M.index+M[0].length);let[A,,,L,X,ce,de]=M;if(!M.groups.comment){if(M.groups.curly){let Fe="",Oe=2;M.groups.derivative&&(Fe=M.groups.derivative.slice(1),Oe={"@":2,"#":0,"/":1,":":3}[M.groups.derivative[0]]),oe.push({type:"curly",name:Fe,position:Oe,source:M.groups.curly,extra:M.groups.curly.slice(1+(M.groups.derivative??"").length,-1)});continue}oe.push({type:"angle",source:A,name:X||n.Fragment,position:L?1:de?2:0,extra:ce})}}C(Q,V,!0);function C(P,A,L){P=y(P),A&&(P=P.replace(/^\s*\n\s*/,"")),L&&(P=P.replace(/\s*\n\s*$/,"")),ne(P)}return Ke(C,"parseContent"),W(j(oe),Y)}n.parse=S,Ke(S,"parse");function j(Q){let Y=[[{type:"angle",name:n.Fragment,position:0,source:"",extra:"",children:{default:[]}},"default"]];function oe(...ne){let[T,M]=Y[0];T.children[M].push(...ne)}Ke(oe,"pushToken");for(let ne of Q){if(typeof ne=="string"){oe(ne);continue}let{name:T,position:M}=ne;M===1?Y[0][0].name===T&&Y.shift():M===3?(Y[0][0].children[T]=[],Y[0][1]=T):M===0?(oe(ne),ne.children={default:[]},Y.unshift([ne,"default"])):oe(ne)}return Y[Y.length-1][0].children.default}Ke(j,"foldTokens");function W(Q,Y){let oe=[];for(let ne of Q)if(typeof ne=="string")oe.push(n("text",{content:ne}));else if(ne.type==="angle"){let T={},M=Y?$:w,V;for(;V=M.exec(ne.extra);){let[,C,P,A=P,L]=V;L?T[C]=f(L,Y):(0,_t.isNullable)(A)?C.startsWith("no-")?T[C.slice(3)]=!1:T[C]=!0:T[C]=y(A)}oe.push(n(ne.name,T,ne.children&&W(ne.children.default,Y)))}else if(!ne.name)oe.push(...d(f(ne.extra,Y)));else if(ne.name==="if")l(ne.extra,Y)?oe.push(...W(ne.children.default,Y)):oe.push(...W(ne.children.else||[],Y));else if(ne.name==="each"){let[T,M]=ne.extra.split(/\s+as\s+/),V=f(T,Y);if(!V||!V[Symbol.iterator])continue;for(let C of V)oe.push(...W(ne.children.default,{...Y,[M]:C}))}return oe}Ke(W,"parseTokens");function Z(Q,Y,oe){let{type:ne,attrs:T,children:M}=Q;if(typeof Y=="function")return Y(Q,oe);{let V=Y[typeof ne=="string"?ne:""]??Y.default??!0;return typeof V=="function"&&(V=V(T,M,oe)),V}}Ke(Z,"visit");function q(Q,Y,oe){let ne=typeof Q=="string"?S(Q):Q,T=[];return ne.forEach(M=>{let{type:V,attrs:C,children:P}=M,A=Z(M,Y,oe);A===!0?T.push(n(V,C,q(P,Y,oe))):A!==!1&&T.push(...d(A))}),typeof Q=="string"?T.join(""):T}n.transform=q,Ke(q,"transform");async function K(Q,Y,oe){let ne=typeof Q=="string"?S(Q):Q,T=(await Promise.all(ne.map(async M=>{let{type:V,attrs:C,children:P}=M,A=await Z(M,Y,oe);return A===!0?[n(V,C,await K(P,Y,oe))]:A!==!1?d(A):[]}))).flat(1);return typeof Q=="string"?T.join(""):T}n.transformAsync=K,Ke(K,"transformAsync");function ue(Q,...Y){return(...oe)=>{let ne=n(Q);return Y.forEach((T,M)=>{(0,_t.isNullable)(oe[M])||(ne.attrs[T]=oe[M])}),oe[Y.length]&&Object.assign(ne.attrs,oe[Y.length]),ne}}Ke(ue,"createFactory"),n.warn=Ke(()=>{},"warn");function ee(Q){return(Y,...oe)=>{let ne="base64://";return typeof oe[0]=="string"&&(ne=`data:${oe.shift()};base64,`),(0,_t.is)("Buffer",Y)?Y=ne+Y.toString("base64"):(0,_t.is)("ArrayBuffer",Y)&&(Y=ne+(0,_t.arrayBufferToBase64)(Y)),Y.startsWith("base64://")&&(0,n.warn)('protocol "base64:" is deprecated and will be removed in the future, please use "data:" instead'),n(Q,{...oe[0],url:Y})}}Ke(ee,"createAssetFactory"),n.text=ue("text","content"),n.at=ue("at","id"),n.sharp=ue("sharp","id"),n.quote=ue("quote","id"),n.image=ee("image"),n.video=ee("video"),n.audio=ee("audio"),n.file=ee("file");function pe(Q,Y){return n("i18n",typeof Q=="string"?{path:Q}:Q,Y)}n.i18n=pe,Ke(pe,"i18n")})(u||(u={})),t.exports=u}}),Fi=Td(),jd=require("electron"),ts=require("node:buffer"),Rd=require("node:http"),dm=pt(Fc(),1),pm=pt(Mo(),1),fm=pt(Lo(),1),hm=pt(Wo(),1),Od=pt(Ac(),1),Nd=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>\u606D\u559C - Chronocat</title>
    <style type="text/css">
      * {
        /* Font */
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
          'Microsoft YaHei UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
          'Noto Sans', 'Helvetica Neue', Helvetica, sans-serif;
        font-weight: 400;

        /* Font & text reset */
        font-style: normal;
        font-variant-ligatures: normal;
        font-variant-caps: normal;
        font-variant-numeric: normal;
        font-variant-east-asian: normal;
        font-stretch: normal;
        text-rendering: optimizeLegibility;
        text-indent: 0;
        text-shadow: none;
        text-decoration: none;
        writing-mode: horizontal-tb;
        letter-spacing: normal;
        word-spacing: normal;

        /* Layout */
        margin: 0;
        padding: 0;

        /* Box */
        box-sizing: border-box;
        border: none;

        /* Color */
        background-color: transparent;

        /* Transitions */
        transition: all 0.3s ease;
      }

      :root,
      body,
      #root {
        height: 100%;
        width: 100%;
      }

      :root {
        background-color: #1f1f1f;
        color: white;
      }

      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      #root {
        max-width: 60vw;
        padding: 24px;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        row-gap: 24px;
      }

      h1 {
        font-weight: bold;
      }

      a {
        border-radius: 36px;
        padding: 20px 36px;

        background: #0d3b5e;

        font-size: 18px;
        font-weight: bold;

        color: white;
      }

      a:hover {
        background: #104b79;
      }

      a:active {
        background: #0d3b5e;
      }
    </style>
  </head>
  <body>
    <div id="root">
      <h1>\u606D\u559C\uFF01</h1>
      <p>
        \u4F60\u5DF2\u7ECF\u6210\u529F\u8FD0\u884C\u4E86 Chronocat\u3002\u63A5\u4E0B\u6765\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003 Chronocat \u6587\u6863\uFF0C\u5C06
        Chronocat \u63A5\u5165\u4F60\u559C\u7231\u7684\u5E94\u7528\u6216\u6846\u67B6\u3002
      </p>
      <a href="https://chronocat.vercel.app/connect" rel="noopener noreferrer">
        \u524D\u5F80\u63A5\u5165
      </a>
    </div>
  </body>
</html>
`,Gr="chronocat",Id=e=>new Promise(t=>setTimeout(t,e)),qd=require("node:crypto"),Md=()=>(0,qd.randomBytes)(32).toString("hex"),rs=()=>{let e=0;return()=>++e},Ld=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ChannelGetPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["channel.get"](l)},Ud=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ChannelListPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["channel.list"](l)},Wd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ChannelMemberMutePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["unsafe.channel.member.mute"](l)},zd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ChannelMutePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["unsafe.channel.mute"](l)},Hd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ApprovePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["friend.approve"](l)},Vd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("Next")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["friend.list"](l)},Gd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("UserPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["unsafe.friend.remove"](l)},Kd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ApprovePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.approve"](l)},Yd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildGetPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.get"](l)},Qd=async({cctx:e})=>e.chronocat.api["guild.list"](),Jd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("ApprovePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.approve"](l)},Zd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildMemberGetPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.get"](l)},Xd=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildMemberKickPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.kick"](l)},ep=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildMemberListPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.list"](l)},tp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildMemberMutePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.mute"](l)},rp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildMemberTitleSetPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["chronocat.guild.member.title.set"](l)},ip=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("GuildRemovePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.remove"](l)},up=({cctx:e})=>e.chronocat.api["login.get"](),np=async e=>{let t=!1,r=e.req.headers["content-type"];return r&&(r.startsWith("application/x-www-form-urlencoded")&&(t=!0),r.startsWith("multipart/form-data")&&(t=!0)),t?ap(e):op(e)};async function ap({cctx:e,path:t,req:r,res:a}){e.chronocat.l.error(`${t} \u5931\u8D25\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002Form \u8BF7\u6C42\u5C1A\u672A\u5B9E\u73B0\u3002`,{code:501}),a.writeHead(501),a.end("501 not implemented")}async function op({cctx:e,config:t,path:r,req:a,res:u,json:l}){let n=await l(),s=await e.chronocat.validate("MessageCreatePayload")(n);if(s){let h=`\u89E3\u6790 ${r} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${a.socket.remoteAddress}\u3002${s}`;e.chronocat.l.error(h,{code:400}),u.writeHead(400),u.end(`400 bad request
${h}`);return}let c={channel_id:n.channel_id,content:e.chronocat.h.normalize(n.content)},d="chronocat.internal.message.create2.normal",m=c.content.filter(h=>h.type==="message").filter(h=>h.attrs.forward);if(m.length){if(m.length>1){let y=`\u5C1A\u672A\u652F\u6301\u5355\u6B21\u8BF7\u6C42\u53D1\u9001\u591A\u6761\u8F6C\u53D1\u6D88\u606F\u3002\u6765\u81EA ${a.socket.remoteAddress}`;e.chronocat.l.error(y,{code:501}),u.writeHead(501),u.end(`501 not implemented
${y}`);return}let[h]=m;if(h.attrs.id){let y=`\u5C1A\u672A\u652F\u6301\u4F7F\u7528 ID \u53D1\u9001\u300C\u9010\u6761\u8F6C\u53D1\u300D\u6D88\u606F\u3002\u6765\u81EA ${a.socket.remoteAddress}`;e.chronocat.l.error(y,{code:501}),u.writeHead(501),u.end(`501 not implemented
${y}`);return}if(!h.children)return;h.children.every(y=>y.attrs.id)?d="chronocat.internal.message.create2.forward":d="chronocat.internal.message.create2.forward.fake"}return e.chronocat.h.select(c.content,`${e.chronocat.platform}:poke`).length&&(d="chronocat.internal.message.create2.poke"),(await e.chronocat.api[d](c,t)).map(h=>h.message).filter(Boolean)}var sp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("MessageDeletePayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["message.delete"](l)},lp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("MessageGetPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["message.get"](l)},cp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("MessageListPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["message.list"](l)},wt=async({cctx:e,path:t,req:r,res:a})=>{e.chronocat.l.warn(`API ${t} \u5C1A\u4E0D\u53EF\u7528\uFF08QQ \u672A\u652F\u6301\u8BE5\u529F\u80FD\uFF09\uFF0C\u6765\u81EA ${r.socket.remoteAddress}`,{code:2148}),a.writeHead(501),a.end("501 not implemented")},dp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("PuTongDeJieKou1Payload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["chronocat.putongdejiekou1"](l)},pp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("UserPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["user.channel.create"](l)},fp=async({cctx:e,path:t,req:r,res:a,json:u})=>{let l=await u(),n=await e.chronocat.validate("UserGetPayload")(l);if(n){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${n}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["user.get"](l)},hp={"channel.get":Ld,"channel.list":Ud,"channel.create":wt,"channel.update":wt,"channel.delete":wt,"unsafe.channel.mute":zd,"unsafe.channel.member.mute":Wd,"user.channel.create":pp,"guild.get":Yd,"guild.list":Qd,"guild.approve":Kd,"unsafe.guild.remove":ip,"guild.member.get":Zd,"guild.member.list":ep,"guild.member.kick":Xd,"guild.member.approve":Jd,"guild.member.mute":tp,"guild.member.role.set":wt,"guild.member.role.unset":wt,"chronocat.guild.member.title.set":rp,"guild.role.list":wt,"guild.role.create":wt,"guild.role.update":wt,"guild.role.delete":wt,"login.get":up,"message.create":np,"message.get":lp,"message.delete":sp,"message.update":wt,"message.list":cp,"reaction.create":wt,"reaction.delete":wt,"reaction.clear":wt,"reaction.list":wt,"user.get":fp,"friend.list":Vd,"friend.approve":Hd,"unsafe.friend.remove":Gd,"chronocat.putongdejiekou1":dp},mp=hp,gp=require("node:fs"),yp=async({cctx:e,raw:t,res:r})=>{let a;try{a=await e.chronocat.api["chronocat.internal.assets.get"](t)}catch(l){e.chronocat.l.error(new Error("\u83B7\u53D6\u8D44\u6E90\u5931\u8D25",{cause:l}),{code:2158}),r.writeHead(500),r.end(`500 internal server error
${l}`);return}r.statusCode=200,r.setHeader("Content-Type",e.chronocat.mime.getType(a));let u=(0,gp.createReadStream)(a);await new Promise((l,n)=>u.pipe(r).on("finish",l).on("error",n)),r.end()},is=(e=>(e[e.Event=0]="Event",e[e.Ping=1]="Ping",e[e.Pong=2]="Pong",e[e.Identify=3]="Identify",e[e.Ready=4]="Ready",e))(is||{}),us=(e=>(e[e.TEXT=0]="TEXT",e[e.DIRECT=1]="DIRECT",e[e.CATEGORY=2]="CATEGORY",e[e.VOICE=3]="VOICE",e))(us||{}),ns=(e=>(e[e.OFFLINE=0]="OFFLINE",e[e.ONLINE=1]="ONLINE",e[e.CONNECT=2]="CONNECT",e[e.DISCONNECT=3]="DISCONNECT",e[e.RECONNECT=4]="RECONNECT",e))(ns||{}),$n="/v1/",ao="Chronocat/0.2.18",oo=ts.Buffer.from(Nd),bp=async(e,t)=>{let r=e.chronocat.l;(!t.self_url||t.self_url==="https://chronocat.vercel.app")&&(t.self_url=`http://127.0.0.1:${t.port}`),t.self_url.endsWith("/")&&(t.self_url=t.self_url.slice(0,t.self_url.length-1));let a=[],u=rs(),l=(0,Rd.createServer)(async(s,c)=>{if(!s.url){r.warn(`satori: server: \u975E\u6CD5\u8BF7\u6C42: URL \u975E\u6CD5\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:2135}),c.writeHead(400),c.end("400 bad request");return}let d=new URL(s.url,"http://dummy");if(c.setHeader("Server",ao),c.setHeader("X-Powered-By",ao),d.pathname==="/"&&(c.writeHead(200,{"Content-Type":"text/html; charset=UTF-8","Cache-Control":"no-cache","Content-Length":oo.byteLength}),c.end(oo)),!d.pathname.startsWith($n)){r.warn(`satori: server: 404\uFF0C\u8BF7\u6C42 ${d.pathname}\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:404}),c.writeHead(404),c.end("404 not found");return}let m=d.pathname.slice($n.length);if(m.startsWith("assets/")){if(s.method!=="GET"){r.warn(`satori: server: \u4E0D\u652F\u6301 ${s.method} \u8BF7\u6C42\u8D44\u6E90\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:405}),c.writeHead(405),c.end("405 method not allowed");return}try{if(await yp({raw:m.slice(7),...so(e,t,s,c,m)}),!c.writableEnded)throw new Error;return}catch(y){r.warn(new Error(`${m} \u5931\u8D25\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{cause:y}),{code:500}),c.writeHead(500),c.end(`500 internal server error
${y}`);return}}if(t.token&&!(s.headers.authorization?.slice(0,7)==="Bearer "&&s.headers.authorization.slice(7)===t.token)){r.warn(`satori: server: 401\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:401}),c.writeHead(401),c.end("401 unauthorized");return}let h=mp[m];if(!h){r.warn(`satori: server: 404\uFF0C\u8BF7\u6C42 ${d.pathname}\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:404}),c.writeHead(404),c.end("404 not found");return}if(s.method!=="POST"){r.warn(`satori: server: \u4E0D\u652F\u6301 ${s.method} \u8BF7\u6C42 API\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:405}),c.writeHead(405),c.end("405 method not allowed");return}try{let y=await h(so(e,t,s,c,m));c.writableEnded||(c.writeHead(200,{"Content-Type":"application/json"}),c.end(JSON.stringify(y)));return}catch(y){r.warn(new Error(`${m} \u5931\u8D25\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{cause:y}),{code:500}),c.writeHead(500),c.end(`500 internal server error
${y}`);return}});new Od.default({server:l,path:$n+"events"}).on("connection",async(s,c)=>{let d=!t.token,m=()=>{a.push(s),s.on("close",()=>a.splice(a.indexOf(s),1))};s.on("message",async h=>{let y=JSON.parse(h.toString());switch(y.op){case 1:{s.send(JSON.stringify({op:2}));return}case 3:{if(d){r.warn(`satori: server: \u591A\u6B21\u53D1\u9001\u4E86 IDENTIFY \u4FE1\u4EE4\uFF0C\u6765\u81EA ${c.socket.remoteAddress}`,{code:2132});return}if(t.token&&y.body?.token!==t.token){s.close(3e3,"Unauthorized");return}d=!0,m();let g=(await e.chronocat.getAuthData()).uin,F={user:{id:g,name:e.chronocat.getSelfProfile().nick,is_bot:!1},self_id:g,platform:Gr,status:1,features:["channel.get","channel.list","channel.create","channel.update","channel.delete","unsafe.channel.mute","unsafe.channel.member.mute","user.channel.create","guild.get","guild.list","guild.approve","unsafe.guild.remove","guild.member.get","guild.member.list","guild.member.kick","guild.member.approve","guild.member.mute","guild.member.role.set","guild.member.role.unset","chronocat.guild.member.title.set","guild.role.list","guild.role.create","guild.role.update","guild.role.delete","login.get","message.create","message.get","message.delete","message.update","message.list","reaction.create","reaction.delete","reaction.clear","reaction.list","user.get","friend.list","friend.approve","unsafe.friend.remove","chronocat.putongdejiekou1","guild.plain"],proxy_urls:[]};s.send(JSON.stringify({op:4,body:{logins:[F]}})),r.info(`satori: \u63A5\u53D7\u8FDE\u63A5\uFF0C\u6765\u81EA ${c.socket.remoteAddress}`);return}default:{r.warn(`satori: server: \u672A\u77E5\u7684 opCode\uFF1A${y.op}\uFF0C\u6765\u81EA ${c.socket.remoteAddress}`,{code:2133});return}}}),t.token?setTimeout(()=>{d||s.close(3e3,"Unauthorized")},1e4):m()});let n=async s=>{let c=(await e.chronocat.getAuthData()).uin;a.forEach(async d=>{await s.toSatori(e,t).then(m=>m.forEach(h=>d.send(JSON.stringify({op:0,body:{...h,id:u(),platform:e.chronocat.platform,self_id:c}}))))})};return l.listen(t.port,t.listen),{dispatcher:n}};function so(e,t,r,a,u){let l=()=>{let s=[];return new Promise((c,d)=>{r.on("data",m=>{s.push(m)}),r.on("end",()=>{c(ts.Buffer.concat(s))}),r.on("error",()=>{d()})})},n=()=>l().then(s=>s.toString("utf-8"));return{cctx:e,config:t,req:r,res:a,path:u,buffer:l,string:n,json:()=>n().then(s=>s?JSON.parse(s):{})}}var Ep=pt(require("node:http"),1),vp=pt(require("node:https"),1),gi=pt(require("node:zlib"),1),tr=pt(require("node:stream"),1),Du=require("node:buffer");function Fp(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),a="",u=!1,l=r[0]||"text/plain",n=l;for(let m=1;m<r.length;m++)r[m]==="base64"?u=!0:r[m]&&(n+=`;${r[m]}`,r[m].indexOf("charset=")===0&&(a=r[m].substring(8)));!r[0]&&!a.length&&(n+=";charset=US-ASCII",a="US-ASCII");let s=u?"base64":"ascii",c=unescape(e.substring(t+1)),d=Buffer.from(c,s);return d.type=l,d.typeFull=n,d.charset=a,d}var _p=Fp,ur=pt(require("node:stream"),1),Ai=require("node:util"),Ot=require("node:buffer");Yu();Vn();var Xu=class extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},rr=class extends Xu{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}},Nu=Symbol.toStringTag,as=e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[Nu]==="URLSearchParams",Iu=e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[Nu]),wp=e=>typeof e=="object"&&(e[Nu]==="AbortSignal"||e[Nu]==="EventTarget"),Cp=(e,t)=>{let r=new URL(t).hostname,a=new URL(e).hostname;return r===a||r.endsWith(`.${a}`)},Ap=(e,t)=>{let r=new URL(t).protocol,a=new URL(e).protocol;return r===a},Sp=(0,Ai.promisify)(ur.default.pipeline),Ct=Symbol("Body internals"),Ki=class{constructor(e,{size:t=0}={}){let r=null;e===null?e=null:as(e)?e=Ot.Buffer.from(e.toString()):Iu(e)||Ot.Buffer.isBuffer(e)||(Ai.types.isAnyArrayBuffer(e)?e=Ot.Buffer.from(e):ArrayBuffer.isView(e)?e=Ot.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ur.default||(e instanceof Gi?(e=Bc(e),r=e.type.split("=")[1]):e=Ot.Buffer.from(String(e))));let a=e;Ot.Buffer.isBuffer(e)?a=ur.default.Readable.from(e):Iu(e)&&(a=ur.default.Readable.from(e.stream())),this[Ct]={body:e,stream:a,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof ur.default&&e.on("error",u=>{let l=u instanceof Xu?u:new rr(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[Ct].error=l})}get body(){return this[Ct].stream}get bodyUsed(){return this[Ct].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await Dn(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let r=new Gi,a=new URLSearchParams(await this.text());for(let[u,l]of a)r.append(u,l);return r}let{toFormData:t}=await Promise.resolve().then(()=>(Rc(),Vo));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[Ct].body&&this[Ct].body.type||"",t=await this.arrayBuffer();return new Vi([t],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await Dn(this);return new TextDecoder().decode(e)}buffer(){return Dn(this)}};Ki.prototype.buffer=(0,Ai.deprecate)(Ki.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ki.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ai.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Dn(e){if(e[Ct].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[Ct].disturbed=!0,e[Ct].error)throw e[Ct].error;let{body:t}=e;if(t===null||!(t instanceof ur.default))return Ot.Buffer.alloc(0);let r=[],a=0;try{for await(let u of t){if(e.size>0&&a+u.length>e.size){let l=new rr(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(l),l}a+=u.length,r.push(u)}}catch(u){throw u instanceof Xu?u:new rr(`Invalid response body while trying to fetch ${e.url}: ${u.message}`,"system",u)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return r.every(u=>typeof u=="string")?Ot.Buffer.from(r.join("")):Ot.Buffer.concat(r,a)}catch(u){throw new rr(`Could not create Buffer from response body for ${e.url}: ${u.message}`,"system",u)}else throw new rr(`Premature close of server response while trying to fetch ${e.url}`)}var Jn=(e,t)=>{let r,a,{body:u}=e[Ct];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return u instanceof ur.default&&typeof u.getBoundary!="function"&&(r=new ur.PassThrough({highWaterMark:t}),a=new ur.PassThrough({highWaterMark:t}),u.pipe(r),u.pipe(a),e[Ct].stream=r,u=a),u},$p=(0,Ai.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),os=(e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":as(e)?"application/x-www-form-urlencoded;charset=UTF-8":Iu(e)?e.type||null:Ot.Buffer.isBuffer(e)||Ai.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof Gi?`multipart/form-data; boundary=${t[Ct].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${$p(e)}`:e instanceof ur.default?null:"text/plain;charset=UTF-8",Dp=e=>{let{body:t}=e[Ct];return t===null?0:Iu(t)?t.size:Ot.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},Bp=async(e,{body:t})=>{t===null?e.end():await Sp(t,e)},lo=require("node:util"),qu=pt(require("node:http"),1),ju=typeof qu.default.validateHeaderName=="function"?qu.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},On=typeof qu.default.validateHeaderValue=="function"?qu.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let r=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},Yr=class ss extends URLSearchParams{constructor(t){let r=[];if(t instanceof ss){let a=t.raw();for(let[u,l]of Object.entries(a))r.push(...l.map(n=>[u,n]))}else if(t!=null)if(typeof t=="object"&&!lo.types.isBoxedPrimitive(t)){let a=t[Symbol.iterator];if(a==null)r.push(...Object.entries(t));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");r=[...t].map(u=>{if(typeof u!="object"||lo.types.isBoxedPrimitive(u))throw new TypeError("Each header pair must be an iterable object");return[...u]}).map(u=>{if(u.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...u]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([a,u])=>(ju(a),On(a,String(u)),[String(a).toLowerCase(),String(u)])):void 0,super(r),new Proxy(this,{get(a,u,l){switch(u){case"append":case"set":return(n,s)=>(ju(n),On(n,String(s)),URLSearchParams.prototype[u].call(a,String(n).toLowerCase(),String(s)));case"delete":case"has":case"getAll":return n=>(ju(n),URLSearchParams.prototype[u].call(a,String(n).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,u,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let r=this.getAll(t);if(r.length===0)return null;let a=r.join(", ");return/^content-encoding$/i.test(t)&&(a=a.toLowerCase()),a}forEach(t,r=void 0){for(let a of this.keys())Reflect.apply(t,r,[this.get(a),a,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,r)=>(t[r]=this.getAll(r),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,r)=>{let a=this.getAll(r);return r==="host"?t[r]=a[0]:t[r]=a.length>1?a:a[0],t},{})}};Object.defineProperties(Yr.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function xp(e=[]){return new Yr(e.reduce((t,r,a,u)=>(a%2===0&&t.push(u.slice(a,a+2)),t),[]).filter(([t,r])=>{try{return ju(t),On(t,String(r)),!0}catch{return!1}}))}var kp=new Set([301,302,303,307,308]),ls=e=>kp.has(e),Ht=Symbol("Response internals"),Br=class Li extends Ki{constructor(t=null,r={}){super(t,r);let a=r.status!=null?r.status:200,u=new Yr(r.headers);if(t!==null&&!u.has("Content-Type")){let l=os(t,this);l&&u.append("Content-Type",l)}this[Ht]={type:"default",url:r.url,status:a,statusText:r.statusText||"",headers:u,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Ht].type}get url(){return this[Ht].url||""}get status(){return this[Ht].status}get ok(){return this[Ht].status>=200&&this[Ht].status<300}get redirected(){return this[Ht].counter>0}get statusText(){return this[Ht].statusText}get headers(){return this[Ht].headers}get highWaterMark(){return this[Ht].highWaterMark}clone(){return new Li(Jn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,r=302){if(!ls(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Li(null,{headers:{location:new URL(t).toString()},status:r})}static error(){let t=new Li(null,{status:0,statusText:""});return t[Ht].type="error",t}static json(t=void 0,r={}){let a=JSON.stringify(t);if(a===void 0)throw new TypeError("data is not JSON serializable");let u=new Yr(r&&r.headers);return u.has("content-type")||u.set("content-type","application/json"),new Li(a,{...r,headers:u})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Br.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Pp=require("node:url"),Tp=require("node:util"),jp=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""},Rp=require("node:net");function co(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}var cs=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Np="strict-origin-when-cross-origin";function Ip(e){if(!cs.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}function qp(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,Rp.isIP)(t);return r===4&&/^127\./.test(t)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:e.host==="localhost"||e.host.endsWith(".localhost")?!1:e.protocol==="file:"}function yi(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:qp(e)}function Mp(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let a=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let u=e.referrer,l=co(u),n=co(u,!0);l.toString().length>4096&&(l=n),t&&(l=t(l)),r&&(n=r(n));let s=new URL(e.url);switch(a){case"no-referrer":return"no-referrer";case"origin":return n;case"unsafe-url":return l;case"strict-origin":return yi(l)&&!yi(s)?"no-referrer":n.toString();case"strict-origin-when-cross-origin":return l.origin===s.origin?l:yi(l)&&!yi(s)?"no-referrer":n;case"same-origin":return l.origin===s.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===s.origin?l:n;case"no-referrer-when-downgrade":return yi(l)&&!yi(s)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${a}`)}}function Lp(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let a of t)a&&cs.has(a)&&(r=a);return r}var at=Symbol("Request internals"),Ni=e=>typeof e=="object"&&typeof e[at]=="object",Up=(0,Tp.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Nn=class ds extends Ki{constructor(t,r={}){let a;if(Ni(t)?a=new URL(t.url):(a=new URL(t),t={}),a.username!==""||a.password!=="")throw new TypeError(`${a} is an url with embedded credentials.`);let u=r.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(u)&&(u=u.toUpperCase()),!Ni(r)&&"data"in r&&Up(),(r.body!=null||Ni(t)&&t.body!==null)&&(u==="GET"||u==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body?r.body:Ni(t)&&t.body!==null?Jn(t):null;super(l,{size:r.size||t.size||0});let n=new Yr(r.headers||t.headers||{});if(l!==null&&!n.has("Content-Type")){let d=os(l,this);d&&n.set("Content-Type",d)}let s=Ni(t)?t.signal:null;if("signal"in r&&(s=r.signal),s!=null&&!wp(s))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=r.referrer==null?t.referrer:r.referrer;if(c==="")c="no-referrer";else if(c){let d=new URL(c);c=/^about:(\/\/)?client$/.test(d)?"client":d}else c=void 0;this[at]={method:u,redirect:r.redirect||t.redirect||"follow",headers:n,parsedURL:a,signal:s,referrer:c},this.follow=r.follow===void 0?t.follow===void 0?20:t.follow:r.follow,this.compress=r.compress===void 0?t.compress===void 0?!0:t.compress:r.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent,this.highWaterMark=r.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||t.referrerPolicy||""}get method(){return this[at].method}get url(){return(0,Pp.format)(this[at].parsedURL)}get headers(){return this[at].headers}get redirect(){return this[at].redirect}get signal(){return this[at].signal}get referrer(){if(this[at].referrer==="no-referrer")return"";if(this[at].referrer==="client")return"about:client";if(this[at].referrer)return this[at].referrer.toString()}get referrerPolicy(){return this[at].referrerPolicy}set referrerPolicy(t){this[at].referrerPolicy=Ip(t)}clone(){return new ds(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Nn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Wp=e=>{let{parsedURL:t}=e[at],r=new Yr(e[at].headers);r.has("Accept")||r.set("Accept","*/*");let a=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(a="0"),e.body!==null){let s=Dp(e);typeof s=="number"&&!Number.isNaN(s)&&(a=String(s))}a&&r.set("Content-Length",a),e.referrerPolicy===""&&(e.referrerPolicy=Np),e.referrer&&e.referrer!=="no-referrer"?e[at].referrer=Mp(e):e[at].referrer="no-referrer",e[at].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:u}=e;typeof u=="function"&&(u=u(t));let l=jp(t),n={path:t.pathname+l,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:u};return{parsedURL:t,options:n}},zp=class extends Xu{constructor(e,t="aborted"){super(e,t)}};Vn();Ho();var Hp=new Set(["data:","http:","https:"]);async function ps(e,t){return new Promise((r,a)=>{let u=new Nn(e,t),{parsedURL:l,options:n}=Wp(u);if(!Hp.has(l.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let F=_p(u.url),D=new Br(F,{headers:{"Content-Type":F.typeFull}});r(D);return}let s=(l.protocol==="https:"?vp.default:Ep.default).request,{signal:c}=u,d=null,m=()=>{let F=new zp("The operation was aborted.");a(F),u.body&&u.body instanceof tr.default.Readable&&u.body.destroy(F),!(!d||!d.body)&&d.body.emit("error",F)};if(c&&c.aborted){m();return}let h=()=>{m(),g()},y=s(l.toString(),n);c&&c.addEventListener("abort",h);let g=()=>{y.abort(),c&&c.removeEventListener("abort",h)};y.on("error",F=>{a(new rr(`request to ${u.url} failed, reason: ${F.message}`,"system",F)),g()}),Vp(y,F=>{d&&d.body&&d.body.destroy(F)}),process.version<"v14"&&y.on("socket",F=>{let D;F.prependListener("end",()=>{D=F._eventsCount}),F.prependListener("close",E=>{if(d&&D<F._eventsCount&&!E){let f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",f)}})}),y.on("response",F=>{y.setTimeout(0);let D=xp(F.rawHeaders);if(ls(F.statusCode)){let w=D.get("Location"),$=null;try{$=w===null?null:new URL(w,u.url)}catch{if(u.redirect!=="manual"){a(new rr(`uri requested responds with an invalid redirect URL: ${w}`,"invalid-redirect")),g();return}}switch(u.redirect){case"error":a(new rr(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if($===null)break;if(u.counter>=u.follow){a(new rr(`maximum redirect reached at: ${u.url}`,"max-redirect")),g();return}let v={headers:new Yr(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:Jn(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!Cp(u.url,$)||!Ap(u.url,$))for(let j of["authorization","www-authenticate","cookie","cookie2"])v.headers.delete(j);if(F.statusCode!==303&&u.body&&t.body instanceof tr.default.Readable){a(new rr("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(F.statusCode===303||(F.statusCode===301||F.statusCode===302)&&u.method==="POST")&&(v.method="GET",v.body=void 0,v.headers.delete("content-length"));let S=Lp(D);S&&(v.referrerPolicy=S),r(ps(new Nn($,v))),g();return}default:return a(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}c&&F.once("end",()=>{c.removeEventListener("abort",h)});let E=(0,tr.pipeline)(F,new tr.PassThrough,w=>{w&&a(w)});process.version<"v12.10"&&F.on("aborted",h);let f={url:u.url,status:F.statusCode,statusText:F.statusMessage,headers:D,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},_=D.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||_===null||F.statusCode===204||F.statusCode===304){d=new Br(E,f),r(d);return}let b={flush:gi.default.Z_SYNC_FLUSH,finishFlush:gi.default.Z_SYNC_FLUSH};if(_==="gzip"||_==="x-gzip"){E=(0,tr.pipeline)(E,gi.default.createGunzip(b),w=>{w&&a(w)}),d=new Br(E,f),r(d);return}if(_==="deflate"||_==="x-deflate"){let w=(0,tr.pipeline)(F,new tr.PassThrough,$=>{$&&a($)});w.once("data",$=>{($[0]&15)===8?E=(0,tr.pipeline)(E,gi.default.createInflate(),v=>{v&&a(v)}):E=(0,tr.pipeline)(E,gi.default.createInflateRaw(),v=>{v&&a(v)}),d=new Br(E,f),r(d)}),w.once("end",()=>{d||(d=new Br(E,f),r(d))});return}if(_==="br"){E=(0,tr.pipeline)(E,gi.default.createBrotliDecompress(),w=>{w&&a(w)}),d=new Br(E,f),r(d);return}d=new Br(E,f),r(d)}),Bp(y,u).catch(a)})}function Vp(e,t){let r=Du.Buffer.from(`0\r
\r
`),a=!1,u=!1,l;e.on("response",n=>{let{headers:s}=n;a=s["transfer-encoding"]==="chunked"&&!s["content-length"]}),e.on("socket",n=>{let s=()=>{if(a&&!u){let d=new Error("Premature close");d.code="ERR_STREAM_PREMATURE_CLOSE",t(d)}},c=d=>{u=Du.Buffer.compare(d.slice(-5),r)===0,!u&&l&&(u=Du.Buffer.compare(l.slice(-3),r.slice(0,3))===0&&Du.Buffer.compare(d.slice(-2),r.slice(3))===0),l=d};n.prependListener("close",s),n.on("data",c),e.on("close",()=>{n.removeListener("close",s),n.removeListener("data",c)})})}var Gp=async(e,t)=>{(!t.self_url||t.self_url==="https://chronocat.vercel.app")&&(t.self_url="http://127.0.0.1:5500"),t.self_url.endsWith("/")&&(t.self_url=t.self_url.slice(0,t.self_url.length-1));let r=rs();return{dispatcher:a=>{(async()=>{let u=(await e.chronocat.getAuthData()).uin;await a.toSatori(e,t).then(l=>l.forEach(n=>{let s={...n,id:r(),platform:e.chronocat.platform,self_id:u},c={};t.token&&(c.Authorization=`Bearer ${t.token}`),ps(t.url,{method:"POST",headers:c,body:JSON.stringify(s)})}))})()}}},Kp=async e=>{let t=e.chronocat.l;t.debug("\u521D\u59CB\u5316\u670D\u52A1");let r=await e.chronocat.getConfig(),a=[];for(let u of r.servers)u.token==="DEFINE_CHRONO_TOKEN"&&t.error("\u8BF7\u5148\u4FEE\u6539\u670D\u52A1\u5BC6\u7801\uFF08token\uFF09",{code:2135,throw:!0});for(let u of r.servers){if(!u.enable){t.debug("\u8DF3\u8FC7\u4E0D\u542F\u7528\u7684\u670D\u52A1");continue}switch(u.type){case"satori":{let{dispatcher:l}=await bp(e,u);a.push(l),t.info(`satori: \u542F\u52A8 Satori \u670D\u52A1\u4E8E http://${u.listen}:${u.port}`);break}case"satori_webhook":{let{dispatcher:l}=await Gp(e,u);a.push(l),t.info(`satori: \u542F\u52A8 Satori WebHook \u670D\u52A1\uFF0C\u76EE\u6807 ${u.self_url}`);break}}}return{emit:u=>{u.type==="satori"&&a.forEach(l=>l(u))}}},po=(e=0)=>t=>`\x1B[${t+e}m`,fo=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,ho=(e=0)=>(t,r,a)=>`\x1B[${38+e};2;${t};${r};${a}m`,Ye={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},mm=Object.keys(Ye.modifier),Yp=Object.keys(Ye.color),Qp=Object.keys(Ye.bgColor),gm=[...Yp,...Qp];function Jp(){let e=new Map;for(let[t,r]of Object.entries(Ye)){for(let[a,u]of Object.entries(r))Ye[a]={open:`\x1B[${u[0]}m`,close:`\x1B[${u[1]}m`},r[a]=Ye[a],e.set(u[0],u[1]);Object.defineProperty(Ye,t,{value:r,enumerable:!1})}return Object.defineProperty(Ye,"codes",{value:e,enumerable:!1}),Ye.color.close="\x1B[39m",Ye.bgColor.close="\x1B[49m",Ye.color.ansi=po(),Ye.color.ansi256=fo(),Ye.color.ansi16m=ho(),Ye.bgColor.ansi=po(10),Ye.bgColor.ansi256=fo(10),Ye.bgColor.ansi16m=ho(10),Object.defineProperties(Ye,{rgbToAnsi256:{value:(t,r,a)=>t===r&&r===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(a/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[a]=r;a.length===3&&(a=[...a].map(l=>l+l).join(""));let u=Number.parseInt(a,16);return[u>>16&255,u>>8&255,u&255]},enumerable:!1},hexToAnsi256:{value:t=>Ye.rgbToAnsi256(...Ye.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,a,u;if(t>=232)r=((t-232)*10+8)/255,a=r,u=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,a=Math.floor(s/6)/5,u=s%6/5}let l=Math.max(r,a,u)*2;if(l===0)return 30;let n=30+(Math.round(u)<<2|Math.round(a)<<1|Math.round(r));return l===2&&(n+=60),n},enumerable:!1},rgbToAnsi:{value:(t,r,a)=>Ye.ansi256ToAnsi(Ye.rgbToAnsi256(t,r,a)),enumerable:!1},hexToAnsi:{value:t=>Ye.ansi256ToAnsi(Ye.hexToAnsi256(t)),enumerable:!1}}),Ye}var Zp=Jp(),fs=Zp,Tr=e=>t=>{let r=fs.color[e];return`${r.open}${t}${r.close}`},eu=e=>t=>{let r=fs.modifier[e];return`${r.open}${t}${r.close}`},Xp=eu("bold"),ym=eu("dim"),bm=eu("italic"),Em=eu("underline"),vm=eu("overline"),He=Tr("grey"),ef=Tr("red"),Fm=Tr("green"),tf=Tr("yellow"),en=Tr("blue"),hs=Tr("magenta"),Et=Tr("cyan"),_m=Tr("white"),mo="\x1B]",go="\x07",Bu=";",Qe=(e,t)=>t?[mo,"8",Bu,Bu,t,go,e,mo,"8",Bu,Bu,go].join(""):e,rf=class{parsers=[];register(e){this.parsers.unshift(e)}async parse(e){for(let t of this.parsers){let r=await t(e);if(r)return r}return[]}},uf=require("node:child_process"),zi=require("node:fs/promises"),Hi=require("node:path"),yo=require("node:process"),nf=require("node:fs/promises");async function Zn(e){try{await(0,nf.access)(e)}catch{return!1}return!0}var ir=e=>`0${e}`.slice(-2),af=e=>`000${e}`.slice(-4),of=()=>{let e=new Date;return`${e.getFullYear()}-${ir(e.getMonth()+1)}-${ir(e.getDate())}-${ir(e.getHours())}-${ir(e.getMinutes())}-${ir(e.getSeconds())}`},sf=new Promise(e=>{let t=setInterval(()=>{"authData"in globalThis&&authData?.uin&&(clearInterval(t),e(authData))},500)}),Xn=()=>sf,lf=require("node:os"),cf=require("node:path"),tn=(0,cf.join)((0,lf.homedir)(),".chronocat"),df=require("electron");function ms(e){return typeof e>"u"||e===null}function pf(e){return typeof e=="object"&&e!==null}function ff(e){return Array.isArray(e)?e:ms(e)?[]:[e]}function hf(e,t){var r,a,u,l;if(t)for(l=Object.keys(t),r=0,a=l.length;r<a;r+=1)u=l[r],e[u]=t[u];return e}function mf(e,t){var r="",a;for(a=0;a<t;a+=1)r+=e;return r}function gf(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var yf=ms,bf=pf,Ef=ff,vf=mf,Ff=gf,_f=hf,ut={isNothing:yf,isObject:bf,toArray:Ef,repeat:vf,isNegativeZero:Ff,extend:_f};function gs(e,t){var r="",a=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),a+" "+r):a}function Yi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=gs(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Yi.prototype=Object.create(Error.prototype);Yi.prototype.constructor=Yi;Yi.prototype.toString=function(e){return this.name+": "+gs(this,e)};var At=Yi;function Bn(e,t,r,a,u){var l="",n="",s=Math.floor(u/2)-1;return a-t>s&&(l=" ... ",t=a-s+l.length),r-a>s&&(n=" ...",r=a+s-n.length),{str:l+e.slice(t,r).replace(/\t/g,"\u2192")+n,pos:a-t+l.length}}function xn(e,t){return ut.repeat(" ",t-e.length)+e}function wf(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,a=[0],u=[],l,n=-1;l=r.exec(e.buffer);)u.push(l.index),a.push(l.index+l[0].length),e.position<=l.index&&n<0&&(n=a.length-2);n<0&&(n=a.length-1);var s="",c,d,m=Math.min(e.line+t.linesAfter,u.length).toString().length,h=t.maxLength-(t.indent+m+3);for(c=1;c<=t.linesBefore&&!(n-c<0);c++)d=Bn(e.buffer,a[n-c],u[n-c],e.position-(a[n]-a[n-c]),h),s=ut.repeat(" ",t.indent)+xn((e.line-c+1).toString(),m)+" | "+d.str+`
`+s;for(d=Bn(e.buffer,a[n],u[n],e.position,h),s+=ut.repeat(" ",t.indent)+xn((e.line+1).toString(),m)+" | "+d.str+`
`,s+=ut.repeat("-",t.indent+m+3+d.pos)+`^
`,c=1;c<=t.linesAfter&&!(n+c>=u.length);c++)d=Bn(e.buffer,a[n+c],u[n+c],e.position-(a[n]-a[n+c]),h),s+=ut.repeat(" ",t.indent)+xn((e.line+c+1).toString(),m)+" | "+d.str+`
`;return s.replace(/\n$/,"")}var Cf=wf,Af=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Sf=["scalar","sequence","mapping"];function $f(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(a){t[String(a)]=r})}),t}function Df(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Af.indexOf(r)===-1)throw new At('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=$f(t.styleAliases||null),Sf.indexOf(this.kind)===-1)throw new At('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var dt=Df;function bo(e,t){var r=[];return e[t].forEach(function(a){var u=r.length;r.forEach(function(l,n){l.tag===a.tag&&l.kind===a.kind&&l.multi===a.multi&&(u=n)}),r[u]=a}),r}function Bf(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function a(u){u.multi?(e.multi[u.kind].push(u),e.multi.fallback.push(u)):e[u.kind][u.tag]=e.fallback[u.tag]=u}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(a);return e}function In(e){return this.extend(e)}In.prototype.extend=function(e){var t=[],r=[];if(e instanceof dt)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new At("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(u){if(!(u instanceof dt))throw new At("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new At("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new At("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(u){if(!(u instanceof dt))throw new At("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(In.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=bo(a,"implicit"),a.compiledExplicit=bo(a,"explicit"),a.compiledTypeMap=Bf(a.compiledImplicit,a.compiledExplicit),a};var xf=In,kf=new dt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Pf=new dt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Tf=new dt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),jf=new xf({explicit:[kf,Pf,Tf]});function Rf(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Of(){return null}function Nf(e){return e===null}var If=new dt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Rf,construct:Of,predicate:Nf,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function qf(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Mf(e){return e==="true"||e==="True"||e==="TRUE"}function Lf(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Uf=new dt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qf,construct:Mf,predicate:Lf,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Wf(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function zf(e){return 48<=e&&e<=55}function Hf(e){return 48<=e&&e<=57}function Vf(e){if(e===null)return!1;var t=e.length,r=0,a=!1,u;if(!t)return!1;if(u=e[r],(u==="-"||u==="+")&&(u=e[++r]),u==="0"){if(r+1===t)return!0;if(u=e[++r],u==="b"){for(r++;r<t;r++)if(u=e[r],u!=="_"){if(u!=="0"&&u!=="1")return!1;a=!0}return a&&u!=="_"}if(u==="x"){for(r++;r<t;r++)if(u=e[r],u!=="_"){if(!Wf(e.charCodeAt(r)))return!1;a=!0}return a&&u!=="_"}if(u==="o"){for(r++;r<t;r++)if(u=e[r],u!=="_"){if(!zf(e.charCodeAt(r)))return!1;a=!0}return a&&u!=="_"}}if(u==="_")return!1;for(;r<t;r++)if(u=e[r],u!=="_"){if(!Hf(e.charCodeAt(r)))return!1;a=!0}return!(!a||u==="_")}function Gf(e){var t=e,r=1,a;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),a=t[0],(a==="-"||a==="+")&&(a==="-"&&(r=-1),t=t.slice(1),a=t[0]),t==="0")return 0;if(a==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Kf(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ut.isNegativeZero(e)}var Yf=new dt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Vf,construct:Gf,predicate:Kf,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Qf=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Jf(e){return!(e===null||!Qf.test(e)||e[e.length-1]==="_")}function Zf(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Xf=/^[-+]?[0-9]+e/;function eh(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ut.isNegativeZero(e))return"-0.0";return r=e.toString(10),Xf.test(r)?r.replace("e",".e"):r}function th(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ut.isNegativeZero(e))}var rh=new dt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Jf,construct:Zf,predicate:th,represent:eh,defaultStyle:"lowercase"}),ih=jf.extend({implicit:[If,Uf,Yf,rh]}),uh=ih,ys=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),bs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function nh(e){return e===null?!1:ys.exec(e)!==null||bs.exec(e)!==null}function ah(e){var t,r,a,u,l,n,s,c=0,d=null,m,h,y;if(t=ys.exec(e),t===null&&(t=bs.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],a=+t[2]-1,u=+t[3],!t[4])return new Date(Date.UTC(r,a,u));if(l=+t[4],n=+t[5],s=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(m=+t[10],h=+(t[11]||0),d=(m*60+h)*6e4,t[9]==="-"&&(d=-d)),y=new Date(Date.UTC(r,a,u,l,n,s,c)),d&&y.setTime(y.getTime()-d),y}function oh(e){return e.toISOString()}var sh=new dt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:nh,construct:ah,instanceOf:Date,represent:oh});function lh(e){return e==="<<"||e===null}var ch=new dt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lh}),ea=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function dh(e){if(e===null)return!1;var t,r,a=0,u=e.length,l=ea;for(r=0;r<u;r++)if(t=l.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;a+=6}return a%8===0}function ph(e){var t,r,a=e.replace(/[\r\n=]/g,""),u=a.length,l=ea,n=0,s=[];for(t=0;t<u;t++)t%4===0&&t&&(s.push(n>>16&255),s.push(n>>8&255),s.push(n&255)),n=n<<6|l.indexOf(a.charAt(t));return r=u%4*6,r===0?(s.push(n>>16&255),s.push(n>>8&255),s.push(n&255)):r===18?(s.push(n>>10&255),s.push(n>>2&255)):r===12&&s.push(n>>4&255),new Uint8Array(s)}function fh(e){var t="",r=0,a,u,l=e.length,n=ea;for(a=0;a<l;a++)a%3===0&&a&&(t+=n[r>>18&63],t+=n[r>>12&63],t+=n[r>>6&63],t+=n[r&63]),r=(r<<8)+e[a];return u=l%3,u===0?(t+=n[r>>18&63],t+=n[r>>12&63],t+=n[r>>6&63],t+=n[r&63]):u===2?(t+=n[r>>10&63],t+=n[r>>4&63],t+=n[r<<2&63],t+=n[64]):u===1&&(t+=n[r>>2&63],t+=n[r<<4&63],t+=n[64],t+=n[64]),t}function hh(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var mh=new dt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:dh,construct:ph,predicate:hh,represent:fh}),gh=Object.prototype.hasOwnProperty,yh=Object.prototype.toString;function bh(e){if(e===null)return!0;var t=[],r,a,u,l,n,s=e;for(r=0,a=s.length;r<a;r+=1){if(u=s[r],n=!1,yh.call(u)!=="[object Object]")return!1;for(l in u)if(gh.call(u,l))if(!n)n=!0;else return!1;if(!n)return!1;if(t.indexOf(l)===-1)t.push(l);else return!1}return!0}function Eh(e){return e!==null?e:[]}var vh=new dt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:bh,construct:Eh}),Fh=Object.prototype.toString;function _h(e){if(e===null)return!0;var t,r,a,u,l,n=e;for(l=new Array(n.length),t=0,r=n.length;t<r;t+=1){if(a=n[t],Fh.call(a)!=="[object Object]"||(u=Object.keys(a),u.length!==1))return!1;l[t]=[u[0],a[u[0]]]}return!0}function wh(e){if(e===null)return[];var t,r,a,u,l,n=e;for(l=new Array(n.length),t=0,r=n.length;t<r;t+=1)a=n[t],u=Object.keys(a),l[t]=[u[0],a[u[0]]];return l}var Ch=new dt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:_h,construct:wh}),Ah=Object.prototype.hasOwnProperty;function Sh(e){if(e===null)return!0;var t,r=e;for(t in r)if(Ah.call(r,t)&&r[t]!==null)return!1;return!0}function $h(e){return e!==null?e:{}}var Dh=new dt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Sh,construct:$h}),Es=uh.extend({implicit:[sh,ch],explicit:[mh,vh,Ch,Dh]}),kr=Object.prototype.hasOwnProperty,Mu=1,vs=2,Fs=3,Lu=4,kn=1,Bh=2,Eo=3,xh=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,kh=/[\x85\u2028\u2029]/,Ph=/[,\[\]\{\}]/,_s=/^(?:!|!!|![a-z\-]+!)$/i,ws=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function vo(e){return Object.prototype.toString.call(e)}function nr(e){return e===10||e===13}function Kr(e){return e===9||e===32}function St(e){return e===9||e===32||e===10||e===13}function _i(e){return e===44||e===91||e===93||e===123||e===125}function Th(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function jh(e){return e===120?2:e===117?4:e===85?8:0}function Rh(e){return 48<=e&&e<=57?e-48:-1}function Fo(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Oh(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Cs=new Array(256),As=new Array(256);for(zr=0;zr<256;zr++)Cs[zr]=Fo(zr)?1:0,As[zr]=Fo(zr);var zr;function Nh(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Es,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ss(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Cf(r),new At(t,r)}function ye(e,t){throw Ss(e,t)}function Uu(e,t){e.onWarning&&e.onWarning.call(null,Ss(e,t))}var _o={YAML:function(e,t,r){var a,u,l;e.version!==null&&ye(e,"duplication of %YAML directive"),r.length!==1&&ye(e,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),a===null&&ye(e,"ill-formed argument of the YAML directive"),u=parseInt(a[1],10),l=parseInt(a[2],10),u!==1&&ye(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&Uu(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var a,u;r.length!==2&&ye(e,"TAG directive accepts exactly two arguments"),a=r[0],u=r[1],_s.test(a)||ye(e,"ill-formed tag handle (first argument) of the TAG directive"),kr.call(e.tagMap,a)&&ye(e,'there is a previously declared suffix for "'+a+'" tag handle'),ws.test(u)||ye(e,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{ye(e,"tag prefix is malformed: "+u)}e.tagMap[a]=u}};function xr(e,t,r,a){var u,l,n,s;if(t<r){if(s=e.input.slice(t,r),a)for(u=0,l=s.length;u<l;u+=1)n=s.charCodeAt(u),n===9||32<=n&&n<=1114111||ye(e,"expected valid JSON character");else xh.test(s)&&ye(e,"the stream contains non-printable characters");e.result+=s}}function wo(e,t,r,a){var u,l,n,s;for(ut.isObject(r)||ye(e,"cannot merge mappings; the provided source object is unacceptable"),u=Object.keys(r),n=0,s=u.length;n<s;n+=1)l=u[n],kr.call(t,l)||(t[l]=r[l],a[l]=!0)}function wi(e,t,r,a,u,l,n,s,c){var d,m;if(Array.isArray(u))for(u=Array.prototype.slice.call(u),d=0,m=u.length;d<m;d+=1)Array.isArray(u[d])&&ye(e,"nested arrays are not supported inside keys"),typeof u=="object"&&vo(u[d])==="[object Object]"&&(u[d]="[object Object]");if(typeof u=="object"&&vo(u)==="[object Object]"&&(u="[object Object]"),u=String(u),t===null&&(t={}),a==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(d=0,m=l.length;d<m;d+=1)wo(e,t,l[d],r);else wo(e,t,l,r);else!e.json&&!kr.call(r,u)&&kr.call(t,u)&&(e.line=n||e.line,e.lineStart=s||e.lineStart,e.position=c||e.position,ye(e,"duplicated mapping key")),u==="__proto__"?Object.defineProperty(t,u,{configurable:!0,enumerable:!0,writable:!0,value:l}):t[u]=l,delete r[u];return t}function ta(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ye(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function tt(e,t,r){for(var a=0,u=e.input.charCodeAt(e.position);u!==0;){for(;Kr(u);)u===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),u=e.input.charCodeAt(++e.position);if(t&&u===35)do u=e.input.charCodeAt(++e.position);while(u!==10&&u!==13&&u!==0);if(nr(u))for(ta(e),u=e.input.charCodeAt(e.position),a++,e.lineIndent=0;u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);else break}return r!==-1&&a!==0&&e.lineIndent<r&&Uu(e,"deficient indentation"),a}function rn(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||St(r)))}function ra(e,t){t===1?e.result+=" ":t>1&&(e.result+=ut.repeat(`
`,t-1))}function Ih(e,t,r){var a,u,l,n,s,c,d,m,h=e.kind,y=e.result,g;if(g=e.input.charCodeAt(e.position),St(g)||_i(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(u=e.input.charCodeAt(e.position+1),St(u)||r&&_i(u)))return!1;for(e.kind="scalar",e.result="",l=n=e.position,s=!1;g!==0;){if(g===58){if(u=e.input.charCodeAt(e.position+1),St(u)||r&&_i(u))break}else if(g===35){if(a=e.input.charCodeAt(e.position-1),St(a))break}else{if(e.position===e.lineStart&&rn(e)||r&&_i(g))break;if(nr(g))if(c=e.line,d=e.lineStart,m=e.lineIndent,tt(e,!1,-1),e.lineIndent>=t){s=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=n,e.line=c,e.lineStart=d,e.lineIndent=m;break}}s&&(xr(e,l,n,!1),ra(e,e.line-c),l=n=e.position,s=!1),Kr(g)||(n=e.position+1),g=e.input.charCodeAt(++e.position)}return xr(e,l,n,!1),e.result?!0:(e.kind=h,e.result=y,!1)}function qh(e,t){var r,a,u;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,a=u=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(xr(e,a,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)a=e.position,e.position++,u=e.position;else return!0;else nr(r)?(xr(e,a,u,!0),ra(e,tt(e,!1,t)),a=u=e.position):e.position===e.lineStart&&rn(e)?ye(e,"unexpected end of the document within a single quoted scalar"):(e.position++,u=e.position);ye(e,"unexpected end of the stream within a single quoted scalar")}function Mh(e,t){var r,a,u,l,n,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return xr(e,r,e.position,!0),e.position++,!0;if(s===92){if(xr(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),nr(s))tt(e,!1,t);else if(s<256&&Cs[s])e.result+=As[s],e.position++;else if((n=jh(s))>0){for(u=n,l=0;u>0;u--)s=e.input.charCodeAt(++e.position),(n=Th(s))>=0?l=(l<<4)+n:ye(e,"expected hexadecimal character");e.result+=Oh(l),e.position++}else ye(e,"unknown escape sequence");r=a=e.position}else nr(s)?(xr(e,r,a,!0),ra(e,tt(e,!1,t)),r=a=e.position):e.position===e.lineStart&&rn(e)?ye(e,"unexpected end of the document within a double quoted scalar"):(e.position++,a=e.position)}ye(e,"unexpected end of the stream within a double quoted scalar")}function Lh(e,t){var r=!0,a,u,l,n=e.tag,s,c=e.anchor,d,m,h,y,g,F=Object.create(null),D,E,f,_;if(_=e.input.charCodeAt(e.position),_===91)m=93,g=!1,s=[];else if(_===123)m=125,g=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),_=e.input.charCodeAt(++e.position);_!==0;){if(tt(e,!0,t),_=e.input.charCodeAt(e.position),_===m)return e.position++,e.tag=n,e.anchor=c,e.kind=g?"mapping":"sequence",e.result=s,!0;r?_===44&&ye(e,"expected the node content, but found ','"):ye(e,"missed comma between flow collection entries"),E=D=f=null,h=y=!1,_===63&&(d=e.input.charCodeAt(e.position+1),St(d)&&(h=y=!0,e.position++,tt(e,!0,t))),a=e.line,u=e.lineStart,l=e.position,Ci(e,t,Mu,!1,!0),E=e.tag,D=e.result,tt(e,!0,t),_=e.input.charCodeAt(e.position),(y||e.line===a)&&_===58&&(h=!0,_=e.input.charCodeAt(++e.position),tt(e,!0,t),Ci(e,t,Mu,!1,!0),f=e.result),g?wi(e,s,F,E,D,f,a,u,l):h?s.push(wi(e,null,F,E,D,f,a,u,l)):s.push(D),tt(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(r=!0,_=e.input.charCodeAt(++e.position)):r=!1}ye(e,"unexpected end of the stream within a flow collection")}function Uh(e,t){var r,a,u=kn,l=!1,n=!1,s=t,c=0,d=!1,m,h;if(h=e.input.charCodeAt(e.position),h===124)a=!1;else if(h===62)a=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)kn===u?u=h===43?Eo:Bh:ye(e,"repeat of a chomping mode identifier");else if((m=Rh(h))>=0)m===0?ye(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):n?ye(e,"repeat of an indentation width identifier"):(s=t+m-1,n=!0);else break;if(Kr(h)){do h=e.input.charCodeAt(++e.position);while(Kr(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!nr(h)&&h!==0)}for(;h!==0;){for(ta(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!n||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!n&&e.lineIndent>s&&(s=e.lineIndent),nr(h)){c++;continue}if(e.lineIndent<s){u===Eo?e.result+=ut.repeat(`
`,l?1+c:c):u===kn&&l&&(e.result+=`
`);break}for(a?Kr(h)?(d=!0,e.result+=ut.repeat(`
`,l?1+c:c)):d?(d=!1,e.result+=ut.repeat(`
`,c+1)):c===0?l&&(e.result+=" "):e.result+=ut.repeat(`
`,c):e.result+=ut.repeat(`
`,l?1+c:c),l=!0,n=!0,c=0,r=e.position;!nr(h)&&h!==0;)h=e.input.charCodeAt(++e.position);xr(e,r,e.position,!1)}return!0}function Co(e,t){var r,a=e.tag,u=e.anchor,l=[],n,s=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ye(e,"tab characters must not be used in indentation")),!(c!==45||(n=e.input.charCodeAt(e.position+1),!St(n))));){if(s=!0,e.position++,tt(e,!0,-1)&&e.lineIndent<=t){l.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,Ci(e,t,Fs,!1,!0),l.push(e.result),tt(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)ye(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=a,e.anchor=u,e.kind="sequence",e.result=l,!0):!1}function Wh(e,t,r){var a,u,l,n,s,c,d=e.tag,m=e.anchor,h={},y=Object.create(null),g=null,F=null,D=null,E=!1,f=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),_=e.input.charCodeAt(e.position);_!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ye(e,"tab characters must not be used in indentation")),a=e.input.charCodeAt(e.position+1),l=e.line,(_===63||_===58)&&St(a))_===63?(E&&(wi(e,h,y,g,F,null,n,s,c),g=F=D=null),f=!0,E=!0,u=!0):E?(E=!1,u=!0):ye(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=a;else{if(n=e.line,s=e.lineStart,c=e.position,!Ci(e,r,vs,!1,!0))break;if(e.line===l){for(_=e.input.charCodeAt(e.position);Kr(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),St(_)||ye(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(wi(e,h,y,g,F,null,n,s,c),g=F=D=null),f=!0,E=!1,u=!1,g=e.tag,F=e.result;else if(f)ye(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=m,!0}else if(f)ye(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=m,!0}if((e.line===l||e.lineIndent>t)&&(E&&(n=e.line,s=e.lineStart,c=e.position),Ci(e,t,Lu,!0,u)&&(E?F=e.result:D=e.result),E||(wi(e,h,y,g,F,D,n,s,c),g=F=D=null),tt(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>t)&&_!==0)ye(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&wi(e,h,y,g,F,null,n,s,c),f&&(e.tag=d,e.anchor=m,e.kind="mapping",e.result=h),f}function zh(e){var t,r=!1,a=!1,u,l,n;if(n=e.input.charCodeAt(e.position),n!==33)return!1;if(e.tag!==null&&ye(e,"duplication of a tag property"),n=e.input.charCodeAt(++e.position),n===60?(r=!0,n=e.input.charCodeAt(++e.position)):n===33?(a=!0,u="!!",n=e.input.charCodeAt(++e.position)):u="!",t=e.position,r){do n=e.input.charCodeAt(++e.position);while(n!==0&&n!==62);e.position<e.length?(l=e.input.slice(t,e.position),n=e.input.charCodeAt(++e.position)):ye(e,"unexpected end of the stream within a verbatim tag")}else{for(;n!==0&&!St(n);)n===33&&(a?ye(e,"tag suffix cannot contain exclamation marks"):(u=e.input.slice(t-1,e.position+1),_s.test(u)||ye(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),n=e.input.charCodeAt(++e.position);l=e.input.slice(t,e.position),Ph.test(l)&&ye(e,"tag suffix cannot contain flow indicator characters")}l&&!ws.test(l)&&ye(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{ye(e,"tag name is malformed: "+l)}return r?e.tag=l:kr.call(e.tagMap,u)?e.tag=e.tagMap[u]+l:u==="!"?e.tag="!"+l:u==="!!"?e.tag="tag:yaml.org,2002:"+l:ye(e,'undeclared tag handle "'+u+'"'),!0}function Hh(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ye(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!St(r)&&!_i(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ye(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Vh(e){var t,r,a;if(a=e.input.charCodeAt(e.position),a!==42)return!1;for(a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!St(a)&&!_i(a);)a=e.input.charCodeAt(++e.position);return e.position===t&&ye(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),kr.call(e.anchorMap,r)||ye(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],tt(e,!0,-1),!0}function Ci(e,t,r,a,u){var l,n,s,c=1,d=!1,m=!1,h,y,g,F,D,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=n=s=Lu===r||Fs===r,a&&tt(e,!0,-1)&&(d=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;zh(e)||Hh(e);)tt(e,!0,-1)?(d=!0,s=l,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):s=!1;if(s&&(s=d||u),(c===1||Lu===r)&&(Mu===r||vs===r?D=t:D=t+1,E=e.position-e.lineStart,c===1?s&&(Co(e,E)||Wh(e,E,D))||Lh(e,D)?m=!0:(n&&Uh(e,D)||qh(e,D)||Mh(e,D)?m=!0:Vh(e)?(m=!0,(e.tag!==null||e.anchor!==null)&&ye(e,"alias node should not have any properties")):Ih(e,D,Mu===r)&&(m=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(m=s&&Co(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ye(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,y=e.implicitTypes.length;h<y;h+=1)if(F=e.implicitTypes[h],F.resolve(e.result)){e.result=F.construct(e.result),e.tag=F.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(kr.call(e.typeMap[e.kind||"fallback"],e.tag))F=e.typeMap[e.kind||"fallback"][e.tag];else for(F=null,g=e.typeMap.multi[e.kind||"fallback"],h=0,y=g.length;h<y;h+=1)if(e.tag.slice(0,g[h].tag.length)===g[h].tag){F=g[h];break}F||ye(e,"unknown tag !<"+e.tag+">"),e.result!==null&&F.kind!==e.kind&&ye(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+F.kind+'", not "'+e.kind+'"'),F.resolve(e.result,e.tag)?(e.result=F.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ye(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||m}function Gh(e){var t=e.position,r,a,u,l=!1,n;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(n=e.input.charCodeAt(e.position))!==0&&(tt(e,!0,-1),n=e.input.charCodeAt(e.position),!(e.lineIndent>0||n!==37));){for(l=!0,n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!St(n);)n=e.input.charCodeAt(++e.position);for(a=e.input.slice(r,e.position),u=[],a.length<1&&ye(e,"directive name must not be less than one character in length");n!==0;){for(;Kr(n);)n=e.input.charCodeAt(++e.position);if(n===35){do n=e.input.charCodeAt(++e.position);while(n!==0&&!nr(n));break}if(nr(n))break;for(r=e.position;n!==0&&!St(n);)n=e.input.charCodeAt(++e.position);u.push(e.input.slice(r,e.position))}n!==0&&ta(e),kr.call(_o,a)?_o[a](e,a,u):Uu(e,'unknown document directive "'+a+'"')}if(tt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,tt(e,!0,-1)):l&&ye(e,"directives end mark is expected"),Ci(e,e.lineIndent-1,Lu,!1,!0),tt(e,!0,-1),e.checkLineBreaks&&kh.test(e.input.slice(t,e.position))&&Uu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&rn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,tt(e,!0,-1));return}if(e.position<e.length-1)ye(e,"end of the stream or a document separator is expected");else return}function $s(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Nh(e,t),a=e.indexOf("\0");for(a!==-1&&(r.position=a,ye(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Gh(r);return r.documents}function Kh(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var a=$s(e,r);if(typeof t!="function")return a;for(var u=0,l=a.length;u<l;u+=1)t(a[u])}function Yh(e,t){var r=$s(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new At("expected a single document in the stream, but found more")}}var Qh=Kh,Jh=Yh,Ds={loadAll:Qh,load:Jh},Bs=Object.prototype.toString,xs=Object.prototype.hasOwnProperty,ia=65279,Zh=9,Qi=10,Xh=13,e0=32,t0=33,r0=34,qn=35,i0=37,u0=38,n0=39,a0=42,ks=44,o0=45,Wu=58,s0=61,l0=62,c0=63,d0=64,Ps=91,Ts=93,p0=96,js=123,f0=124,Rs=125,ft={};ft[0]="\\0";ft[7]="\\a";ft[8]="\\b";ft[9]="\\t";ft[10]="\\n";ft[11]="\\v";ft[12]="\\f";ft[13]="\\r";ft[27]="\\e";ft[34]='\\"';ft[92]="\\\\";ft[133]="\\N";ft[160]="\\_";ft[8232]="\\L";ft[8233]="\\P";var h0=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],m0=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function g0(e,t){var r,a,u,l,n,s,c;if(t===null)return{};for(r={},a=Object.keys(t),u=0,l=a.length;u<l;u+=1)n=a[u],s=String(t[n]),n.slice(0,2)==="!!"&&(n="tag:yaml.org,2002:"+n.slice(2)),c=e.compiledTypeMap.fallback[n],c&&xs.call(c.styleAliases,s)&&(s=c.styleAliases[s]),r[n]=s;return r}function y0(e){var t,r,a;if(t=e.toString(16).toUpperCase(),e<=255)r="x",a=2;else if(e<=65535)r="u",a=4;else if(e<=4294967295)r="U",a=8;else throw new At("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ut.repeat("0",a-t.length)+t}var b0=1,Ji=2;function E0(e){this.schema=e.schema||Es,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ut.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=g0(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ji:b0,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ao(e,t){for(var r=ut.repeat(" ",t),a=0,u=-1,l="",n,s=e.length;a<s;)u=e.indexOf(`
`,a),u===-1?(n=e.slice(a),a=s):(n=e.slice(a,u+1),a=u+1),n.length&&n!==`
`&&(l+=r),l+=n;return l}function Mn(e,t){return`
`+ut.repeat(" ",e.indent*t)}function v0(e,t){var r,a,u;for(r=0,a=e.implicitTypes.length;r<a;r+=1)if(u=e.implicitTypes[r],u.resolve(t))return!0;return!1}function zu(e){return e===e0||e===Zh}function Zi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ia||65536<=e&&e<=1114111}function So(e){return Zi(e)&&e!==ia&&e!==Xh&&e!==Qi}function $o(e,t,r){var a=So(e),u=a&&!zu(e);return(r?a:a&&e!==ks&&e!==Ps&&e!==Ts&&e!==js&&e!==Rs)&&e!==qn&&!(t===Wu&&!u)||So(t)&&!zu(t)&&e===qn||t===Wu&&u}function F0(e){return Zi(e)&&e!==ia&&!zu(e)&&e!==o0&&e!==c0&&e!==Wu&&e!==ks&&e!==Ps&&e!==Ts&&e!==js&&e!==Rs&&e!==qn&&e!==u0&&e!==a0&&e!==t0&&e!==f0&&e!==s0&&e!==l0&&e!==n0&&e!==r0&&e!==i0&&e!==d0&&e!==p0}function _0(e){return!zu(e)&&e!==Wu}function Ui(e,t){var r=e.charCodeAt(t),a;return r>=55296&&r<=56319&&t+1<e.length&&(a=e.charCodeAt(t+1),a>=56320&&a<=57343)?(r-55296)*1024+a-56320+65536:r}function Os(e){var t=/^\n* /;return t.test(e)}var Ns=1,Ln=2,Is=3,qs=4,bi=5;function w0(e,t,r,a,u,l,n,s){var c,d=0,m=null,h=!1,y=!1,g=a!==-1,F=-1,D=F0(Ui(e,0))&&_0(Ui(e,e.length-1));if(t||n)for(c=0;c<e.length;d>=65536?c+=2:c++){if(d=Ui(e,c),!Zi(d))return bi;D=D&&$o(d,m,s),m=d}else{for(c=0;c<e.length;d>=65536?c+=2:c++){if(d=Ui(e,c),d===Qi)h=!0,g&&(y=y||c-F-1>a&&e[F+1]!==" ",F=c);else if(!Zi(d))return bi;D=D&&$o(d,m,s),m=d}y=y||g&&c-F-1>a&&e[F+1]!==" "}return!h&&!y?D&&!n&&!u(e)?Ns:l===Ji?bi:Ln:r>9&&Os(e)?bi:n?l===Ji?bi:Ln:y?qs:Is}function C0(e,t,r,a,u){e.dump=function(){if(t.length===0)return e.quotingType===Ji?'""':"''";if(!e.noCompatMode&&(h0.indexOf(t)!==-1||m0.test(t)))return e.quotingType===Ji?'"'+t+'"':"'"+t+"'";var l=e.indent*Math.max(1,r),n=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),s=a||e.flowLevel>-1&&r>=e.flowLevel;function c(d){return v0(e,d)}switch(w0(t,s,e.indent,n,c,e.quotingType,e.forceQuotes&&!a,u)){case Ns:return t;case Ln:return"'"+t.replace(/'/g,"''")+"'";case Is:return"|"+Do(t,e.indent)+Bo(Ao(t,l));case qs:return">"+Do(t,e.indent)+Bo(Ao(A0(t,n),l));case bi:return'"'+S0(t)+'"';default:throw new At("impossible error: invalid scalar style")}}()}function Do(e,t){var r=Os(e)?String(t):"",a=e[e.length-1]===`
`,u=a&&(e[e.length-2]===`
`||e===`
`),l=u?"+":a?"":"-";return r+l+`
`}function Bo(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function A0(e,t){for(var r=/(\n+)([^\n]*)/g,a=function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,r.lastIndex=d,xo(e.slice(0,d),t)}(),u=e[0]===`
`||e[0]===" ",l,n;n=r.exec(e);){var s=n[1],c=n[2];l=c[0]===" ",a+=s+(!u&&!l&&c!==""?`
`:"")+xo(c,t),u=l}return a}function xo(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,a,u=0,l,n=0,s=0,c="";a=r.exec(e);)s=a.index,s-u>t&&(l=n>u?n:s,c+=`
`+e.slice(u,l),u=l+1),n=s;return c+=`
`,e.length-u>t&&n>u?c+=e.slice(u,n)+`
`+e.slice(n+1):c+=e.slice(u),c.slice(1)}function S0(e){for(var t="",r=0,a,u=0;u<e.length;r>=65536?u+=2:u++)r=Ui(e,u),a=ft[r],!a&&Zi(r)?(t+=e[u],r>=65536&&(t+=e[u+1])):t+=a||y0(r);return t}function $0(e,t,r){var a="",u=e.tag,l,n,s;for(l=0,n=r.length;l<n;l+=1)s=r[l],e.replacer&&(s=e.replacer.call(r,String(l),s)),(mr(e,t,s,!1,!1)||typeof s>"u"&&mr(e,t,null,!1,!1))&&(a!==""&&(a+=","+(e.condenseFlow?"":" ")),a+=e.dump);e.tag=u,e.dump="["+a+"]"}function ko(e,t,r,a){var u="",l=e.tag,n,s,c;for(n=0,s=r.length;n<s;n+=1)c=r[n],e.replacer&&(c=e.replacer.call(r,String(n),c)),(mr(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&mr(e,t+1,null,!0,!0,!1,!0))&&((!a||u!=="")&&(u+=Mn(e,t)),e.dump&&Qi===e.dump.charCodeAt(0)?u+="-":u+="- ",u+=e.dump);e.tag=l,e.dump=u||"[]"}function D0(e,t,r){var a="",u=e.tag,l=Object.keys(r),n,s,c,d,m;for(n=0,s=l.length;n<s;n+=1)m="",a!==""&&(m+=", "),e.condenseFlow&&(m+='"'),c=l[n],d=r[c],e.replacer&&(d=e.replacer.call(r,c,d)),mr(e,t,c,!1,!1)&&(e.dump.length>1024&&(m+="? "),m+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),mr(e,t,d,!1,!1)&&(m+=e.dump,a+=m));e.tag=u,e.dump="{"+a+"}"}function B0(e,t,r,a){var u="",l=e.tag,n=Object.keys(r),s,c,d,m,h,y;if(e.sortKeys===!0)n.sort();else if(typeof e.sortKeys=="function")n.sort(e.sortKeys);else if(e.sortKeys)throw new At("sortKeys must be a boolean or a function");for(s=0,c=n.length;s<c;s+=1)y="",(!a||u!=="")&&(y+=Mn(e,t)),d=n[s],m=r[d],e.replacer&&(m=e.replacer.call(r,d,m)),mr(e,t+1,d,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&Qi===e.dump.charCodeAt(0)?y+="?":y+="? "),y+=e.dump,h&&(y+=Mn(e,t)),mr(e,t+1,m,!0,h)&&(e.dump&&Qi===e.dump.charCodeAt(0)?y+=":":y+=": ",y+=e.dump,u+=y));e.tag=l,e.dump=u||"{}"}function Po(e,t,r){var a,u,l,n,s,c;for(u=r?e.explicitTypes:e.implicitTypes,l=0,n=u.length;l<n;l+=1)if(s=u[l],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(c=e.styleMap[s.tag]||s.defaultStyle,Bs.call(s.represent)==="[object Function]")a=s.represent(t,c);else if(xs.call(s.represent,c))a=s.represent[c](t,c);else throw new At("!<"+s.tag+'> tag resolver accepts not "'+c+'" style');e.dump=a}return!0}return!1}function mr(e,t,r,a,u,l,n){e.tag=null,e.dump=r,Po(e,r,!1)||Po(e,r,!0);var s=Bs.call(e.dump),c=a,d;a&&(a=e.flowLevel<0||e.flowLevel>t);var m=s==="[object Object]"||s==="[object Array]",h,y;if(m&&(h=e.duplicates.indexOf(r),y=h!==-1),(e.tag!==null&&e.tag!=="?"||y||e.indent!==2&&t>0)&&(u=!1),y&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(m&&y&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),s==="[object Object]")a&&Object.keys(e.dump).length!==0?(B0(e,t,e.dump,u),y&&(e.dump="&ref_"+h+e.dump)):(D0(e,t,e.dump),y&&(e.dump="&ref_"+h+" "+e.dump));else if(s==="[object Array]")a&&e.dump.length!==0?(e.noArrayIndent&&!n&&t>0?ko(e,t-1,e.dump,u):ko(e,t,e.dump,u),y&&(e.dump="&ref_"+h+e.dump)):($0(e,t,e.dump),y&&(e.dump="&ref_"+h+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&C0(e,e.dump,t,l,c);else{if(s==="[object Undefined]"||e.skipInvalid)return!1;throw new At("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}function x0(e,t){var r=[],a=[],u,l;for(Un(e,r,a),u=0,l=a.length;u<l;u+=1)t.duplicates.push(r[a[u]]);t.usedDuplicates=new Array(l)}function Un(e,t,r){var a,u,l;if(e!==null&&typeof e=="object")if(u=t.indexOf(e),u!==-1)r.indexOf(u)===-1&&r.push(u);else if(t.push(e),Array.isArray(e))for(u=0,l=e.length;u<l;u+=1)Un(e[u],t,r);else for(a=Object.keys(e),u=0,l=a.length;u<l;u+=1)Un(e[a[u]],t,r)}function k0(e,t){t=t||{};var r=new E0(t);r.noRefs||x0(e,r);var a=e;return r.replacer&&(a=r.replacer.call({"":a},"",a)),mr(r,0,a,!0,!0)?r.dump+`
`:""}var P0=k0,T0={dump:P0};function ua(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var j0=Ds.load,wm=Ds.loadAll,Cm=T0.dump,Am=ua("safeLoad","load"),Sm=ua("safeLoadAll","loadAll"),$m=ua("safeDump","dump"),Pn=require("node:fs/promises"),To=require("node:path"),R0=require("node:process"),O0=`# yaml-language-server: $schema=https://chronocat.vercel.app/config-v0.schema.json
#
################################################################
#                      Chronocat \u914D\u7F6E\u6587\u4EF6
################################################################
#
# \u4F60\u597D\uFF01
#
# \u8FD9\u662F Chronocat \u7684\u914D\u7F6E\u6587\u4EF6\u3002Chronocat \u7684\u6240\u6709\u914D\u7F6E\u4EE5\u53CA\u6BCF\u4E2A\u8D26\u53F7
# \u7684\u72EC\u7ACB\u914D\u7F6E\u90FD\u5B58\u653E\u5728\u8FD9\u4E2A\u6587\u4EF6\u91CC\u3002
#
# \u8FD9\u662F Chronocat \u914D\u7F6E\u7684\u6587\u6863\uFF1A
# https://chronocat.vercel.app/guide/config
# \u5982\u679C\u8FD8\u6CA1\u6709\u770B\u8FC7\u7684\u8BDD\uFF0C\u8BF7\u5148\u770B\u4E00\u4E0B\uFF01
#
# \u5982\u679C\u4F60\u73B0\u5728\u5E76\u4E0D\u662F\u4F7F\u7528\u5B8C\u6574\u529F\u80FD\u7684\u7F16\u8F91\u5668\u7F16\u8F91\u6B64\u6587\u4EF6\u7684\u8BDD\uFF0C
# \u6211\u4EEC\u63A8\u8350\u4F60\u4F7F\u7528\u4E00\u6B3E\u5B8C\u6574\u529F\u80FD\u7684\u7F16\u8F91\u5668\u6765\u7F16\u8F91\uFF01
# \u8FD9\u6837\u7684\u7F16\u8F91\u5668\u5728\u4F60\u4E0D\u5C0F\u5FC3\u6539\u9519\u914D\u7F6E\u7684\u65F6\u5019\u4F1A\u667A\u80FD\u5730\u7ED9\u51FA\u63D0\u793A\u3002
# \u60F3\u8981\u4E86\u89E3\u66F4\u591A\u8BF7\u67E5\u770B\u4E0A\u9762\u7684\u6587\u6863 \u2191
#
################################################################
#                           \u5168\u5C40\u914D\u7F6E
################################################################
#
# \u4E0B\u9762\u7684\u914D\u7F6E\u662F\u901A\u7528\u7684\uFF01\u5982\u679C\u4F60\u53EA\u767B\u5F55\u4E00\u4E2A\u8D26\u53F7\uFF0C
# \u90A3\u4E48\u53EA\u9700\u4FEE\u6539\u4E0B\u9762\u8FD9\u90E8\u5206\u914D\u7F6E\u5373\u53EF\uFF01
#
################################################################

# servers\uFF1A\u670D\u52A1\u914D\u7F6E
#
# \u914D\u7F6E Chronocat \u5F00\u542F\u7684\u670D\u52A1\u3002\u9700\u8981\u5C24\u5176\u6CE8\u610F\u670D\u52A1\u5217\u8868\u7684\u683C\u5F0F\u54E6~
servers:
  # type\uFF1A\u670D\u52A1\u7C7B\u578B
  #
  # \u5F00\u542F Satori \u670D\u52A1\u53EA\u9700\u8981\u6307\u5B9A type \u4E3A satori \u5373\u53EF\u3002
  - type: satori

    # token\uFF1A\u670D\u52A1\u5BC6\u7801
    #
    # Chronocat \u5DF2\u7ECF\u81EA\u52A8\u751F\u6210\u4E86\u968F\u673A\u5BC6\u7801\u3002\u8981\u59A5\u5584\u4FDD\u5B58\u54E6\uFF01
    # \u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\u8FD9\u4E2A\u5BC6\u7801\uFF01
    token: DEFINE_CHRONO_TOKEN

    # port\uFF1A\u670D\u52A1\u7AEF\u53E3
    #
    # Chronocat \u5F00\u542F satori \u670D\u52A1\u7684\u7AEF\u53E3\uFF0C\u9ED8\u8BA4\u4E3A 5500\u3002
    port: 5500

################################################################
#                           \u8D26\u53F7\u914D\u7F6E
################################################################
overrides:
  ##############################################################
  #
  # \u4E0B\u9762\u7684\u914D\u7F6E\u662F\u6BCF\u4E2A\u8D26\u53F7\u4E13\u5C5E\u7684\uFF01\u4FEE\u6539\u4E0B\u9762\u7684\u914D\u7F6E\u4F1A\u8986\u76D6\u4E0A\u9762\u7684\u914D\u7F6E\u54E6~
  # \u4FEE\u6539\u7684\u65F6\u5019\u8981\u7279\u522B\u6CE8\u610F\uFF1A\u8D26\u53F7\u524D\u7A7A\u4E24\u683C\uFF0C\u8D26\u53F7\u5185\u914D\u7F6E\u8981\u7A7A\u56DB\u683C\u54E6\uFF01
  #
  ##############################################################

  10000:
    servers:
      - type: satori
        token: DEFINE_CHRONO_TOKEN
        port: 5501
`,N0=pt($d()),I0=pt(Dd()),na=new N0.default({discriminator:!0,useDefaults:!0});na.addKeyword({keyword:"defaultProperties",valid:!0});na.addSchema(Bd());var Ms=e=>async t=>{let r=na.getSchema(e);if(await r(t))return;(0,I0.default)(r.errors);let a="",u=0;for(let l of r.errors)a+=`	\u95EE\u9898 ${++u}\uFF1A${l.schemaPath}\uFF1A${l.message}`;return a},Ls,q0=(async()=>{let e=(0,To.join)(tn,"config"),t=(0,To.join)(e,"chronocat.yml");if(!await Zn(t)){let n=O0.replaceAll("DEFINE_CHRONO_TOKEN",`'${df.app.commandLine.getSwitchValue("chrono-default-token")||R0.env.CHRONO_DEFAULT_TOKEN||Md()}'`);await(0,Pn.mkdir)(e,{recursive:!0}),await(0,Pn.writeFile)(t,n)}let r=j0(await(0,Pn.readFile)(t,"utf-8")),{uin:a}=await Xn(),u=await Ms("ChronocatConfig")(r);u&&(u.includes('#/properties/servers/items/discriminator\uFF1A\u6807\u7B7E "type"')&&ct.warn("\u53EF\u80FD\u5B58\u5728\u4E0D\u652F\u6301\u7684\u670D\u52A1\u5668\u7C7B\u578B\u3002\u662F\u5426\u672A\u8FDB\u884C\u4ECE Chronocat v0.1.x \u7684\u8FC1\u79FB\uFF1F",{code:2157}),ct.error(new Error(`\u89E3\u6790\u914D\u7F6E\u65F6\u51FA\u73B0\u95EE\u9898\u3002
${u}

	\u914D\u7F6E\u6587\u4EF6\u4F4D\u7F6E\uFF1A${t}
	
    \u8BF7\u81EA\u884C\u68C0\u67E5\u3002`),{code:2154,throw:!0}));let l=Object.assign({},r,r.overrides?.[a]);"overrides"in l&&delete l.overrides,Ls=l})(),Wn=async()=>(await q0,Ls),zn=async e=>{if(!e.length)return["\u7A7A\u6D88\u606F"];let t=await Promise.all(e.map(M0));return t.every(r=>r===!1)?!1:t.flatMap(r=>r===!1?["[\u4E0D\u652F\u6301\u7684\u6D88\u606F]"]:r)},Us=async e=>{if(!e)return["\u7A7A\u6D88\u606F"];let t=Fi.normalize(e),r=await zn(t);return r===!1&&(r=["[\u4E0D\u652F\u6301\u7684\u6D88\u606F]"]),r},M0=async e=>{let{type:t,attrs:r,children:a}=e;switch(t){case"text":return[r.content];case"img":return[Qe("[\u56FE\u7247]",r.src)];case"audio":return[Qe("[\u8BED\u97F3]",r.src)];case"video":return[Qe("[\u89C6\u9891]",r.src)];case"file":return[Qe("[\u6587\u4EF6]",r.src)];case"at":return r.type==="all"?["@\u5168\u4F53\u6210\u5458 "]:[`@${r.name}(${r.id}) `];case"quote":{let[u]=Fi.select(a,"author"),l=u?.attrs.id;return[He(l?`${Qe(`[\u56DE\u590D${l}]`,`http://thirdqq.qlogo.cn/headimg_dl?dst_uin=${l}&spec=640`)} `:"[\u56DE\u590D] ")]}case`${Gr}:poke`:return["[\u6233\u4E00\u6233]"];case`${Gr}:pcpoke`:return["[\u7A97\u53E3\u6296\u52A8]"];case`${Gr}:face`:{let u="",l="\u8868\u60C5";return r["unsafe-super"]&&(l="\u8D85\u7EA7\u8868\u60C5"),r["unsafe-market-emoticon"]&&(l="Emoticon \u8868\u60C5"),u=Qe(`[${l}]`,Fi.select(a,"img")?.[0]?.attrs.src),r["unsafe-result-id"]&&(u+=` \u63B7\u9AB0\u7ED3\u679C\uFF1A${r["unsafe-result-id"]}`),r["unsafe-chain-count"]&&(u+=` \u63A5\u9F99\u4E2A\u6570\uFF1A${r["unsafe-chain-count"]}`),[u]}case`${Gr}:marketface`:return[Qe("[\u5546\u57CE\u8868\u60C5]",Fi.select(a,"img")?.[0]?.attrs.src)];case`${Gr}:facebubble`:return[Qe("[\u6C14\u6CE1\u8868\u60C5]",Fi.select(a,"img")?.[0]?.attrs.src)];case"message":{if("forward"in r)return"id"in r?["[\u5355\u6761\u8F6C\u53D1\u6D88\u606F]"]:a.every(u=>"id"in u)?["[\u666E\u901A\u5408\u5E76\u8F6C\u53D1\u6D88\u606F]"]:["[\u4F2A\u9020\u5408\u5E76\u8F6C\u53D1\u6D88\u606F]"];{let u=await zn(a);return u?["[\u5207\u5272\u6D88\u606F]",...u]:["[\u5207\u5272\u6D88\u606F]"]}}default:return await zn(a)}},L0=async e=>{let t=e;return t.type!=="message-created"?void 0:[(await Us(t.message?.content)).join("").replace(/\r/g,"").replace(/\n/g," ")].map(r=>`${t.channel?.type===1?"":en(Qe(t.channel?.id===t.guild?.id?`${t.channel?.name}(${t.channel?.id})`:`${t.guild?.name}(${t.guild?.id})/${t.channel?.name}(${t.channel?.id})`,t.guild?.avatar))}${t.channel?.type===1?"":He("-")}${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))}${He(":")} ${r}`)},U0=async e=>{let t=e;return t.type!=="message-deleted"?void 0:[(await Us(t.message?.content)).join("").replace(/\r/g,"").replace(/\n/g," ")].map(r=>`${t.channel?.type===1?"":en(Qe(t.channel?.id===t.guild?.id?`${t.channel?.name}(${t.channel?.id})`:`${t.guild?.name}(${t.guild?.id})/${t.channel?.name}(${t.channel?.id})`,t.guild?.avatar))}${t.channel?.type===1?"":He("-")}${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))}${He(":")} ${r}`)},W0=async e=>{let t=e;if(t.type==="guild-request")return[`${He("\u7528\u6237")} ${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))} ${He("\u7533\u8BF7\u52A0\u5165\u7FA4")} ${en(Qe(`${t.guild?.name}(${t.guild?.id})`,t.guild?.avatar))}`]},z0=async e=>{let t=e;if(t.type==="friend-request")return[`${He("\u7528\u6237")} ${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))} ${He("\u7533\u8BF7\u6DFB\u52A0\u597D\u53CB")}`]},H0=async e=>{let t=e;if(t.type==="guild-member-added")return[`${He("\u7528\u6237")} ${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))} ${He("\u7531")} ${Et(Qe(`${t.operator?.name||t.operator?.nick}(${t.operator?.id})`,t.operator?.avatar))} ${He("\u6279\u51C6/\u9080\u8BF7\u52A0\u5165\u4E86\u7FA4")} ${en(Qe(`${t.guild?.name}(${t.guild?.id})`,t.guild?.avatar))}`]},V0=async e=>{let t=e;if(t.type==="unsafe-guild-mute")return[`${He("\u7528\u6237")} ${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))} ${He("\u7531\u7BA1\u7406")} ${Et(Qe(`${t.operator?.name||t.operator?.nick}(${t.operator?.id})`,t.operator?.avatar))} ${He("\u7981\u8A00")}`]},G0=async e=>{let t=e;if(t.type==="unsafe-guild-unmute")return[`${He("\u7528\u6237")} ${Et(Qe(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))} ${He("\u7531\u7BA1\u7406")} ${Et(Qe(`${t.operator?.name||t.operator?.nick}(${t.operator?.id})`,t.operator?.avatar))} ${He("\u89E3\u9664\u7981\u8A00")}`]},K0=class{file=null;online=!1;uin=null;isDebug=!1;logiri;task=Promise.resolve();init;constructor(){this.logiri=new rf,this.logiri.register(L0),this.logiri.register(U0),this.logiri.register(W0),this.logiri.register(z0),this.logiri.register(H0),this.logiri.register(V0),this.logiri.register(G0),this.init=(async()=>{let e=(0,Hi.join)(tn,"logs");await(0,zi.mkdir)(e,{recursive:!0});let t=of(),r=(0,Hi.join)(e,`${t}.log`);this.file=await(0,zi.open)(r,"a"),Y0(t,r)})(),this.init.then(async()=>{let e=await Xn();this.uin=`[${e.uin.slice(-4)}]`,this.online=!0;let t=await Wn();this.isDebug=t.log?.debug||!1})}getPrefix=()=>`${this.online&&this.uin||He("[    ]")}`;writeConsole=e=>void console.log(e);writeFile=e=>void(this.task=this.task.then(async()=>{await this.init,await this.file.write(e+`
`)}));applyZeroWidthLogTag=e=>e.split(`
`).join(`
\u200B\u200C\u200B\u200B`);write=e=>{this.writeConsole(this.applyZeroWidthLogTag(e)),this.writeFile(e)};parse=e=>{(async()=>(await this.logiri.parse(e)).forEach(t=>this.message(t)))()};message=e=>{let t=`${this.getPrefix()}${qi()}${Ii(0,"M")} ${e}`;this.write(t)};info=(e,t)=>{let r=`${this.getPrefix()}${qi()}${Ii(t?.code||0,"I")} ${xu(e)}`;if(this.write(r),t?.throw)throw e};warn=(e,t)=>{let r=`${this.getPrefix()}${qi()}${Ii(t?.code||0,"W",tf)} ${xu(e)}`;if(this.write(r),t?.throw)throw e};error=(e,t)=>{let r=`${this.getPrefix()}${qi()}${Ii(t?.code||0,"E",ef)} ${xu(e)}`;if(this.write(r),t?.throw)throw e};debug=(e,t)=>{if(!this.isDebug)return;let r=`${this.getPrefix()}${qi()}${Ii(t?.code||0,"D")} ${xu(e)}`;if(this.write(r),t?.throw)throw e}},ct=new K0;async function Y0(e,t){switch(yo.platform){case"win32":{let r=(0,Hi.join)(yo.env.LOCALAPPDATA,"Microsoft\\WindowsApps\\wt.exe"),a=(0,Hi.join)(tn,"tmp");await(0,zi.mkdir)(a,{recursive:!0});let u=(0,Hi.join)(a,`lw-${e}.cmd`);await(0,zi.writeFile)(u,`@chcp 65001\r
@title Chronocat \u65E5\u5FD7 - \u7A97\u53E3\u53EF\u4EE5\u5B89\u5168\u5173\u95ED\u3002\r
@cls\r
@powershell Get-Content -Encoding UTF8 -Wait -Path "${t}"`),(0,uf.spawn)(await Zn(r)?r:"conhost",[u],{shell:!1,stdio:"ignore"}),setTimeout(()=>void(0,zi.rm)(u),1e4);return}default:return}}function Ii(e,t,r){let a=af(e),u=`${Qe(`[${t}][CH${a}]`,`https://chronocat.vercel.app/code/${a}`)}`;return r?u=`${r(u)}`:e||(u=`${He(u)}`),u}function xu(e){if(typeof e=="string")return e;let t=e,r=t.message;for(;;)if(t.cause&&t.cause instanceof Error)t=t.cause,r+=` ${He("\u539F\u56E0\uFF1A")} ${t.message}`;else if(t.cause){r+=` ${He("\u539F\u56E0\uFF1A")} ${String(t)}`;break}else break;return r}function qi(){let e=new Date;return He(`[${ir(e.getMonth()+1)}-${ir(e.getDate())} ${ir(e.getHours())}:${ir(e.getMinutes())}:${ir(e.getSeconds())}]`)}var Q0=e=>{let t=()=>ct.error(new Error(`\u6CA1\u6709\u5F15\u64CE\u63D0\u4F9B ${hs(e)}\u3002\u53EF\u80FD\u6CA1\u6709\u52A0\u8F7D\u6240\u9700\u7684\u5F15\u64CE\uFF1F`),{code:2159,throw:!0});return t.notimpl=!0,t},J0={get:(e,t)=>typeof t=="symbol"||Object.prototype.hasOwnProperty.call(e,t)?e[t]:Q0(t)},bt=new Proxy({},J0);bt.register=(e,t=0)=>(r,a,u=-1)=>{let l=u===-1?t:u;!bt[r].notimpl&&(ct.warn(`${Et(e)}(${l}) \u4E0E ${Et(bt[r].engine)}(${bt[r].priority}) \u91CD\u590D\u6CE8\u518C\u4E86\u65B9\u6CD5 ${hs(r)}\uFF0C\u5C06\u91C7\u7528 ${l>bt[r].priority?e:bt[r].engine} \u7684\u7248\u672C\u3002`),l<bt[r].priority)||(bt[r]=a,bt[r].engine=e,bt[r].priority=l)};bt.has=e=>!bt[e].notimpl;var jo=[],ku={register:e=>jo.push(e),emit:e=>jo.forEach(t=>t(e))},Ws={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(Ws);var zs=Ws,Rt=function(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)},Ei,Wi,Vr,Z0=class{constructor(...e){Ei.set(this,new Map),Wi.set(this,new Map),Vr.set(this,new Map);for(let t of e)this.define(t)}define(e,t=!1){for(let[r,a]of Object.entries(e)){r=r.toLowerCase(),a=a.map(n=>n.toLowerCase()),Rt(this,Vr,"f").has(r)||Rt(this,Vr,"f").set(r,new Set);let u=Rt(this,Vr,"f").get(r),l=!0;for(let n of a){let s=n.startsWith("*");if(n=s?n.slice(1):n,u?.add(n),l&&Rt(this,Wi,"f").set(r,n),l=!1,s)continue;let c=Rt(this,Ei,"f").get(n);if(c&&c!=r&&!t)throw new Error(`"${r} -> ${n}" conflicts with "${c} -> ${n}". Pass \`force=true\` to override this definition.`);Rt(this,Ei,"f").set(n,r)}}return this}getType(e){if(typeof e!="string")return null;let t=e.replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),a=t.length<e.length;return!(r.length<t.length-1)&&a?null:Rt(this,Ei,"f").get(r)??null}getExtension(e){return typeof e!="string"?null:(e=e?.split?.(";")[0],(e&&Rt(this,Wi,"f").get(e.trim().toLowerCase()))??null)}getAllExtensions(e){return typeof e!="string"?null:Rt(this,Vr,"f").get(e.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(let e of Rt(this,Vr,"f").values())Object.freeze(e);return this}_getTestState(){return{types:Rt(this,Ei,"f"),extensions:Rt(this,Wi,"f")}}};Ei=new WeakMap,Wi=new WeakMap,Vr=new WeakMap;var Hs=Z0,Dm=new Hs(zs)._freeze(),X0=new Hs().define(zs).define({"audio/silk":["slk","silk","ntsilk"]}),Vs={nick:""},em=async e=>{e.type==="unsafe-selfprofile"&&(Vs=await e.getSelfProfile())},tm=()=>Vs,rm=require("node:events"),im=class extends rm.EventEmitter{},um=/\d+/,vi=e=>typeof e=="string"&&e!=="0"&&um.test(e)||typeof e=="number"&&e>9999,Mi=e=>typeof e=="string"&&e.length===24&&e.startsWith("u_"),Ro=vi,nm=class extends im{map={};isUin=vi;isUid=Mi;isGroup=Ro;add=(e,t)=>{!Mi(e)||!vi(t)||(this.map[e]=t,this.map[t]=e,this.emit(t,e),this.emit(e,t))};getUin=e=>{if(!Mi(e))return;let t=this.map[e];if(vi(t))return t};getUin2=async(e,t)=>{if(!Mi(e))return;let r;if(t){if(!Ro(t))return;try{r=await bt["chronocat.internal.uix.uin.get"](e)}catch{}}else try{r=await bt["chronocat.internal.uix.uin.get"](e)}catch{}return r&&this.add(e,r),this.getUin(e)};getUid=e=>{if(!vi(e))return;let t=this.map[e];if(Mi(t))return t};getUid2=async(e,t)=>{if(vi(e))return this.getUid(e)}},am=new nm,Oo=["chronocat","evolutionary","bot","satori","engine","safe","lowcost","consistency","reliable","convenient","strong","koishi","ilharp"],No=new Array(200).fill(0).map((e,t)=>Oo[Math.floor(Math.random()*Oo.length)]).join("."),om=0,sm=`
${`
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbb______bbbb__bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb______bbbbbbbbbbb__bbbbbb
bbbbbbb/ ____/bbb/ /_bbbb_____bb____bbbb____bbb____bbb/ ____/bb____b_bb/ /_bbbbb
bbbbbb/ /bbbbbbb/ __ \\bb/ ___/b/ __ \\bb/ __ \\b/ __ \\b/ /bbbbbb/ __ \`/b/ __/bbbbb
bbbbb/ /___bbbb/ /b/ /b/ /bbbb/ /_/ /b/ /b/ // /_/ // /___bbb/ /_/ /b/ /_bbbbbbb
bbbbb\\____/bbb/_/b/_/b/_/bbbbb\\____/b/_/b/_/b\\____/b\\____/bbb\\__,_/bb\\__/bbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
`.replace(/([^b])/g,Et("$1")).replace(/b/g,()=>He(No[om++%No.length]))}

`,lm=()=>{if(ct.write(sm),ct.info(`${Et("Chronocat")} ${Xp("0.2.18")}`),ct.info(He("\u5F53\u5DE6\u4FA7\u9519\u8BEF\u6307\u793A\u706F\u4EAE\u8D77\u65F6\uFF0C\u70B9\u51FB\u9519\u8BEF\u7801\u4EE5\u68C0\u67E5\u8BF4\u660E\u3002")),jd.app.commandLine.hasSwitch("loadapp")){ct.warn("\u542F\u52A8\u7684\u5E94\u7528\u5E76\u975E QQ\uFF0CChronocat \u4E0D\u4F1A\u542F\u7528\u3002",{code:2151});return}let e,t=new Promise(u=>{e=u}),r={chronocat:{api:bt,baseDir:tn,emit:ku.emit,exists:Zn,getAuthData:Xn,getConfig:Wn,getSelfProfile:tm,h:Fi,l:ct,mime:X0,platform:Gr,sleep:Id,timeout:1e4,uix:am,validate:Ms,whenReady:()=>t}};ku.register(em),ct.debug("\u7B49\u5F85\u767B\u5F55"),Wn().then(async u=>{if(!u.enable){ct.info("\u6839\u636E\u914D\u7F6E\u6587\u4EF6\u8981\u6C42\uFF0CChronocat \u4E0D\u4F1A\u542F\u7528\u3002");return}let l=u.log;(!l.self_url||l.self_url==="https://chronocat.vercel.app")&&(l.self_url="http://127.0.0.1:5500"),l.self_url.endsWith("/")&&(l.self_url=l.self_url.slice(0,l.self_url.length-1)),ku.register(async n=>{n.type==="satori"&&(await n.toSatori(r,l)).forEach(s=>ct.parse(s))}),ku.register((await Kp(r)).emit),ct.info("\u4E2D\u8EAB\u306F\u3042\u3093\u307E\u308A\u306A\u3044\u3088\uFF5E (v0.x)",{code:560}),e()});let a={load:u=>{ct.info(`\u52A0\u8F7D\u5F15\u64CE ${Et(u.name)} ${He(`v${u.version}`)}`);try{u.apply(r)}catch{ct.error(`\u52A0\u8F7D\u5F15\u64CE ${u.name} \u65F6\u51FA\u73B0\u95EE\u9898\u3002`,{code:2155,throw:!0})}}};if(!process||!process.version)ct.warn("process.version \u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u6302\u8F7D outerContext\uFF0C\u4E00\u4E9B Engine \u53EF\u80FD\u52A0\u8F7D\u5931\u8D25\u3002");else{let u=process.version,l=!1;process.__defineSetter__("version",n=>{n==="__chronocat__"&&(l=!0)}),process.__defineGetter__("version",()=>l?(l=!1,a):u)}return a};});var Ys=fc(Ks());(0,Ys.chronocat)();
/*! Bundled license information:

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
