"use strict";var Ql=Object.create;var La=Object.defineProperty;var Jl=Object.getOwnPropertyDescriptor;var Zl=Object.getOwnPropertyNames;var Xl=Object.getPrototypeOf,ec=Object.prototype.hasOwnProperty;var tc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var rc=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Zl(t))!ec.call(e,n)&&n!==r&&La(e,n,{get:()=>t[n],enumerable:!(a=Jl(t,n))||a.enumerable});return e};var ic=(e,t,r)=>(r=e!=null?Ql(Xl(e)):{},rc(t||!e||!e.__esModule?La(r,"default",{value:e,enumerable:!0}):r,e));var Is=tc((fm,Ns)=>{"use strict";var nc=Object.create,qn=Object.defineProperty,uc=Object.getOwnPropertyDescriptor,ac=Object.getOwnPropertyNames,oc=Object.getPrototypeOf,sc=Object.prototype.hasOwnProperty,Vi=(e,t)=>()=>(e&&(t=e(e=0)),t),oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ko=(e,t)=>{for(var r in t)qn(e,r,{get:t[r],enumerable:!0})},Po=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ac(t))!sc.call(e,n)&&n!==r&&qn(e,n,{get:()=>t[n],enumerable:!(a=uc(t,n))||a.enumerable});return e},ot=(e,t,r)=>(r=e!=null?nc(oc(e)):{},Po(t||!e||!e.__esModule?qn(r,"default",{value:e,enumerable:!0}):r,e)),lc=e=>Po(qn({},"__esModule",{value:!0}),e),cc=oe((e,t)=>{"use strict";var r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,u=(A,M)=>r(A,"name",{value:M,configurable:!0}),s=(A,M)=>{for(var X in M)r(A,X,{get:M[X],enumerable:!0})},c=(A,M,X,ce)=>{if(M&&typeof M=="object"||typeof M=="function")for(let de of n(M))!l.call(A,de)&&de!==X&&r(A,de,{get:()=>M[de],enumerable:!(ce=a(M,de))||ce.enumerable});return A},d=A=>c(r({},"__esModule",{value:!0}),A),m={};s(m,{Time:()=>P,arrayBufferToBase64:()=>ne,base64ToArrayBuffer:()=>ee,camelCase:()=>Y,camelize:()=>T,capitalize:()=>pe,clone:()=>f,contain:()=>v,deduplicate:()=>Z,deepEqual:()=>_,defineProperty:()=>$,difference:()=>j,filterKeys:()=>F,hyphenate:()=>L,intersection:()=>S,is:()=>E,isNullable:()=>g,isPlainObject:()=>y,makeArray:()=>K,mapValues:()=>D,noop:()=>h,omit:()=>w,paramCase:()=>se,pick:()=>b,remove:()=>q,sanitize:()=>C,snakeCase:()=>ue,trimSlash:()=>V,uncapitalize:()=>Q,union:()=>W,valueMap:()=>D}),t.exports=d(m);function h(){}u(h,"noop");function g(A){return A==null}u(g,"isNullable");function y(A){return A&&typeof A=="object"&&!Array.isArray(A)}u(y,"isPlainObject");function F(A,M){return Object.fromEntries(Object.entries(A).filter(([X,ce])=>M(X,ce)))}u(F,"filterKeys");function D(A,M){return Object.fromEntries(Object.entries(A).map(([X,ce])=>[X,M(ce,X)]))}u(D,"mapValues");function E(A,M){return arguments.length===1?X=>E(A,X):A in globalThis&&M instanceof globalThis[A]||Object.prototype.toString.call(M).slice(8,-1)===A}u(E,"is");function f(A){return!A||typeof A!="object"?A:Array.isArray(A)?A.map(f):E("Date",A)?new Date(A.valueOf()):E("RegExp",A)?new RegExp(A.source,A.flags):D(A,f)}u(f,"clone");function _(A,M,X){var ce,de,Fe;if(A===M||!X&&g(A)&&g(M))return!0;if(typeof A!=typeof M||typeof A!="object"||!A||!M)return!1;function Oe(k,U){return k(A)?k(M)?U(A,M):!1:k(M)?!1:void 0}return u(Oe,"check"),(Fe=(de=(ce=Oe(Array.isArray,(k,U)=>k.length===U.length&&k.every((re,me)=>_(re,U[me]))))!=null?ce:Oe(E("Date"),(k,U)=>k.valueOf()===U.valueOf()))!=null?de:Oe(E("RegExp"),(k,U)=>k.source===U.source&&k.flags===U.flags))!=null?Fe:Object.keys({...A,...M}).every(k=>_(A[k],M[k],X))}u(_,"deepEqual");function b(A,M,X){if(!M)return{...A};let ce={};for(let de of M)(X||A[de]!==void 0)&&(ce[de]=A[de]);return ce}u(b,"pick");function w(A,M){if(!M)return{...A};let X={...A};for(let ce of M)Reflect.deleteProperty(X,ce);return X}u(w,"omit");function $(A,M,X){return Object.defineProperty(A,M,{writable:!0,value:X,enumerable:!1})}u($,"defineProperty");function v(A,M){return M.every(X=>A.includes(X))}u(v,"contain");function S(A,M){return A.filter(X=>M.includes(X))}u(S,"intersection");function j(A,M){return A.filter(X=>!M.includes(X))}u(j,"difference");function W(A,M){return Array.from(new Set([...A,...M]))}u(W,"union");function Z(A){return[...new Set(A)]}u(Z,"deduplicate");function q(A,M){let X=A.indexOf(M);return X>=0?(A.splice(X,1),!0):!1}u(q,"remove");function K(A){return Array.isArray(A)?A:g(A)?[]:[A]}u(K,"makeArray");function ne(A){if(typeof Buffer<"u")return Buffer.from(A).toString("base64");let M="",X=new Uint8Array(A);for(let ce=0;ce<X.byteLength;ce++)M+=String.fromCharCode(X[ce]);return btoa(M)}u(ne,"arrayBufferToBase64");function ee(A){if(typeof Buffer<"u"){let ce=Buffer.from(A,"base64");return new Uint8Array(ce.buffer,ce.byteOffset,ce.length)}let M=atob(A.replace(/\s/g,"")),X=new Uint8Array(M.length);for(let ce=0;ce<M.length;ce++)X[ce]=M.charCodeAt(ce);return X}u(ee,"base64ToArrayBuffer");function pe(A){return A.charAt(0).toUpperCase()+A.slice(1)}u(pe,"capitalize");function Q(A){return A.charAt(0).toLowerCase()+A.slice(1)}u(Q,"uncapitalize");function Y(A){return A.replace(/[_-][a-z]/g,M=>M.slice(1).toUpperCase())}u(Y,"camelCase");function se(A){return Q(A).replace(/_/g,"-").replace(/.[A-Z]+/g,M=>M[0]+"-"+M.slice(1).toLowerCase())}u(se,"paramCase");function ue(A){return Q(A).replace(/-/g,"_").replace(/.[A-Z]+/g,M=>M[0]+"_"+M.slice(1).toLowerCase())}u(ue,"snakeCase");var T=Y,L=se;function V(A){return A.replace(/\/$/,"")}u(V,"trimSlash");function C(A){return A.startsWith("/")||(A="/"+A),V(A)}u(C,"sanitize");var P;(A=>{A.millisecond=1,A.second=1e3,A.minute=A.second*60,A.hour=A.minute*60,A.day=A.hour*24,A.week=A.day*7;let M=new Date().getTimezoneOffset();function X(ie){M=ie}A.setTimezoneOffset=X,u(X,"setTimezoneOffset");function ce(){return M}A.getTimezoneOffset=ce,u(ce,"getTimezoneOffset");function de(ie=new Date,ae){return typeof ie=="number"&&(ie=new Date(ie)),ae===void 0&&(ae=M),Math.floor((ie.valueOf()/A.minute-ae)/1440)}A.getDateNumber=de,u(de,"getDateNumber");function Fe(ie,ae){let le=new Date(ie*A.day);return ae===void 0&&(ae=M),new Date(+le+ae*A.minute)}A.fromDateNumber=Fe,u(Fe,"fromDateNumber");let Oe=/\d+(?:\.\d+)?/.source,k=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(ie=>`(${Oe}${ie})?`).join("")}$`);function U(ie){let ae=k.exec(ie);return ae?(parseFloat(ae[1])*A.week||0)+(parseFloat(ae[2])*A.day||0)+(parseFloat(ae[3])*A.hour||0)+(parseFloat(ae[4])*A.minute||0)+(parseFloat(ae[5])*A.second||0):0}A.parseTime=U,u(U,"parseTime");function re(ie){let ae=U(ie);return ae?ie=Date.now()+ae:/^\d{1,2}(:\d{1,2}){1,2}$/.test(ie)?ie=`${new Date().toLocaleDateString()}-${ie}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(ie)&&(ie=`${new Date().getFullYear()}-${ie}`),ie?new Date(ie):new Date}A.parseDate=re,u(re,"parseDate");function me(ie){let ae=Math.abs(ie);return ae>=A.day-A.hour/2?Math.round(ie/A.day)+"d":ae>=A.hour-A.minute/2?Math.round(ie/A.hour)+"h":ae>=A.minute-A.second/2?Math.round(ie/A.minute)+"m":ae>=A.second?Math.round(ie/A.second)+"s":ie+"ms"}A.format=me,u(me,"format");function N(ie,ae=2){return ie.toString().padStart(ae,"0")}A.toDigits=N,u(N,"toDigits");function H(ie,ae=new Date){return ie.replace("yyyy",ae.getFullYear().toString()).replace("yy",ae.getFullYear().toString().slice(2)).replace("MM",N(ae.getMonth()+1)).replace("dd",N(ae.getDate())).replace("hh",N(ae.getHours())).replace("mm",N(ae.getMinutes())).replace("ss",N(ae.getSeconds())).replace("SSS",N(ae.getMilliseconds(),3))}A.template=H,u(H,"template")})(P||(P={}))}),dc=oe((e,t)=>{"use strict";var{Duplex:r}=require("stream");function a(s){s.emit("close")}function n(){!this.destroyed&&this._writableState.finished&&this.destroy()}function l(s){this.removeListener("error",l),this.destroy(),this.listenerCount("error")===0&&this.emit("error",s)}function u(s,c){let d=!0,m=new r({...c,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return s.on("message",function(h,g){let y=!g&&m._readableState.objectMode?h.toString():h;m.push(y)||s.pause()}),s.once("error",function(h){m.destroyed||(d=!1,m.destroy(h))}),s.once("close",function(){m.destroyed||m.push(null)}),m._destroy=function(h,g){if(s.readyState===s.CLOSED){g(h),process.nextTick(a,m);return}let y=!1;s.once("error",function(F){y=!0,g(F)}),s.once("close",function(){y||g(h),process.nextTick(a,m)}),d&&s.terminate()},m._final=function(h){if(s.readyState===s.CONNECTING){s.once("open",function(){m._final(h)});return}s._socket!==null&&(s._socket._writableState.finished?(h(),m._readableState.endEmitted&&m.destroy()):(s._socket.once("finish",function(){h()}),s.close()))},m._read=function(){s.isPaused&&s.resume()},m._write=function(h,g,y){if(s.readyState===s.CONNECTING){s.once("open",function(){m._write(h,g,y)});return}s.send(h,y)},m.on("end",n),m.on("error",l),m}t.exports=u}),Vr=oe((e,t)=>{"use strict";t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}),Ln=oe((e,t)=>{"use strict";var{EMPTY_BUFFER:r}=Vr(),a=Buffer[Symbol.species];function n(d,m){if(d.length===0)return r;if(d.length===1)return d[0];let h=Buffer.allocUnsafe(m),g=0;for(let y=0;y<d.length;y++){let F=d[y];h.set(F,g),g+=F.length}return g<m?new a(h.buffer,h.byteOffset,g):h}function l(d,m,h,g,y){for(let F=0;F<y;F++)h[g+F]=d[F]^m[F&3]}function u(d,m){for(let h=0;h<d.length;h++)d[h]^=m[h&3]}function s(d){return d.length===d.buffer.byteLength?d.buffer:d.buffer.slice(d.byteOffset,d.byteOffset+d.length)}function c(d){if(c.readOnly=!0,Buffer.isBuffer(d))return d;let m;return d instanceof ArrayBuffer?m=new a(d):ArrayBuffer.isView(d)?m=new a(d.buffer,d.byteOffset,d.byteLength):(m=Buffer.from(d),c.readOnly=!1),m}if(t.exports={concat:n,mask:l,toArrayBuffer:s,toBuffer:c,unmask:u},!process.env.WS_NO_BUFFER_UTIL)try{let d=require("bufferutil");t.exports.mask=function(m,h,g,y,F){F<48?l(m,h,g,y,F):d.mask(m,h,g,y,F)},t.exports.unmask=function(m,h){m.length<32?u(m,h):d.unmask(m,h)}}catch{}}),pc=oe((e,t)=>{"use strict";var r=Symbol("kDone"),a=Symbol("kRun"),n=class{constructor(l){this[r]=()=>{this.pending--,this[a]()},this.concurrency=l||1/0,this.jobs=[],this.pending=0}add(l){this.jobs.push(l),this[a]()}[a](){if(this.pending!==this.concurrency&&this.jobs.length){let l=this.jobs.shift();this.pending++,l(this[r])}}};t.exports=n}),Mn=oe((e,t)=>{"use strict";var r=require("zlib"),a=Ln(),n=pc(),{kStatusCode:l}=Vr(),u=Buffer[Symbol.species],s=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),d=Symbol("total-length"),m=Symbol("callback"),h=Symbol("buffers"),g=Symbol("error"),y,F=class{constructor(_,b,w){if(this._maxPayload=w|0,this._options=_||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,!y){let $=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;y=new n($)}}static get extensionName(){return"permessage-deflate"}offer(){let _={};return this._options.serverNoContextTakeover&&(_.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(_.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(_.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?_.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(_.client_max_window_bits=!0),_}accept(_){return _=this.normalizeParams(_),this.params=this._isServer?this.acceptAsServer(_):this.acceptAsClient(_),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let _=this._deflate[m];this._deflate.close(),this._deflate=null,_&&_(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(_){let b=this._options,w=_.find($=>!(b.serverNoContextTakeover===!1&&$.server_no_context_takeover||$.server_max_window_bits&&(b.serverMaxWindowBits===!1||typeof b.serverMaxWindowBits=="number"&&b.serverMaxWindowBits>$.server_max_window_bits)||typeof b.clientMaxWindowBits=="number"&&!$.client_max_window_bits));if(!w)throw new Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(w.server_no_context_takeover=!0),b.clientNoContextTakeover&&(w.client_no_context_takeover=!0),typeof b.serverMaxWindowBits=="number"&&(w.server_max_window_bits=b.serverMaxWindowBits),typeof b.clientMaxWindowBits=="number"?w.client_max_window_bits=b.clientMaxWindowBits:(w.client_max_window_bits===!0||b.clientMaxWindowBits===!1)&&delete w.client_max_window_bits,w}acceptAsClient(_){let b=_[0];if(this._options.clientNoContextTakeover===!1&&b.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!b.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(b.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return b}normalizeParams(_){return _.forEach(b=>{Object.keys(b).forEach(w=>{let $=b[w];if($.length>1)throw new Error(`Parameter "${w}" must have only a single value`);if($=$[0],w==="client_max_window_bits"){if($!==!0){let v=+$;if(!Number.isInteger(v)||v<8||v>15)throw new TypeError(`Invalid value for parameter "${w}": ${$}`);$=v}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${w}": ${$}`)}else if(w==="server_max_window_bits"){let v=+$;if(!Number.isInteger(v)||v<8||v>15)throw new TypeError(`Invalid value for parameter "${w}": ${$}`);$=v}else if(w==="client_no_context_takeover"||w==="server_no_context_takeover"){if($!==!0)throw new TypeError(`Invalid value for parameter "${w}": ${$}`)}else throw new Error(`Unknown parameter "${w}"`);b[w]=$})}),_}decompress(_,b,w){y.add($=>{this._decompress(_,b,(v,S)=>{$(),w(v,S)})})}compress(_,b,w){y.add($=>{this._compress(_,b,(v,S)=>{$(),w(v,S)})})}_decompress(_,b,w){let $=this._isServer?"client":"server";if(!this._inflate){let v=`${$}_max_window_bits`,S=typeof this.params[v]!="number"?r.Z_DEFAULT_WINDOWBITS:this.params[v];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:S}),this._inflate[c]=this,this._inflate[d]=0,this._inflate[h]=[],this._inflate.on("error",f),this._inflate.on("data",E)}this._inflate[m]=w,this._inflate.write(_),b&&this._inflate.write(s),this._inflate.flush(()=>{let v=this._inflate[g];if(v){this._inflate.close(),this._inflate=null,w(v);return}let S=a.concat(this._inflate[h],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[h]=[],b&&this.params[`${$}_no_context_takeover`]&&this._inflate.reset()),w(null,S)})}_compress(_,b,w){let $=this._isServer?"server":"client";if(!this._deflate){let v=`${$}_max_window_bits`,S=typeof this.params[v]!="number"?r.Z_DEFAULT_WINDOWBITS:this.params[v];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:S}),this._deflate[d]=0,this._deflate[h]=[],this._deflate.on("data",D)}this._deflate[m]=w,this._deflate.write(_),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let v=a.concat(this._deflate[h],this._deflate[d]);b&&(v=new u(v.buffer,v.byteOffset,v.length-4)),this._deflate[m]=null,this._deflate[d]=0,this._deflate[h]=[],b&&this.params[`${$}_no_context_takeover`]&&this._deflate.reset(),w(null,v)})}};t.exports=F;function D(_){this[h].push(_),this[d]+=_.length}function E(_){if(this[d]+=_.length,this[c]._maxPayload<1||this[d]<=this[c]._maxPayload){this[h].push(_);return}this[g]=new RangeError("Max payload size exceeded"),this[g].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[g][l]=1009,this.removeListener("data",E),this.reset()}function f(_){this[c]._inflate=null,_[l]=1007,this[m](_)}}),Un=oe((e,t)=>{"use strict";var{isUtf8:r}=require("buffer"),a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function n(u){return u>=1e3&&u<=1014&&u!==1004&&u!==1005&&u!==1006||u>=3e3&&u<=4999}function l(u){let s=u.length,c=0;for(;c<s;)if(!(u[c]&128))c++;else if((u[c]&224)===192){if(c+1===s||(u[c+1]&192)!==128||(u[c]&254)===192)return!1;c+=2}else if((u[c]&240)===224){if(c+2>=s||(u[c+1]&192)!==128||(u[c+2]&192)!==128||u[c]===224&&(u[c+1]&224)===128||u[c]===237&&(u[c+1]&224)===160)return!1;c+=3}else if((u[c]&248)===240){if(c+3>=s||(u[c+1]&192)!==128||(u[c+2]&192)!==128||(u[c+3]&192)!==128||u[c]===240&&(u[c+1]&240)===128||u[c]===244&&u[c+1]>143||u[c]>244)return!1;c+=4}else return!1;return!0}if(t.exports={isValidStatusCode:n,isValidUTF8:l,tokenChars:a},r)t.exports.isValidUTF8=function(u){return u.length<24?l(u):r(u)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let u=require("utf-8-validate");t.exports.isValidUTF8=function(s){return s.length<32?l(s):u(s)}}catch{}}),To=oe((e,t)=>{"use strict";var{Writable:r}=require("stream"),a=Mn(),{BINARY_TYPES:n,EMPTY_BUFFER:l,kStatusCode:u,kWebSocket:s}=Vr(),{concat:c,toArrayBuffer:d,unmask:m}=Ln(),{isValidStatusCode:h,isValidUTF8:g}=Un(),y=Buffer[Symbol.species],F=Promise.resolve(),D=typeof queueMicrotask=="function"?queueMicrotask:j,E=0,f=1,_=2,b=3,w=4,$=5,v=6,S=class extends r{constructor(q={}){super(),this._allowSynchronousEvents=!!q.allowSynchronousEvents,this._binaryType=q.binaryType||n[0],this._extensions=q.extensions||{},this._isServer=!!q.isServer,this._maxPayload=q.maxPayload|0,this._skipUTF8Validation=!!q.skipUTF8Validation,this[s]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=E}_write(q,K,ne){if(this._opcode===8&&this._state==E)return ne();this._bufferedBytes+=q.length,this._buffers.push(q),this.startLoop(ne)}consume(q){if(this._bufferedBytes-=q,q===this._buffers[0].length)return this._buffers.shift();if(q<this._buffers[0].length){let ne=this._buffers[0];return this._buffers[0]=new y(ne.buffer,ne.byteOffset+q,ne.length-q),new y(ne.buffer,ne.byteOffset,q)}let K=Buffer.allocUnsafe(q);do{let ne=this._buffers[0],ee=K.length-q;q>=ne.length?K.set(this._buffers.shift(),ee):(K.set(new Uint8Array(ne.buffer,ne.byteOffset,q),ee),this._buffers[0]=new y(ne.buffer,ne.byteOffset+q,ne.length-q)),q-=ne.length}while(q>0);return K}startLoop(q){this._loop=!0;do switch(this._state){case E:this.getInfo(q);break;case f:this.getPayloadLength16(q);break;case _:this.getPayloadLength64(q);break;case b:this.getMask();break;case w:this.getData(q);break;case $:case v:this._loop=!1;return}while(this._loop);this._errored||q()}getInfo(q){if(this._bufferedBytes<2){this._loop=!1;return}let K=this.consume(2);if(K[0]&48){let ee=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");q(ee);return}let ne=(K[0]&64)===64;if(ne&&!this._extensions[a.extensionName]){let ee=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");q(ee);return}if(this._fin=(K[0]&128)===128,this._opcode=K[0]&15,this._payloadLength=K[1]&127,this._opcode===0){if(ne){let ee=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");q(ee);return}if(!this._fragmented){let ee=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");q(ee);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let ee=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");q(ee);return}this._compressed=ne}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let ee=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");q(ee);return}if(ne){let ee=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");q(ee);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let ee=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");q(ee);return}}else{let ee=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");q(ee);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(K[1]&128)===128,this._isServer){if(!this._masked){let ee=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");q(ee);return}}else if(this._masked){let ee=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");q(ee);return}this._payloadLength===126?this._state=f:this._payloadLength===127?this._state=_:this.haveLength(q)}getPayloadLength16(q){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(q)}getPayloadLength64(q){if(this._bufferedBytes<8){this._loop=!1;return}let K=this.consume(8),ne=K.readUInt32BE(0);if(ne>Math.pow(2,21)-1){let ee=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");q(ee);return}this._payloadLength=ne*Math.pow(2,32)+K.readUInt32BE(4),this.haveLength(q)}haveLength(q){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let K=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");q(K);return}this._masked?this._state=b:this._state=w}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=w}getData(q){let K=l;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}K=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&m(K,this._mask)}if(this._opcode>7){this.controlMessage(K,q);return}if(this._compressed){this._state=$,this.decompress(K,q);return}K.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(K)),this.dataMessage(q)}decompress(q,K){this._extensions[a.extensionName].decompress(q,this._fin,(ne,ee)=>{if(ne)return K(ne);if(ee.length){if(this._messageLength+=ee.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let pe=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");K(pe);return}this._fragments.push(ee)}this.dataMessage(K),this._state===E&&this.startLoop(K)})}dataMessage(q){if(!this._fin){this._state=E;return}let K=this._messageLength,ne=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let ee;this._binaryType==="nodebuffer"?ee=c(ne,K):this._binaryType==="arraybuffer"?ee=d(c(ne,K)):ee=ne,this._state===$||this._allowSynchronousEvents?(this.emit("message",ee,!0),this._state=E):(this._state=v,D(()=>{this.emit("message",ee,!0),this._state=E,this.startLoop(q)}))}else{let ee=c(ne,K);if(!this._skipUTF8Validation&&!g(ee)){let pe=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");q(pe);return}this._state===$||this._allowSynchronousEvents?(this.emit("message",ee,!1),this._state=E):(this._state=v,D(()=>{this.emit("message",ee,!1),this._state=E,this.startLoop(q)}))}}controlMessage(q,K){if(this._opcode===8){if(q.length===0)this._loop=!1,this.emit("conclude",1005,l),this.end();else{let ne=q.readUInt16BE(0);if(!h(ne)){let pe=this.createError(RangeError,`invalid status code ${ne}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");K(pe);return}let ee=new y(q.buffer,q.byteOffset+2,q.length-2);if(!this._skipUTF8Validation&&!g(ee)){let pe=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");K(pe);return}this._loop=!1,this.emit("conclude",ne,ee),this.end()}this._state=E;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",q),this._state=E):(this._state=v,D(()=>{this.emit(this._opcode===9?"ping":"pong",q),this._state=E,this.startLoop(K)}))}createError(q,K,ne,ee,pe){this._loop=!1,this._errored=!0;let Q=new q(ne?`Invalid WebSocket frame: ${K}`:K);return Error.captureStackTrace(Q,this.createError),Q.code=pe,Q[u]=ee,Q}};t.exports=S;function j(q){F.then(q).catch(Z)}function W(q){throw q}function Z(q){process.nextTick(W,q)}}),jo=oe((e,t)=>{"use strict";var{Duplex:r}=require("stream"),{randomFillSync:a}=require("crypto"),n=Mn(),{EMPTY_BUFFER:l}=Vr(),{isValidStatusCode:u}=Un(),{mask:s,toBuffer:c}=Ln(),d=Symbol("kByteLength"),m=Buffer.alloc(4),h=class Ur{constructor(y,F,D){this._extensions=F||{},D&&(this._generateMask=D,this._maskBuffer=Buffer.alloc(4)),this._socket=y,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(y,F){let D,E=!1,f=2,_=!1;F.mask&&(D=F.maskBuffer||m,F.generateMask?F.generateMask(D):a(D,0,4),_=(D[0]|D[1]|D[2]|D[3])===0,f=6);let b;typeof y=="string"?(!F.mask||_)&&F[d]!==void 0?b=F[d]:(y=Buffer.from(y),b=y.length):(b=y.length,E=F.mask&&F.readOnly&&!_);let w=b;b>=65536?(f+=8,w=127):b>125&&(f+=2,w=126);let $=Buffer.allocUnsafe(E?b+f:f);return $[0]=F.fin?F.opcode|128:F.opcode,F.rsv1&&($[0]|=64),$[1]=w,w===126?$.writeUInt16BE(b,2):w===127&&($[2]=$[3]=0,$.writeUIntBE(b,4,6)),F.mask?($[1]|=128,$[f-4]=D[0],$[f-3]=D[1],$[f-2]=D[2],$[f-1]=D[3],_?[$,y]:E?(s(y,D,$,f,b),[$]):(s(y,D,y,0,b),[$,y])):[$,y]}close(y,F,D,E){let f;if(y===void 0)f=l;else{if(typeof y!="number"||!u(y))throw new TypeError("First argument must be a valid error code number");if(F===void 0||!F.length)f=Buffer.allocUnsafe(2),f.writeUInt16BE(y,0);else{let b=Buffer.byteLength(F);if(b>123)throw new RangeError("The message must not be greater than 123 bytes");f=Buffer.allocUnsafe(2+b),f.writeUInt16BE(y,0),typeof F=="string"?f.write(F,2):f.set(F,2)}}let _={[d]:f.length,fin:!0,generateMask:this._generateMask,mask:D,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,f,!1,_,E]):this.sendFrame(Ur.frame(f,_),E)}ping(y,F,D){let E,f;if(typeof y=="string"?(E=Buffer.byteLength(y),f=!1):(y=c(y),E=y.length,f=c.readOnly),E>125)throw new RangeError("The data size must not be greater than 125 bytes");let _={[d]:E,fin:!0,generateMask:this._generateMask,mask:F,maskBuffer:this._maskBuffer,opcode:9,readOnly:f,rsv1:!1};this._deflating?this.enqueue([this.dispatch,y,!1,_,D]):this.sendFrame(Ur.frame(y,_),D)}pong(y,F,D){let E,f;if(typeof y=="string"?(E=Buffer.byteLength(y),f=!1):(y=c(y),E=y.length,f=c.readOnly),E>125)throw new RangeError("The data size must not be greater than 125 bytes");let _={[d]:E,fin:!0,generateMask:this._generateMask,mask:F,maskBuffer:this._maskBuffer,opcode:10,readOnly:f,rsv1:!1};this._deflating?this.enqueue([this.dispatch,y,!1,_,D]):this.sendFrame(Ur.frame(y,_),D)}send(y,F,D){let E=this._extensions[n.extensionName],f=F.binary?2:1,_=F.compress,b,w;if(typeof y=="string"?(b=Buffer.byteLength(y),w=!1):(y=c(y),b=y.length,w=c.readOnly),this._firstFragment?(this._firstFragment=!1,_&&E&&E.params[E._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(_=b>=E._threshold),this._compress=_):(_=!1,f=0),F.fin&&(this._firstFragment=!0),E){let $={[d]:b,fin:F.fin,generateMask:this._generateMask,mask:F.mask,maskBuffer:this._maskBuffer,opcode:f,readOnly:w,rsv1:_};this._deflating?this.enqueue([this.dispatch,y,this._compress,$,D]):this.dispatch(y,this._compress,$,D)}else this.sendFrame(Ur.frame(y,{[d]:b,fin:F.fin,generateMask:this._generateMask,mask:F.mask,maskBuffer:this._maskBuffer,opcode:f,readOnly:w,rsv1:!1}),D)}dispatch(y,F,D,E){if(!F){this.sendFrame(Ur.frame(y,D),E);return}let f=this._extensions[n.extensionName];this._bufferedBytes+=D[d],this._deflating=!0,f.compress(y,D.fin,(_,b)=>{if(this._socket.destroyed){let w=new Error("The socket was closed while data was being compressed");typeof E=="function"&&E(w);for(let $=0;$<this._queue.length;$++){let v=this._queue[$],S=v[v.length-1];typeof S=="function"&&S(w)}return}this._bufferedBytes-=D[d],this._deflating=!1,D.readOnly=!1,this.sendFrame(Ur.frame(b,D),E),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let y=this._queue.shift();this._bufferedBytes-=y[3][d],Reflect.apply(y[0],this,y.slice(1))}}enqueue(y){this._bufferedBytes+=y[3][d],this._queue.push(y)}sendFrame(y,F){y.length===2?(this._socket.cork(),this._socket.write(y[0]),this._socket.write(y[1],F),this._socket.uncork()):this._socket.write(y[0],F)}};t.exports=h}),fc=oe((e,t)=>{"use strict";var{kForOnEventAttribute:r,kListener:a}=Vr(),n=Symbol("kCode"),l=Symbol("kData"),u=Symbol("kError"),s=Symbol("kMessage"),c=Symbol("kReason"),d=Symbol("kTarget"),m=Symbol("kType"),h=Symbol("kWasClean"),g=class{constructor(_){this[d]=null,this[m]=_}get target(){return this[d]}get type(){return this[m]}};Object.defineProperty(g.prototype,"target",{enumerable:!0}),Object.defineProperty(g.prototype,"type",{enumerable:!0});var y=class extends g{constructor(_,b={}){super(_),this[n]=b.code===void 0?0:b.code,this[c]=b.reason===void 0?"":b.reason,this[h]=b.wasClean===void 0?!1:b.wasClean}get code(){return this[n]}get reason(){return this[c]}get wasClean(){return this[h]}};Object.defineProperty(y.prototype,"code",{enumerable:!0}),Object.defineProperty(y.prototype,"reason",{enumerable:!0}),Object.defineProperty(y.prototype,"wasClean",{enumerable:!0});var F=class extends g{constructor(_,b={}){super(_),this[u]=b.error===void 0?null:b.error,this[s]=b.message===void 0?"":b.message}get error(){return this[u]}get message(){return this[s]}};Object.defineProperty(F.prototype,"error",{enumerable:!0}),Object.defineProperty(F.prototype,"message",{enumerable:!0});var D=class extends g{constructor(_,b={}){super(_),this[l]=b.data===void 0?null:b.data}get data(){return this[l]}};Object.defineProperty(D.prototype,"data",{enumerable:!0});var E={addEventListener(_,b,w={}){for(let v of this.listeners(_))if(!w[r]&&v[a]===b&&!v[r])return;let $;if(_==="message")$=function(v,S){let j=new D("message",{data:S?v:v.toString()});j[d]=this,f(b,this,j)};else if(_==="close")$=function(v,S){let j=new y("close",{code:v,reason:S.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});j[d]=this,f(b,this,j)};else if(_==="error")$=function(v){let S=new F("error",{error:v,message:v.message});S[d]=this,f(b,this,S)};else if(_==="open")$=function(){let v=new g("open");v[d]=this,f(b,this,v)};else return;$[r]=!!w[r],$[a]=b,w.once?this.once(_,$):this.on(_,$)},removeEventListener(_,b){for(let w of this.listeners(_))if(w[a]===b&&!w[r]){this.removeListener(_,w);break}}};t.exports={CloseEvent:y,ErrorEvent:F,Event:g,EventTarget:E,MessageEvent:D};function f(_,b,w){typeof _=="object"&&_.handleEvent?_.handleEvent.call(_,w):_.call(b,w)}}),Ro=oe((e,t)=>{"use strict";var{tokenChars:r}=Un();function a(u,s,c){u[s]===void 0?u[s]=[c]:u[s].push(c)}function n(u){let s=Object.create(null),c=Object.create(null),d=!1,m=!1,h=!1,g,y,F=-1,D=-1,E=-1,f=0;for(;f<u.length;f++)if(D=u.charCodeAt(f),g===void 0)if(E===-1&&r[D]===1)F===-1&&(F=f);else if(f!==0&&(D===32||D===9))E===-1&&F!==-1&&(E=f);else if(D===59||D===44){if(F===-1)throw new SyntaxError(`Unexpected character at index ${f}`);E===-1&&(E=f);let b=u.slice(F,E);D===44?(a(s,b,c),c=Object.create(null)):g=b,F=E=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(y===void 0)if(E===-1&&r[D]===1)F===-1&&(F=f);else if(D===32||D===9)E===-1&&F!==-1&&(E=f);else if(D===59||D===44){if(F===-1)throw new SyntaxError(`Unexpected character at index ${f}`);E===-1&&(E=f),a(c,u.slice(F,E),!0),D===44&&(a(s,g,c),c=Object.create(null),g=void 0),F=E=-1}else if(D===61&&F!==-1&&E===-1)y=u.slice(F,f),F=E=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(m){if(r[D]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);F===-1?F=f:d||(d=!0),m=!1}else if(h)if(r[D]===1)F===-1&&(F=f);else if(D===34&&F!==-1)h=!1,E=f;else if(D===92)m=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(D===34&&u.charCodeAt(f-1)===61)h=!0;else if(E===-1&&r[D]===1)F===-1&&(F=f);else if(F!==-1&&(D===32||D===9))E===-1&&(E=f);else if(D===59||D===44){if(F===-1)throw new SyntaxError(`Unexpected character at index ${f}`);E===-1&&(E=f);let b=u.slice(F,E);d&&(b=b.replace(/\\/g,""),d=!1),a(c,y,b),D===44&&(a(s,g,c),c=Object.create(null),g=void 0),y=void 0,F=E=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(F===-1||h||D===32||D===9)throw new SyntaxError("Unexpected end of input");E===-1&&(E=f);let _=u.slice(F,E);return g===void 0?a(s,_,c):(y===void 0?a(c,_,!0):d?a(c,y,_.replace(/\\/g,"")):a(c,y,_),a(s,g,c)),s}function l(u){return Object.keys(u).map(s=>{let c=u[s];return Array.isArray(c)||(c=[c]),c.map(d=>[s].concat(Object.keys(d).map(m=>{let h=d[m];return Array.isArray(h)||(h=[h]),h.map(g=>g===!0?m:`${m}=${g}`).join("; ")})).join("; ")).join(", ")}).join(", ")}t.exports={format:l,parse:n}}),Oo=oe((e,t)=>{"use strict";var r=require("events"),a=require("https"),n=require("http"),l=require("net"),u=require("tls"),{randomBytes:s,createHash:c}=require("crypto"),{Duplex:d,Readable:m}=require("stream"),{URL:h}=require("url"),g=Mn(),y=To(),F=jo(),{BINARY_TYPES:D,EMPTY_BUFFER:E,GUID:f,kForOnEventAttribute:_,kListener:b,kStatusCode:w,kWebSocket:$,NOOP:v}=Vr(),{EventTarget:{addEventListener:S,removeEventListener:j}}=fc(),{format:W,parse:Z}=Ro(),{toBuffer:q}=Ln(),K=30*1e3,ne=Symbol("kAborted"),ee=[8,13],pe=["CONNECTING","OPEN","CLOSING","CLOSED"],Q=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Y=class Ye extends r{constructor(H,ie,ae){super(),this._binaryType=D[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=E,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=Ye.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,H!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,ie===void 0?ie=[]:Array.isArray(ie)||(typeof ie=="object"&&ie!==null?(ae=ie,ie=[]):ie=[ie]),se(this,H,ie,ae)):(this._autoPong=ae.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(H){D.includes(H)&&(this._binaryType=H,this._receiver&&(this._receiver._binaryType=H))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(H,ie,ae){let le=new y({allowSynchronousEvents:ae.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:ae.maxPayload,skipUTF8Validation:ae.skipUTF8Validation});this._sender=new F(H,this._extensions,ae.generateMask),this._receiver=le,this._socket=H,le[$]=this,H[$]=this,le.on("conclude",P),le.on("drain",A),le.on("error",M),le.on("message",ce),le.on("ping",de),le.on("pong",Fe),H.setTimeout&&H.setTimeout(0),H.setNoDelay&&H.setNoDelay(),ie.length>0&&H.unshift(ie),H.on("close",k),H.on("data",U),H.on("end",re),H.on("error",me),this._readyState=Ye.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=Ye.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[g.extensionName]&&this._extensions[g.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=Ye.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(H,ie){if(this.readyState!==Ye.CLOSED){if(this.readyState===Ye.CONNECTING){V(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===Ye.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=Ye.CLOSING,this._sender.close(H,ie,!this._isServer,ae=>{ae||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),K)}}pause(){this.readyState===Ye.CONNECTING||this.readyState===Ye.CLOSED||(this._paused=!0,this._socket.pause())}ping(H,ie,ae){if(this.readyState===Ye.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof H=="function"?(ae=H,H=ie=void 0):typeof ie=="function"&&(ae=ie,ie=void 0),typeof H=="number"&&(H=H.toString()),this.readyState!==Ye.OPEN){C(this,H,ae);return}ie===void 0&&(ie=!this._isServer),this._sender.ping(H||E,ie,ae)}pong(H,ie,ae){if(this.readyState===Ye.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof H=="function"?(ae=H,H=ie=void 0):typeof ie=="function"&&(ae=ie,ie=void 0),typeof H=="number"&&(H=H.toString()),this.readyState!==Ye.OPEN){C(this,H,ae);return}ie===void 0&&(ie=!this._isServer),this._sender.pong(H||E,ie,ae)}resume(){this.readyState===Ye.CONNECTING||this.readyState===Ye.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(H,ie,ae){if(this.readyState===Ye.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof ie=="function"&&(ae=ie,ie={}),typeof H=="number"&&(H=H.toString()),this.readyState!==Ye.OPEN){C(this,H,ae);return}let le={binary:typeof H!="string",mask:!this._isServer,compress:!0,fin:!0,...ie};this._extensions[g.extensionName]||(le.compress=!1),this._sender.send(H||E,le,ae)}terminate(){if(this.readyState!==Ye.CLOSED){if(this.readyState===Ye.CONNECTING){V(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=Ye.CLOSING,this._socket.destroy())}}};Object.defineProperty(Y,"CONNECTING",{enumerable:!0,value:pe.indexOf("CONNECTING")}),Object.defineProperty(Y.prototype,"CONNECTING",{enumerable:!0,value:pe.indexOf("CONNECTING")}),Object.defineProperty(Y,"OPEN",{enumerable:!0,value:pe.indexOf("OPEN")}),Object.defineProperty(Y.prototype,"OPEN",{enumerable:!0,value:pe.indexOf("OPEN")}),Object.defineProperty(Y,"CLOSING",{enumerable:!0,value:pe.indexOf("CLOSING")}),Object.defineProperty(Y.prototype,"CLOSING",{enumerable:!0,value:pe.indexOf("CLOSING")}),Object.defineProperty(Y,"CLOSED",{enumerable:!0,value:pe.indexOf("CLOSED")}),Object.defineProperty(Y.prototype,"CLOSED",{enumerable:!0,value:pe.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(N=>{Object.defineProperty(Y.prototype,N,{enumerable:!0})}),["open","error","close","message"].forEach(N=>{Object.defineProperty(Y.prototype,`on${N}`,{enumerable:!0,get(){for(let H of this.listeners(N))if(H[_])return H[b];return null},set(H){for(let ie of this.listeners(N))if(ie[_]){this.removeListener(N,ie);break}typeof H=="function"&&this.addEventListener(N,H,{[_]:!0})}})}),Y.prototype.addEventListener=S,Y.prototype.removeEventListener=j,t.exports=Y;function se(N,H,ie,ae){let le={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:ee[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...ae,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(N._autoPong=le.autoPong,!ee.includes(le.protocolVersion))throw new RangeError(`Unsupported protocol version: ${le.protocolVersion} (supported versions: ${ee.join(", ")})`);let _e;if(H instanceof h)_e=H;else try{_e=new h(H)}catch{throw new SyntaxError(`Invalid URL: ${H}`)}_e.protocol==="http:"?_e.protocol="ws:":_e.protocol==="https:"&&(_e.protocol="wss:"),N._url=_e.href;let we=_e.protocol==="wss:",ke=_e.protocol==="ws+unix:",Le;if(_e.protocol!=="ws:"&&!we&&!ke?Le=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:ke&&!_e.pathname?Le="The URL's pathname is empty":_e.hash&&(Le="The URL contains a fragment identifier"),Le){let De=new SyntaxError(Le);if(N._redirects===0)throw De;ue(N,De);return}let zt=we?443:80,wt=s(16).toString("base64"),Ct=we?a.request:n.request,St=new Set,Qe;if(le.createConnection=we?L:T,le.defaultPort=le.defaultPort||zt,le.port=_e.port||zt,le.host=_e.hostname.startsWith("[")?_e.hostname.slice(1,-1):_e.hostname,le.headers={...le.headers,"Sec-WebSocket-Version":le.protocolVersion,"Sec-WebSocket-Key":wt,Connection:"Upgrade",Upgrade:"websocket"},le.path=_e.pathname+_e.search,le.timeout=le.handshakeTimeout,le.perMessageDeflate&&(Qe=new g(le.perMessageDeflate!==!0?le.perMessageDeflate:{},!1,le.maxPayload),le.headers["Sec-WebSocket-Extensions"]=W({[g.extensionName]:Qe.offer()})),ie.length){for(let De of ie){if(typeof De!="string"||!Q.test(De)||St.has(De))throw new SyntaxError("An invalid or duplicated subprotocol was specified");St.add(De)}le.headers["Sec-WebSocket-Protocol"]=ie.join(",")}if(le.origin&&(le.protocolVersion<13?le.headers["Sec-WebSocket-Origin"]=le.origin:le.headers.Origin=le.origin),(_e.username||_e.password)&&(le.auth=`${_e.username}:${_e.password}`),ke){let De=le.path.split(":");le.socketPath=De[0],le.path=De[1]}let Ie;if(le.followRedirects){if(N._redirects===0){N._originalIpc=ke,N._originalSecure=we,N._originalHostOrSocketPath=ke?le.socketPath:_e.host;let De=ae&&ae.headers;if(ae={...ae,headers:{}},De)for(let[Je,dt]of Object.entries(De))ae.headers[Je.toLowerCase()]=dt}else if(N.listenerCount("redirect")===0){let De=ke?N._originalIpc?le.socketPath===N._originalHostOrSocketPath:!1:N._originalIpc?!1:_e.host===N._originalHostOrSocketPath;(!De||N._originalSecure&&!we)&&(delete le.headers.authorization,delete le.headers.cookie,De||delete le.headers.host,le.auth=void 0)}le.auth&&!ae.headers.authorization&&(ae.headers.authorization="Basic "+Buffer.from(le.auth).toString("base64")),Ie=N._req=Ct(le),N._redirects&&N.emit("redirect",N.url,Ie)}else Ie=N._req=Ct(le);le.timeout&&Ie.on("timeout",()=>{V(N,Ie,"Opening handshake has timed out")}),Ie.on("error",De=>{Ie===null||Ie[ne]||(Ie=N._req=null,ue(N,De))}),Ie.on("response",De=>{let Je=De.headers.location,dt=De.statusCode;if(Je&&le.followRedirects&&dt>=300&&dt<400){if(++N._redirects>le.maxRedirects){V(N,Ie,"Maximum redirects exceeded");return}Ie.abort();let Ht;try{Ht=new h(Je,H)}catch{let $t=new SyntaxError(`Invalid URL: ${Je}`);ue(N,$t);return}se(N,Ht,ie,ae)}else N.emit("unexpected-response",Ie,De)||V(N,Ie,`Unexpected server response: ${De.statusCode}`)}),Ie.on("upgrade",(De,Je,dt)=>{if(N.emit("upgrade",De),N.readyState!==Y.CONNECTING)return;if(Ie=N._req=null,De.headers.upgrade.toLowerCase()!=="websocket"){V(N,Je,"Invalid Upgrade header");return}let Ht=c("sha1").update(wt+f).digest("base64");if(De.headers["sec-websocket-accept"]!==Ht){V(N,Je,"Invalid Sec-WebSocket-Accept header");return}let $t=De.headers["sec-websocket-protocol"],Pt;if($t!==void 0?St.size?St.has($t)||(Pt="Server sent an invalid subprotocol"):Pt="Server sent a subprotocol but none was requested":St.size&&(Pt="Server sent no subprotocol"),Pt){V(N,Je,Pt);return}$t&&(N._protocol=$t);let ir=De.headers["sec-websocket-extensions"];if(ir!==void 0){if(!Qe){V(N,Je,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let Ze;try{Ze=Z(ir)}catch{V(N,Je,"Invalid Sec-WebSocket-Extensions header");return}let kr=Object.keys(Ze);if(kr.length!==1||kr[0]!==g.extensionName){V(N,Je,"Server indicated an extension that was not requested");return}try{Qe.accept(Ze[g.extensionName])}catch{V(N,Je,"Invalid Sec-WebSocket-Extensions header");return}N._extensions[g.extensionName]=Qe}N.setSocket(Je,dt,{allowSynchronousEvents:le.allowSynchronousEvents,generateMask:le.generateMask,maxPayload:le.maxPayload,skipUTF8Validation:le.skipUTF8Validation})}),le.finishRequest?le.finishRequest(Ie,N):Ie.end()}function ue(N,H){N._readyState=Y.CLOSING,N.emit("error",H),N.emitClose()}function T(N){return N.path=N.socketPath,l.connect(N)}function L(N){return N.path=void 0,!N.servername&&N.servername!==""&&(N.servername=l.isIP(N.host)?"":N.host),u.connect(N)}function V(N,H,ie){N._readyState=Y.CLOSING;let ae=new Error(ie);Error.captureStackTrace(ae,V),H.setHeader?(H[ne]=!0,H.abort(),H.socket&&!H.socket.destroyed&&H.socket.destroy(),process.nextTick(ue,N,ae)):(H.destroy(ae),H.once("error",N.emit.bind(N,"error")),H.once("close",N.emitClose.bind(N)))}function C(N,H,ie){if(H){let ae=q(H).length;N._socket?N._sender._bufferedBytes+=ae:N._bufferedAmount+=ae}if(ie){let ae=new Error(`WebSocket is not open: readyState ${N.readyState} (${pe[N.readyState]})`);process.nextTick(ie,ae)}}function P(N,H){let ie=this[$];ie._closeFrameReceived=!0,ie._closeMessage=H,ie._closeCode=N,ie._socket[$]!==void 0&&(ie._socket.removeListener("data",U),process.nextTick(Oe,ie._socket),N===1005?ie.close():ie.close(N,H))}function A(){let N=this[$];N.isPaused||N._socket.resume()}function M(N){let H=this[$];H._socket[$]!==void 0&&(H._socket.removeListener("data",U),process.nextTick(Oe,H._socket),H.close(N[w])),H.emit("error",N)}function X(){this[$].emitClose()}function ce(N,H){this[$].emit("message",N,H)}function de(N){let H=this[$];H._autoPong&&H.pong(N,!this._isServer,v),H.emit("ping",N)}function Fe(N){this[$].emit("pong",N)}function Oe(N){N.resume()}function k(){let N=this[$];this.removeListener("close",k),this.removeListener("data",U),this.removeListener("end",re),N._readyState=Y.CLOSING;let H;!this._readableState.endEmitted&&!N._closeFrameReceived&&!N._receiver._writableState.errorEmitted&&(H=N._socket.read())!==null&&N._receiver.write(H),N._receiver.end(),this[$]=void 0,clearTimeout(N._closeTimer),N._receiver._writableState.finished||N._receiver._writableState.errorEmitted?N.emitClose():(N._receiver.on("error",X),N._receiver.on("finish",X))}function U(N){this[$]._receiver.write(N)||this.pause()}function re(){let N=this[$];N._readyState=Y.CLOSING,N._receiver.end(),this.end()}function me(){let N=this[$];this.removeListener("error",me),this.on("error",v),N&&(N._readyState=Y.CLOSING,this.destroy())}}),hc=oe((e,t)=>{"use strict";var{tokenChars:r}=Un();function a(n){let l=new Set,u=-1,s=-1,c=0;for(c;c<n.length;c++){let m=n.charCodeAt(c);if(s===-1&&r[m]===1)u===-1&&(u=c);else if(c!==0&&(m===32||m===9))s===-1&&u!==-1&&(s=c);else if(m===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${c}`);s===-1&&(s=c);let h=n.slice(u,s);if(l.has(h))throw new SyntaxError(`The "${h}" subprotocol is duplicated`);l.add(h),u=s=-1}else throw new SyntaxError(`Unexpected character at index ${c}`)}if(u===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let d=n.slice(u,c);if(l.has(d))throw new SyntaxError(`The "${d}" subprotocol is duplicated`);return l.add(d),l}t.exports={parse:a}}),mc=oe((e,t)=>{"use strict";var r=require("events"),a=require("http"),{Duplex:n}=require("stream"),{createHash:l}=require("crypto"),u=Ro(),s=Mn(),c=hc(),d=Oo(),{GUID:m,kWebSocket:h}=Vr(),g=/^[+/0-9A-Za-z]{22}==$/,y=0,F=1,D=2,E=class extends r{constructor(v,S){if(super(),v={allowSynchronousEvents:!1,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:d,...v},v.port==null&&!v.server&&!v.noServer||v.port!=null&&(v.server||v.noServer)||v.server&&v.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(v.port!=null?(this._server=a.createServer((j,W)=>{let Z=a.STATUS_CODES[426];W.writeHead(426,{"Content-Length":Z.length,"Content-Type":"text/plain"}),W.end(Z)}),this._server.listen(v.port,v.host,v.backlog,S)):v.server&&(this._server=v.server),this._server){let j=this.emit.bind(this,"connection");this._removeListeners=f(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(W,Z,q)=>{this.handleUpgrade(W,Z,q,j)}})}v.perMessageDeflate===!0&&(v.perMessageDeflate={}),v.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=v,this._state=y}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(v){if(this._state===D){v&&this.once("close",()=>{v(new Error("The server is not running"))}),process.nextTick(_,this);return}if(v&&this.once("close",v),this._state!==F)if(this._state=F,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_,this):process.nextTick(_,this);else{let S=this._server;this._removeListeners(),this._removeListeners=this._server=null,S.close(()=>{_(this)})}}shouldHandle(v){if(this.options.path){let S=v.url.indexOf("?");if((S!==-1?v.url.slice(0,S):v.url)!==this.options.path)return!1}return!0}handleUpgrade(v,S,j,W){S.on("error",b);let Z=v.headers["sec-websocket-key"],q=+v.headers["sec-websocket-version"];if(v.method!=="GET"){$(this,v,S,405,"Invalid HTTP method");return}if(v.headers.upgrade.toLowerCase()!=="websocket"){$(this,v,S,400,"Invalid Upgrade header");return}if(!Z||!g.test(Z)){$(this,v,S,400,"Missing or invalid Sec-WebSocket-Key header");return}if(q!==8&&q!==13){$(this,v,S,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(v)){w(S,400);return}let K=v.headers["sec-websocket-protocol"],ne=new Set;if(K!==void 0)try{ne=c.parse(K)}catch{$(this,v,S,400,"Invalid Sec-WebSocket-Protocol header");return}let ee=v.headers["sec-websocket-extensions"],pe={};if(this.options.perMessageDeflate&&ee!==void 0){let Q=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let Y=u.parse(ee);Y[s.extensionName]&&(Q.accept(Y[s.extensionName]),pe[s.extensionName]=Q)}catch{$(this,v,S,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let Q={origin:v.headers[`${q===8?"sec-websocket-origin":"origin"}`],secure:!!(v.socket.authorized||v.socket.encrypted),req:v};if(this.options.verifyClient.length===2){this.options.verifyClient(Q,(Y,se,ue,T)=>{if(!Y)return w(S,se||401,ue,T);this.completeUpgrade(pe,Z,ne,v,S,j,W)});return}if(!this.options.verifyClient(Q))return w(S,401)}this.completeUpgrade(pe,Z,ne,v,S,j,W)}completeUpgrade(v,S,j,W,Z,q,K){if(!Z.readable||!Z.writable)return Z.destroy();if(Z[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>y)return w(Z,503);let ne=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${l("sha1").update(S+m).digest("base64")}`],ee=new this.options.WebSocket(null,void 0,this.options);if(j.size){let pe=this.options.handleProtocols?this.options.handleProtocols(j,W):j.values().next().value;pe&&(ne.push(`Sec-WebSocket-Protocol: ${pe}`),ee._protocol=pe)}if(v[s.extensionName]){let pe=v[s.extensionName].params,Q=u.format({[s.extensionName]:[pe]});ne.push(`Sec-WebSocket-Extensions: ${Q}`),ee._extensions=v}this.emit("headers",ne,W),Z.write(ne.concat(`\r
`).join(`\r
`)),Z.removeListener("error",b),ee.setSocket(Z,q,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(ee),ee.on("close",()=>{this.clients.delete(ee),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_,this)})),K(ee,W)}};t.exports=E;function f(v,S){for(let j of Object.keys(S))v.on(j,S[j]);return function(){for(let j of Object.keys(S))v.removeListener(j,S[j])}}function _(v){v._state=D,v.emit("close")}function b(){this.destroy()}function w(v,S,j,W){j=j||a.STATUS_CODES[S],W={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(j),...W},v.once("finish",v.destroy),v.end(`HTTP/1.1 ${S} ${a.STATUS_CODES[S]}\r
`+Object.keys(W).map(Z=>`${Z}: ${W[Z]}`).join(`\r
`)+`\r
\r
`+j)}function $(v,S,j,W,Z){if(v.listenerCount("wsClientError")){let q=new Error(Z);Error.captureStackTrace(q,$),v.emit("wsClientError",q,j,S)}else w(j,W,Z)}}),yc=oe((e,t)=>{"use strict";function r(){this._types=Object.create(null),this._extensions=Object.create(null);for(let a=0;a<arguments.length;a++)this.define(arguments[a]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}r.prototype.define=function(a,n){for(let l in a){let u=a[l].map(function(s){return s.toLowerCase()});l=l.toLowerCase();for(let s=0;s<u.length;s++){let c=u[s];if(c[0]!=="*"){if(!n&&c in this._types)throw new Error('Attempt to change mapping for "'+c+'" extension from "'+this._types[c]+'" to "'+l+'". Pass `force=true` to allow this, otherwise remove "'+c+'" from the list of extensions for "'+l+'".');this._types[c]=l}}if(n||!this._extensions[l]){let s=u[0];this._extensions[l]=s[0]!=="*"?s:s.substr(1)}}},r.prototype.getType=function(a){a=String(a);let n=a.replace(/^.*[/\\]/,"").toLowerCase(),l=n.replace(/^.*\./,"").toLowerCase(),u=n.length<a.length;return(l.length<n.length-1||!u)&&this._types[l]||null},r.prototype.getExtension=function(a){return a=/^\s*([^;\s]*)/.test(a)&&RegExp.$1,a&&this._extensions[a.toLowerCase()]||null},t.exports=r}),gc=oe((e,t)=>{"use strict";t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}),bc=oe((e,t)=>{"use strict";var r=yc();t.exports=new r(gc())}),Ec=oe((e,t)=>{"use strict";(function(r,a){typeof e=="object"&&typeof t<"u"?a(e):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.WebStreamsPolyfill={}))})(e,function(r){"use strict";function a(){}function n(i){return typeof i=="object"&&i!==null||typeof i=="function"}let l=a;function u(i,o){try{Object.defineProperty(i,"name",{value:o,configurable:!0})}catch{}}let s=Promise,c=Promise.prototype.then,d=Promise.reject.bind(s);function m(i){return new s(i)}function h(i){return m(o=>o(i))}function g(i){return d(i)}function y(i,o,p){return c.call(i,o,p)}function F(i,o,p){y(y(i,o,p),void 0,l)}function D(i,o){F(i,o)}function E(i,o){F(i,void 0,o)}function f(i,o,p){return y(i,o,p)}function _(i){y(i,void 0,l)}let b=i=>{if(typeof queueMicrotask=="function")b=queueMicrotask;else{let o=h(void 0);b=p=>y(o,p)}return b(i)};function w(i,o,p){if(typeof i!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(i,o,p)}function $(i,o,p){try{return h(w(i,o,p))}catch(x){return g(x)}}let v=16384;class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let p=this._back,x=p;p._elements.length===v-1&&(x={_elements:[],_next:void 0}),p._elements.push(o),x!==p&&(this._back=x,p._next=x),++this._size}shift(){let o=this._front,p=o,x=this._cursor,I=x+1,z=o._elements,te=z[x];return I===v&&(p=o._next,I=0),--this._size,this._cursor=I,o!==p&&(this._front=p),z[x]=void 0,te}forEach(o){let p=this._cursor,x=this._front,I=x._elements;for(;(p!==I.length||x._next!==void 0)&&!(p===I.length&&(x=x._next,I=x._elements,p=0,I.length===0));)o(I[p]),++p}peek(){let o=this._front,p=this._cursor;return o._elements[p]}}let j=Symbol("[[AbortSteps]]"),W=Symbol("[[ErrorSteps]]"),Z=Symbol("[[CancelSteps]]"),q=Symbol("[[PullSteps]]"),K=Symbol("[[ReleaseSteps]]");function ne(i,o){i._ownerReadableStream=o,o._reader=i,o._state==="readable"?Y(i):o._state==="closed"?ue(i):se(i,o._storedError)}function ee(i,o){let p=i._ownerReadableStream;return Nt(p,o)}function pe(i){let o=i._ownerReadableStream;o._state==="readable"?T(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):L(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),o._readableStreamController[K](),o._reader=void 0,i._ownerReadableStream=void 0}function Q(i){return new TypeError("Cannot "+i+" a stream using a released reader")}function Y(i){i._closedPromise=m((o,p)=>{i._closedPromise_resolve=o,i._closedPromise_reject=p})}function se(i,o){Y(i),T(i,o)}function ue(i){Y(i),V(i)}function T(i,o){i._closedPromise_reject!==void 0&&(_(i._closedPromise),i._closedPromise_reject(o),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}function L(i,o){se(i,o)}function V(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}let C=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},P=Math.trunc||function(i){return i<0?Math.ceil(i):Math.floor(i)};function A(i){return typeof i=="object"||typeof i=="function"}function M(i,o){if(i!==void 0&&!A(i))throw new TypeError(`${o} is not an object.`)}function X(i,o){if(typeof i!="function")throw new TypeError(`${o} is not a function.`)}function ce(i){return typeof i=="object"&&i!==null||typeof i=="function"}function de(i,o){if(!ce(i))throw new TypeError(`${o} is not an object.`)}function Fe(i,o,p){if(i===void 0)throw new TypeError(`Parameter ${o} is required in '${p}'.`)}function Oe(i,o,p){if(i===void 0)throw new TypeError(`${o} is required in '${p}'.`)}function k(i){return Number(i)}function U(i){return i===0?0:i}function re(i){return U(P(i))}function me(i,o){let p=Number.MAX_SAFE_INTEGER,x=Number(i);if(x=U(x),!C(x))throw new TypeError(`${o} is not a finite number`);if(x=re(x),x<0||x>p)throw new TypeError(`${o} is outside the accepted range of 0 to ${p}, inclusive`);return!C(x)||x===0?0:x}function N(i,o){if(!Er(i))throw new TypeError(`${o} is not a ReadableStream.`)}function H(i){return new we(i)}function ie(i,o){i._reader._readRequests.push(o)}function ae(i,o,p){let x=i._reader._readRequests.shift();p?x._closeSteps():x._chunkSteps(o)}function le(i){return i._reader._readRequests.length}function _e(i){let o=i._reader;return!(o===void 0||!ke(o))}class we{constructor(o){if(Fe(o,1,"ReadableStreamDefaultReader"),N(o,"First parameter"),vr(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ne(this,o),this._readRequests=new S}get closed(){return ke(this)?this._closedPromise:g(Ct("closed"))}cancel(o=void 0){return ke(this)?this._ownerReadableStream===void 0?g(Q("cancel")):ee(this,o):g(Ct("cancel"))}read(){if(!ke(this))return g(Ct("read"));if(this._ownerReadableStream===void 0)return g(Q("read from"));let o,p,x=m((I,z)=>{o=I,p=z});return Le(this,{_chunkSteps:I=>o({value:I,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:I=>p(I)}),x}releaseLock(){if(!ke(this))throw Ct("releaseLock");this._ownerReadableStream!==void 0&&zt(this)}}Object.defineProperties(we.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),u(we.prototype.cancel,"cancel"),u(we.prototype.read,"read"),u(we.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(we.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ke(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_readRequests")?!1:i instanceof we}function Le(i,o){let p=i._ownerReadableStream;p._disturbed=!0,p._state==="closed"?o._closeSteps():p._state==="errored"?o._errorSteps(p._storedError):p._readableStreamController[q](o)}function zt(i){pe(i);let o=new TypeError("Reader was released");wt(i,o)}function wt(i,o){let p=i._readRequests;i._readRequests=new S,p.forEach(x=>{x._errorSteps(o)})}function Ct(i){return new TypeError(`ReadableStreamDefaultReader.prototype.${i} can only be used on a ReadableStreamDefaultReader`)}let St=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Qe{constructor(o,p){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=p}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?f(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let p=()=>this._returnSteps(o);return this._ongoingPromise?f(this._ongoingPromise,p,p):p()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader,p,x,I=m((z,te)=>{p=z,x=te});return Le(o,{_chunkSteps:z=>{this._ongoingPromise=void 0,b(()=>p({value:z,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(o),p({value:void 0,done:!0})},_errorSteps:z=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(o),x(z)}}),I}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let p=this._reader;if(!this._preventCancel){let x=ee(p,o);return pe(p),f(x,()=>({value:o,done:!0}))}return pe(p),h({value:o,done:!0})}}let Ie={next(){return Je(this)?this._asyncIteratorImpl.next():g(dt("next"))},return(i){return Je(this)?this._asyncIteratorImpl.return(i):g(dt("return"))}};Object.setPrototypeOf(Ie,St);function De(i,o){let p=H(i),x=new Qe(p,o),I=Object.create(Ie);return I._asyncIteratorImpl=x,I}function Je(i){if(!n(i)||!Object.prototype.hasOwnProperty.call(i,"_asyncIteratorImpl"))return!1;try{return i._asyncIteratorImpl instanceof Qe}catch{return!1}}function dt(i){return new TypeError(`ReadableStreamAsyncIterator.${i} can only be used on a ReadableSteamAsyncIterator`)}let Ht=Number.isNaN||function(i){return i!==i};var $t,Pt,ir;function Ze(i){return i.slice()}function kr(i,o,p,x,I){new Uint8Array(i).set(new Uint8Array(p,x,I),o)}let Tt=i=>(typeof i.transfer=="function"?Tt=o=>o.transfer():typeof structuredClone=="function"?Tt=o=>structuredClone(o,{transfer:[o]}):Tt=o=>o,Tt(i)),Vt=i=>(typeof i.detached=="boolean"?Vt=o=>o.detached:Vt=o=>o.byteLength===0,Vt(i));function Ki(i,o,p){if(i.slice)return i.slice(o,p);let x=p-o,I=new ArrayBuffer(x);return kr(I,0,i,o,x),I}function Gr(i,o){let p=i[o];if(p!=null){if(typeof p!="function")throw new TypeError(`${String(o)} is not a function`);return p}}function Qn(i){let o={[Symbol.iterator]:()=>i.iterator},p=async function*(){return yield*o}(),x=p.next;return{iterator:p,nextMethod:x,done:!1}}let Gt=(ir=($t=Symbol.asyncIterator)!==null&&$t!==void 0?$t:(Pt=Symbol.for)===null||Pt===void 0?void 0:Pt.call(Symbol,"Symbol.asyncIterator"))!==null&&ir!==void 0?ir:"@@asyncIterator";function Yi(i,o="sync",p){if(p===void 0)if(o==="async"){if(p=Gr(i,Gt),p===void 0){let z=Gr(i,Symbol.iterator),te=Yi(i,"sync",z);return Qn(te)}}else p=Gr(i,Symbol.iterator);if(p===void 0)throw new TypeError("The object is not iterable");let x=w(p,i,[]);if(!n(x))throw new TypeError("The iterator method must return an object");let I=x.next;return{iterator:x,nextMethod:I,done:!1}}function Qi(i){let o=w(i.nextMethod,i.iterator,[]);if(!n(o))throw new TypeError("The iterator.next() method must return an object");return o}function Jn(i){return!!i.done}function vi(i){return i.value}function Ji(i){return!(typeof i!="number"||Ht(i)||i<0)}function Zi(i){let o=Ki(i.buffer,i.byteOffset,i.byteOffset+i.byteLength);return new Uint8Array(o)}function Kr(i){let o=i._queue.shift();return i._queueTotalSize-=o.size,i._queueTotalSize<0&&(i._queueTotalSize=0),o.value}function Fi(i,o,p){if(!Ji(p)||p===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");i._queue.push({value:o,size:p}),i._queueTotalSize+=p}function Xi(i){return i._queue.peek().value}function B(i){i._queue=new S,i._queueTotalSize=0}function R(i){return i===DataView}function O(i){return R(i.constructor)}function G(i){return R(i)?1:i.BYTES_PER_ELEMENT}class J{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Be(this))throw ar("view");return this._view}respond(o){if(!Be(this))throw ar("respond");if(Fe(o,1,"respond"),o=me(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Vt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Qr(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!Be(this))throw ar("respondWithNewView");if(Fe(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Vt(o.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Jr(this._associatedReadableByteStreamController,o)}}Object.defineProperties(J.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),u(J.prototype.respond,"respond"),u(J.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(J.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class fe{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ee(this))throw hr("byobRequest");return Qt(this)}get desiredSize(){if(!Ee(this))throw hr("desiredSize");return ur(this)}close(){if(!Ee(this))throw hr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);Dt(this)}enqueue(o){if(!Ee(this))throw hr("enqueue");if(Fe(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let p=this._controlledReadableByteStream._state;if(p!=="readable")throw new TypeError(`The stream (in ${p} state) is not in the readable state and cannot be enqueued to`);Rt(this,o)}error(o=void 0){if(!Ee(this))throw hr("error");tt(this,o)}[Z](o){qe(this),B(this);let p=this._cancelAlgorithm(o);return nr(this),p}[q](o){let p=this._controlledReadableByteStream;if(this._queueTotalSize>0){Yt(this,o);return}let x=this._autoAllocateChunkSize;if(x!==void 0){let I;try{I=new ArrayBuffer(x)}catch(te){o._errorSteps(te);return}let z={buffer:I,bufferByteLength:x,byteOffset:0,byteLength:x,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(z)}ie(p,o),Pe(this)}[K](){if(this._pendingPullIntos.length>0){let o=this._pendingPullIntos.peek();o.readerType="none",this._pendingPullIntos=new S,this._pendingPullIntos.push(o)}}}Object.defineProperties(fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),u(fe.prototype.close,"close"),u(fe.prototype.enqueue,"enqueue"),u(fe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ee(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableByteStream")?!1:i instanceof fe}function Be(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_associatedReadableByteStreamController")?!1:i instanceof J}function Pe(i){if(!Yr(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let o=i._pullAlgorithm();F(o,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Pe(i)),null),p=>(tt(i,p),null))}function qe(i){it(i),i._pendingPullIntos=new S}function $e(i,o){let p=!1;i._state==="closed"&&(p=!0);let x=He(o);o.readerType==="default"?ae(i,x,p):mr(i,x,p)}function He(i){let o=i.bytesFilled,p=i.elementSize;return new i.viewConstructor(i.buffer,i.byteOffset,o/p)}function Ve(i,o,p,x){i._queue.push({buffer:o,byteOffset:p,byteLength:x}),i._queueTotalSize+=x}function ze(i,o,p,x){let I;try{I=Ki(o,p,p+x)}catch(z){throw tt(i,z),z}Ve(i,I,0,x)}function Re(i,o){o.bytesFilled>0&&ze(i,o.buffer,o.byteOffset,o.bytesFilled),ut(i)}function Te(i,o){let p=Math.min(i._queueTotalSize,o.byteLength-o.bytesFilled),x=o.bytesFilled+p,I=p,z=!1,te=x%o.elementSize,he=x-te;he>=o.minimumFill&&(I=he-o.bytesFilled,z=!0);let ye=i._queue;for(;I>0;){let ve=ye.peek(),Ce=Math.min(I,ve.byteLength),Ae=o.byteOffset+o.bytesFilled;kr(o.buffer,Ae,ve.buffer,ve.byteOffset,Ce),ve.byteLength===Ce?ye.shift():(ve.byteOffset+=Ce,ve.byteLength-=Ce),i._queueTotalSize-=Ce,et(i,Ce,o),I-=Ce}return z}function et(i,o,p){p.bytesFilled+=o}function fr(i){i._queueTotalSize===0&&i._closeRequested?(nr(i),Di(i._controlledReadableByteStream)):Pe(i)}function it(i){i._byobRequest!==null&&(i._byobRequest._associatedReadableByteStreamController=void 0,i._byobRequest._view=null,i._byobRequest=null)}function pt(i){for(;i._pendingPullIntos.length>0;){if(i._queueTotalSize===0)return;let o=i._pendingPullIntos.peek();Te(i,o)&&(ut(i),$e(i._controlledReadableByteStream,o))}}function Ne(i){let o=i._controlledReadableByteStream._reader;for(;o._readRequests.length>0;){if(i._queueTotalSize===0)return;let p=o._readRequests.shift();Yt(i,p)}}function ft(i,o,p,x){let I=i._controlledReadableByteStream,z=o.constructor,te=G(z),{byteOffset:he,byteLength:ye}=o,ve=p*te,Ce;try{Ce=Tt(o.buffer)}catch(Me){x._errorSteps(Me);return}let Ae={buffer:Ce,bufferByteLength:Ce.byteLength,byteOffset:he,byteLength:ye,bytesFilled:0,minimumFill:ve,elementSize:te,viewConstructor:z,readerType:"byob"};if(i._pendingPullIntos.length>0){i._pendingPullIntos.push(Ae),Bt(I,x);return}if(I._state==="closed"){let Me=new z(Ae.buffer,Ae.byteOffset,0);x._closeSteps(Me);return}if(i._queueTotalSize>0){if(Te(i,Ae)){let Me=He(Ae);fr(i),x._chunkSteps(Me);return}if(i._closeRequested){let Me=new TypeError("Insufficient bytes to fill elements in the given buffer");tt(i,Me),x._errorSteps(Me);return}}i._pendingPullIntos.push(Ae),Bt(I,x),Pe(i)}function gt(i,o){o.readerType==="none"&&ut(i);let p=i._controlledReadableByteStream;if(yr(p))for(;Zr(p)>0;){let x=ut(i);$e(p,x)}}function jt(i,o,p){if(et(i,o,p),p.readerType==="none"){Re(i,p),pt(i);return}if(p.bytesFilled<p.minimumFill)return;ut(i);let x=p.bytesFilled%p.elementSize;if(x>0){let I=p.byteOffset+p.bytesFilled;ze(i,p.buffer,I-x,x)}p.bytesFilled-=x,$e(i._controlledReadableByteStream,p),pt(i)}function Kt(i,o){let p=i._pendingPullIntos.peek();it(i),i._controlledReadableByteStream._state==="closed"?gt(i,p):jt(i,o,p),Pe(i)}function ut(i){return i._pendingPullIntos.shift()}function Yr(i){let o=i._controlledReadableByteStream;return o._state!=="readable"||i._closeRequested||!i._started?!1:!!(_e(o)&&le(o)>0||yr(o)&&Zr(o)>0||ur(i)>0)}function nr(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0}function Dt(i){let o=i._controlledReadableByteStream;if(!(i._closeRequested||o._state!=="readable")){if(i._queueTotalSize>0){i._closeRequested=!0;return}if(i._pendingPullIntos.length>0){let p=i._pendingPullIntos.peek();if(p.bytesFilled%p.elementSize!==0){let x=new TypeError("Insufficient bytes to fill elements in the given buffer");throw tt(i,x),x}}nr(i),Di(o)}}function Rt(i,o){let p=i._controlledReadableByteStream;if(i._closeRequested||p._state!=="readable")return;let{buffer:x,byteOffset:I,byteLength:z}=o;if(Vt(x))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let te=Tt(x);if(i._pendingPullIntos.length>0){let he=i._pendingPullIntos.peek();if(Vt(he.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");it(i),he.buffer=Tt(he.buffer),he.readerType==="none"&&Re(i,he)}if(_e(p))if(Ne(i),le(p)===0)Ve(i,te,I,z);else{i._pendingPullIntos.length>0&&ut(i);let he=new Uint8Array(te,I,z);ae(p,he,!1)}else yr(p)?(Ve(i,te,I,z),pt(i)):Ve(i,te,I,z);Pe(i)}function tt(i,o){let p=i._controlledReadableByteStream;p._state==="readable"&&(qe(i),B(i),nr(i),$a(p,o))}function Yt(i,o){let p=i._queue.shift();i._queueTotalSize-=p.byteLength,fr(i);let x=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);o._chunkSteps(x)}function Qt(i){if(i._byobRequest===null&&i._pendingPullIntos.length>0){let o=i._pendingPullIntos.peek(),p=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),x=Object.create(J.prototype);Pr(x,i,p),i._byobRequest=x}return i._byobRequest}function ur(i){let o=i._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:i._strategyHWM-i._queueTotalSize}function Qr(i,o){let p=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(p.bytesFilled+o>p.byteLength)throw new RangeError("bytesWritten out of range")}p.buffer=Tt(p.buffer),Kt(i,o)}function Jr(i,o){let p=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(p.byteOffset+p.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(p.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(p.bytesFilled+o.byteLength>p.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let x=o.byteLength;p.buffer=Tt(o.buffer),Kt(i,x)}function en(i,o,p,x,I,z,te){o._controlledReadableByteStream=i,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,B(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=z,o._pullAlgorithm=x,o._cancelAlgorithm=I,o._autoAllocateChunkSize=te,o._pendingPullIntos=new S,i._readableStreamController=o;let he=p();F(h(he),()=>(o._started=!0,Pe(o),null),ye=>(tt(o,ye),null))}function tn(i,o,p){let x=Object.create(fe.prototype),I,z,te;o.start!==void 0?I=()=>o.start(x):I=()=>{},o.pull!==void 0?z=()=>o.pull(x):z=()=>h(void 0),o.cancel!==void 0?te=ye=>o.cancel(ye):te=()=>h(void 0);let he=o.autoAllocateChunkSize;if(he===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");en(i,x,I,z,te,p,he)}function Pr(i,o,p){i._associatedReadableByteStreamController=o,i._view=p}function ar(i){return new TypeError(`ReadableStreamBYOBRequest.prototype.${i} can only be used on a ReadableStreamBYOBRequest`)}function hr(i){return new TypeError(`ReadableByteStreamController.prototype.${i} can only be used on a ReadableByteStreamController`)}function Tr(i,o){M(i,o);let p=i?.mode;return{mode:p===void 0?void 0:Zn(p,`${o} has member 'mode' that`)}}function Zn(i,o){if(i=`${i}`,i!=="byob")throw new TypeError(`${o} '${i}' is not a valid enumeration value for ReadableStreamReaderMode`);return i}function rn(i,o){var p;M(i,o);let x=(p=i?.min)!==null&&p!==void 0?p:1;return{min:me(x,`${o} has member 'min' that`)}}function nn(i){return new ht(i)}function Bt(i,o){i._reader._readIntoRequests.push(o)}function mr(i,o,p){let x=i._reader._readIntoRequests.shift();p?x._closeSteps(o):x._chunkSteps(o)}function Zr(i){return i._reader._readIntoRequests.length}function yr(i){let o=i._reader;return!(o===void 0||!gr(o))}class ht{constructor(o){if(Fe(o,1,"ReadableStreamBYOBReader"),N(o,"First parameter"),vr(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ee(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ne(this,o),this._readIntoRequests=new S}get closed(){return gr(this)?this._closedPromise:g(Xr("closed"))}cancel(o=void 0){return gr(this)?this._ownerReadableStream===void 0?g(Q("cancel")):ee(this,o):g(Xr("cancel"))}read(o,p={}){if(!gr(this))return g(Xr("read"));if(!ArrayBuffer.isView(o))return g(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Vt(o.buffer))return g(new TypeError("view's buffer has been detached"));let x;try{x=rn(p,"options")}catch(ye){return g(ye)}let I=x.min;if(I===0)return g(new TypeError("options.min must be greater than 0"));if(O(o)){if(I>o.byteLength)return g(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(I>o.length)return g(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return g(Q("read from"));let z,te,he=m((ye,ve)=>{z=ye,te=ve});return or(this,o,I,{_chunkSteps:ye=>z({value:ye,done:!1}),_closeSteps:ye=>z({value:ye,done:!0}),_errorSteps:ye=>te(ye)}),he}releaseLock(){if(!gr(this))throw Xr("releaseLock");this._ownerReadableStream!==void 0&&jr(this)}}Object.defineProperties(ht.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),u(ht.prototype.cancel,"cancel"),u(ht.prototype.read,"read"),u(ht.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ht.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function gr(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_readIntoRequests")?!1:i instanceof ht}function or(i,o,p,x){let I=i._ownerReadableStream;I._disturbed=!0,I._state==="errored"?x._errorSteps(I._storedError):ft(I._readableStreamController,o,p,x)}function jr(i){pe(i);let o=new TypeError("Reader was released");_i(i,o)}function _i(i,o){let p=i._readIntoRequests;i._readIntoRequests=new S,p.forEach(x=>{x._errorSteps(o)})}function Xr(i){return new TypeError(`ReadableStreamBYOBReader.prototype.${i} can only be used on a ReadableStreamBYOBReader`)}function Rr(i,o){let{highWaterMark:p}=i;if(p===void 0)return o;if(Ht(p)||p<0)throw new RangeError("Invalid highWaterMark");return p}function ei(i){let{size:o}=i;return o||(()=>1)}function wi(i,o){M(i,o);let p=i?.highWaterMark,x=i?.size;return{highWaterMark:p===void 0?void 0:k(p),size:x===void 0?void 0:ea(x,`${o} has member 'size' that`)}}function ea(i,o){return X(i,o),p=>k(i(p))}function ta(i,o){M(i,o);let p=i?.abort,x=i?.close,I=i?.start,z=i?.type,te=i?.write;return{abort:p===void 0?void 0:ra(p,i,`${o} has member 'abort' that`),close:x===void 0?void 0:ia(x,i,`${o} has member 'close' that`),start:I===void 0?void 0:na(I,i,`${o} has member 'start' that`),write:te===void 0?void 0:ua(te,i,`${o} has member 'write' that`),type:z}}function ra(i,o,p){return X(i,p),x=>$(i,o,[x])}function ia(i,o,p){return X(i,p),()=>$(i,o,[])}function na(i,o,p){return X(i,p),x=>w(i,o,[x])}function ua(i,o,p){return X(i,p),(x,I)=>$(i,o,[x,I])}function aa(i,o){if(!ti(i))throw new TypeError(`${o} is not a WritableStream.`)}function Ls(i){if(typeof i!="object"||i===null)return!1;try{return typeof i.aborted=="boolean"}catch{return!1}}let Ms=typeof AbortController=="function";function Us(){if(Ms)return new AbortController}class br{constructor(o={},p={}){o===void 0?o=null:de(o,"First parameter");let x=wi(p,"Second parameter"),I=ta(o,"First parameter");if(sa(this),I.type!==void 0)throw new RangeError("Invalid type is specified");let z=ei(x),te=Rr(x,1);rl(this,I,te,z)}get locked(){if(!ti(this))throw ln("locked");return ri(this)}abort(o=void 0){return ti(this)?ri(this)?g(new TypeError("Cannot abort a stream that already has a writer")):un(this,o):g(ln("abort"))}close(){return ti(this)?ri(this)?g(new TypeError("Cannot close a stream that already has a writer")):Jt(this)?g(new TypeError("Cannot close an already-closing stream")):la(this):g(ln("close"))}getWriter(){if(!ti(this))throw ln("getWriter");return oa(this)}}Object.defineProperties(br.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),u(br.prototype.abort,"abort"),u(br.prototype.close,"close"),u(br.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(br.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function oa(i){return new sr(i)}function Ws(i,o,p,x,I=1,z=()=>1){let te=Object.create(br.prototype);sa(te);let he=Object.create(ii.prototype);return ma(te,he,i,o,p,x,I,z),te}function sa(i){i._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new S,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1}function ti(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_writableStreamController")?!1:i instanceof br}function ri(i){return i._writer!==void 0}function un(i,o){var p;if(i._state==="closed"||i._state==="errored")return h(void 0);i._writableStreamController._abortReason=o,(p=i._writableStreamController._abortController)===null||p===void 0||p.abort(o);let x=i._state;if(x==="closed"||x==="errored")return h(void 0);if(i._pendingAbortRequest!==void 0)return i._pendingAbortRequest._promise;let I=!1;x==="erroring"&&(I=!0,o=void 0);let z=m((te,he)=>{i._pendingAbortRequest={_promise:void 0,_resolve:te,_reject:he,_reason:o,_wasAlreadyErroring:I}});return i._pendingAbortRequest._promise=z,I||eu(i,o),z}function la(i){let o=i._state;if(o==="closed"||o==="errored")return g(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let p=m((I,z)=>{let te={_resolve:I,_reject:z};i._closeRequest=te}),x=i._writer;return x!==void 0&&i._backpressure&&o==="writable"&&su(x),il(i._writableStreamController),p}function zs(i){return m((o,p)=>{let x={_resolve:o,_reject:p};i._writeRequests.push(x)})}function Xn(i,o){if(i._state==="writable"){eu(i,o);return}tu(i)}function eu(i,o){let p=i._writableStreamController;i._state="erroring",i._storedError=o;let x=i._writer;x!==void 0&&da(x,o),!Ys(i)&&p._started&&tu(i)}function tu(i){i._state="errored",i._writableStreamController[W]();let o=i._storedError;if(i._writeRequests.forEach(I=>{I._reject(o)}),i._writeRequests=new S,i._pendingAbortRequest===void 0){an(i);return}let p=i._pendingAbortRequest;if(i._pendingAbortRequest=void 0,p._wasAlreadyErroring){p._reject(o),an(i);return}let x=i._writableStreamController[j](p._reason);F(x,()=>(p._resolve(),an(i),null),I=>(p._reject(I),an(i),null))}function Hs(i){i._inFlightWriteRequest._resolve(void 0),i._inFlightWriteRequest=void 0}function Vs(i,o){i._inFlightWriteRequest._reject(o),i._inFlightWriteRequest=void 0,Xn(i,o)}function Gs(i){i._inFlightCloseRequest._resolve(void 0),i._inFlightCloseRequest=void 0,i._state==="erroring"&&(i._storedError=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._resolve(),i._pendingAbortRequest=void 0)),i._state="closed";let o=i._writer;o!==void 0&&Ea(o)}function Ks(i,o){i._inFlightCloseRequest._reject(o),i._inFlightCloseRequest=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._reject(o),i._pendingAbortRequest=void 0),Xn(i,o)}function Jt(i){return!(i._closeRequest===void 0&&i._inFlightCloseRequest===void 0)}function Ys(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}function Qs(i){i._inFlightCloseRequest=i._closeRequest,i._closeRequest=void 0}function Js(i){i._inFlightWriteRequest=i._writeRequests.shift()}function an(i){i._closeRequest!==void 0&&(i._closeRequest._reject(i._storedError),i._closeRequest=void 0);let o=i._writer;o!==void 0&&au(o,i._storedError)}function ru(i,o){let p=i._writer;p!==void 0&&o!==i._backpressure&&(o?cl(p):su(p)),i._backpressure=o}class sr{constructor(o){if(Fe(o,1,"WritableStreamDefaultWriter"),aa(o,"First parameter"),ri(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let p=o._state;if(p==="writable")!Jt(o)&&o._backpressure?dn(this):va(this),cn(this);else if(p==="erroring")ou(this,o._storedError),cn(this);else if(p==="closed")va(this),sl(this);else{let x=o._storedError;ou(this,x),ba(this,x)}}get closed(){return Or(this)?this._closedPromise:g(Nr("closed"))}get desiredSize(){if(!Or(this))throw Nr("desiredSize");if(this._ownerWritableStream===void 0)throw Ai("desiredSize");return tl(this)}get ready(){return Or(this)?this._readyPromise:g(Nr("ready"))}abort(o=void 0){return Or(this)?this._ownerWritableStream===void 0?g(Ai("abort")):Zs(this,o):g(Nr("abort"))}close(){if(!Or(this))return g(Nr("close"));let o=this._ownerWritableStream;return o===void 0?g(Ai("close")):Jt(o)?g(new TypeError("Cannot close an already-closing stream")):ca(this)}releaseLock(){if(!Or(this))throw Nr("releaseLock");this._ownerWritableStream!==void 0&&pa(this)}write(o=void 0){return Or(this)?this._ownerWritableStream===void 0?g(Ai("write to")):fa(this,o):g(Nr("write"))}}Object.defineProperties(sr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),u(sr.prototype.abort,"abort"),u(sr.prototype.close,"close"),u(sr.prototype.releaseLock,"releaseLock"),u(sr.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Or(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_ownerWritableStream")?!1:i instanceof sr}function Zs(i,o){let p=i._ownerWritableStream;return un(p,o)}function ca(i){let o=i._ownerWritableStream;return la(o)}function Xs(i){let o=i._ownerWritableStream,p=o._state;return Jt(o)||p==="closed"?h(void 0):p==="errored"?g(o._storedError):ca(i)}function el(i,o){i._closedPromiseState==="pending"?au(i,o):ll(i,o)}function da(i,o){i._readyPromiseState==="pending"?Fa(i,o):dl(i,o)}function tl(i){let o=i._ownerWritableStream,p=o._state;return p==="errored"||p==="erroring"?null:p==="closed"?0:ya(o._writableStreamController)}function pa(i){let o=i._ownerWritableStream,p=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");da(i,p),el(i,p),o._writer=void 0,i._ownerWritableStream=void 0}function fa(i,o){let p=i._ownerWritableStream,x=p._writableStreamController,I=nl(x,o);if(p!==i._ownerWritableStream)return g(Ai("write to"));let z=p._state;if(z==="errored")return g(p._storedError);if(Jt(p)||z==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(z==="erroring")return g(p._storedError);let te=zs(p);return ul(x,o,I),te}let ha={};class ii{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!iu(this))throw uu("abortReason");return this._abortReason}get signal(){if(!iu(this))throw uu("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!iu(this))throw uu("error");this._controlledWritableStream._state==="writable"&&ga(this,o)}[j](o){let p=this._abortAlgorithm(o);return on(this),p}[W](){B(this)}}Object.defineProperties(ii.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ii.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function iu(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledWritableStream")?!1:i instanceof ii}function ma(i,o,p,x,I,z,te,he){o._controlledWritableStream=i,i._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,B(o),o._abortReason=void 0,o._abortController=Us(),o._started=!1,o._strategySizeAlgorithm=he,o._strategyHWM=te,o._writeAlgorithm=x,o._closeAlgorithm=I,o._abortAlgorithm=z;let ye=nu(o);ru(i,ye);let ve=p(),Ce=h(ve);F(Ce,()=>(o._started=!0,sn(o),null),Ae=>(o._started=!0,Xn(i,Ae),null))}function rl(i,o,p,x){let I=Object.create(ii.prototype),z,te,he,ye;o.start!==void 0?z=()=>o.start(I):z=()=>{},o.write!==void 0?te=ve=>o.write(ve,I):te=()=>h(void 0),o.close!==void 0?he=()=>o.close():he=()=>h(void 0),o.abort!==void 0?ye=ve=>o.abort(ve):ye=()=>h(void 0),ma(i,I,z,te,he,ye,p,x)}function on(i){i._writeAlgorithm=void 0,i._closeAlgorithm=void 0,i._abortAlgorithm=void 0,i._strategySizeAlgorithm=void 0}function il(i){Fi(i,ha,0),sn(i)}function nl(i,o){try{return i._strategySizeAlgorithm(o)}catch(p){return Ci(i,p),1}}function ya(i){return i._strategyHWM-i._queueTotalSize}function ul(i,o,p){try{Fi(i,o,p)}catch(I){Ci(i,I);return}let x=i._controlledWritableStream;if(!Jt(x)&&x._state==="writable"){let I=nu(i);ru(x,I)}sn(i)}function sn(i){let o=i._controlledWritableStream;if(!i._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){tu(o);return}if(i._queue.length===0)return;let p=Xi(i);p===ha?al(i):ol(i,p)}function Ci(i,o){i._controlledWritableStream._state==="writable"&&ga(i,o)}function al(i){let o=i._controlledWritableStream;Qs(o),Kr(i);let p=i._closeAlgorithm();on(i),F(p,()=>(Gs(o),null),x=>(Ks(o,x),null))}function ol(i,o){let p=i._controlledWritableStream;Js(p);let x=i._writeAlgorithm(o);F(x,()=>{Hs(p);let I=p._state;if(Kr(i),!Jt(p)&&I==="writable"){let z=nu(i);ru(p,z)}return sn(i),null},I=>(p._state==="writable"&&on(i),Vs(p,I),null))}function nu(i){return ya(i)<=0}function ga(i,o){let p=i._controlledWritableStream;on(i),eu(p,o)}function ln(i){return new TypeError(`WritableStream.prototype.${i} can only be used on a WritableStream`)}function uu(i){return new TypeError(`WritableStreamDefaultController.prototype.${i} can only be used on a WritableStreamDefaultController`)}function Nr(i){return new TypeError(`WritableStreamDefaultWriter.prototype.${i} can only be used on a WritableStreamDefaultWriter`)}function Ai(i){return new TypeError("Cannot "+i+" a stream using a released writer")}function cn(i){i._closedPromise=m((o,p)=>{i._closedPromise_resolve=o,i._closedPromise_reject=p,i._closedPromiseState="pending"})}function ba(i,o){cn(i),au(i,o)}function sl(i){cn(i),Ea(i)}function au(i,o){i._closedPromise_reject!==void 0&&(_(i._closedPromise),i._closedPromise_reject(o),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected")}function ll(i,o){ba(i,o)}function Ea(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="resolved")}function dn(i){i._readyPromise=m((o,p)=>{i._readyPromise_resolve=o,i._readyPromise_reject=p}),i._readyPromiseState="pending"}function ou(i,o){dn(i),Fa(i,o)}function va(i){dn(i),su(i)}function Fa(i,o){i._readyPromise_reject!==void 0&&(_(i._readyPromise),i._readyPromise_reject(o),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected")}function cl(i){dn(i)}function dl(i,o){ou(i,o)}function su(i){i._readyPromise_resolve!==void 0&&(i._readyPromise_resolve(void 0),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="fulfilled")}function pl(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}let fl=pl();function hl(i){if(!(typeof i=="function"||typeof i=="object")||i.name!=="DOMException")return!1;try{return new i,!0}catch{return!1}}function ml(){let i=fl?.DOMException;return hl(i)?i:void 0}function yl(){let i=function(o,p){this.message=o||"",this.name=p||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return u(i,"DOMException"),i.prototype=Object.create(Error.prototype),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0}),i}let gl=ml()||yl();function _a(i,o,p,x,I,z){let te=H(i),he=oa(o);i._disturbed=!0;let ye=!1,ve=h(void 0);return m((Ce,Ae)=>{let Me;if(z!==void 0){if(Me=()=>{let be=z.reason!==void 0?z.reason:new gl("Aborted","AbortError"),xe=[];x||xe.push(()=>o._state==="writable"?un(o,be):h(void 0)),I||xe.push(()=>i._state==="readable"?Nt(i,be):h(void 0)),At(()=>Promise.all(xe.map(Ue=>Ue())),!0,be)},z.aborted){Me();return}z.addEventListener("abort",Me)}function It(){return m((be,xe)=>{function Ue(bt){bt?be():y(oi(),Ue,xe)}Ue(!1)})}function oi(){return ye?h(!0):y(he._readyPromise,()=>m((be,xe)=>{Le(te,{_chunkSteps:Ue=>{ve=y(fa(he,Ue),void 0,a),be(!1)},_closeSteps:()=>be(!0),_errorSteps:xe})}))}if(cr(i,te._closedPromise,be=>(x?xt(!0,be):At(()=>un(o,be),!0,be),null)),cr(o,he._closedPromise,be=>(I?xt(!0,be):At(()=>Nt(i,be),!0,be),null)),at(i,te._closedPromise,()=>(p?xt():At(()=>Xs(he)),null)),Jt(o)||o._state==="closed"){let be=new TypeError("the destination writable stream closed before all data could be piped to it");I?xt(!0,be):At(()=>Nt(i,be),!0,be)}_(It());function _r(){let be=ve;return y(ve,()=>be!==ve?_r():void 0)}function cr(be,xe,Ue){be._state==="errored"?Ue(be._storedError):E(xe,Ue)}function at(be,xe,Ue){be._state==="closed"?Ue():D(xe,Ue)}function At(be,xe,Ue){if(ye)return;ye=!0,o._state==="writable"&&!Jt(o)?D(_r(),bt):bt();function bt(){return F(be(),()=>Lr(xe,Ue),wr=>Lr(!0,wr)),null}}function xt(be,xe){ye||(ye=!0,o._state==="writable"&&!Jt(o)?D(_r(),()=>Lr(be,xe)):Lr(be,xe))}function Lr(be,xe){return pa(he),pe(te),z!==void 0&&z.removeEventListener("abort",Me),be?Ae(xe):Ce(void 0),null}})}class lr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!pn(this))throw hn("desiredSize");return lu(this)}close(){if(!pn(this))throw hn("close");if(!ui(this))throw new TypeError("The stream is not in a state that permits close");Ir(this)}enqueue(o=void 0){if(!pn(this))throw hn("enqueue");if(!ui(this))throw new TypeError("The stream is not in a state that permits enqueue");return ni(this,o)}error(o=void 0){if(!pn(this))throw hn("error");Ot(this,o)}[Z](o){B(this);let p=this._cancelAlgorithm(o);return fn(this),p}[q](o){let p=this._controlledReadableStream;if(this._queue.length>0){let x=Kr(this);this._closeRequested&&this._queue.length===0?(fn(this),Di(p)):Si(this),o._chunkSteps(x)}else ie(p,o),Si(this)}[K](){}}Object.defineProperties(lr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),u(lr.prototype.close,"close"),u(lr.prototype.enqueue,"enqueue"),u(lr.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(lr.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function pn(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableStream")?!1:i instanceof lr}function Si(i){if(!wa(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let o=i._pullAlgorithm();F(o,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Si(i)),null),p=>(Ot(i,p),null))}function wa(i){let o=i._controlledReadableStream;return!ui(i)||!i._started?!1:!!(vr(o)&&le(o)>0||lu(i)>0)}function fn(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0,i._strategySizeAlgorithm=void 0}function Ir(i){if(!ui(i))return;let o=i._controlledReadableStream;i._closeRequested=!0,i._queue.length===0&&(fn(i),Di(o))}function ni(i,o){if(!ui(i))return;let p=i._controlledReadableStream;if(vr(p)&&le(p)>0)ae(p,o,!1);else{let x;try{x=i._strategySizeAlgorithm(o)}catch(I){throw Ot(i,I),I}try{Fi(i,o,x)}catch(I){throw Ot(i,I),I}}Si(i)}function Ot(i,o){let p=i._controlledReadableStream;p._state==="readable"&&(B(i),fn(i),$a(p,o))}function lu(i){let o=i._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:i._strategyHWM-i._queueTotalSize}function bl(i){return!wa(i)}function ui(i){let o=i._controlledReadableStream._state;return!i._closeRequested&&o==="readable"}function Ca(i,o,p,x,I,z,te){o._controlledReadableStream=i,o._queue=void 0,o._queueTotalSize=void 0,B(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=te,o._strategyHWM=z,o._pullAlgorithm=x,o._cancelAlgorithm=I,i._readableStreamController=o;let he=p();F(h(he),()=>(o._started=!0,Si(o),null),ye=>(Ot(o,ye),null))}function El(i,o,p,x){let I=Object.create(lr.prototype),z,te,he;o.start!==void 0?z=()=>o.start(I):z=()=>{},o.pull!==void 0?te=()=>o.pull(I):te=()=>h(void 0),o.cancel!==void 0?he=ye=>o.cancel(ye):he=()=>h(void 0),Ca(i,I,z,te,he,p,x)}function hn(i){return new TypeError(`ReadableStreamDefaultController.prototype.${i} can only be used on a ReadableStreamDefaultController`)}function vl(i,o){return Ee(i._readableStreamController)?_l(i):Fl(i)}function Fl(i,o){let p=H(i),x=!1,I=!1,z=!1,te=!1,he,ye,ve,Ce,Ae,Me=m(at=>{Ae=at});function It(){return x?(I=!0,h(void 0)):(x=!0,Le(p,{_chunkSteps:at=>{b(()=>{I=!1;let At=at,xt=at;z||ni(ve._readableStreamController,At),te||ni(Ce._readableStreamController,xt),x=!1,I&&It()})},_closeSteps:()=>{x=!1,z||Ir(ve._readableStreamController),te||Ir(Ce._readableStreamController),(!z||!te)&&Ae(void 0)},_errorSteps:()=>{x=!1}}),h(void 0))}function oi(at){if(z=!0,he=at,te){let At=Ze([he,ye]),xt=Nt(i,At);Ae(xt)}return Me}function _r(at){if(te=!0,ye=at,z){let At=Ze([he,ye]),xt=Nt(i,At);Ae(xt)}return Me}function cr(){}return ve=$i(cr,It,oi),Ce=$i(cr,It,_r),E(p._closedPromise,at=>(Ot(ve._readableStreamController,at),Ot(Ce._readableStreamController,at),(!z||!te)&&Ae(void 0),null)),[ve,Ce]}function _l(i){let o=H(i),p=!1,x=!1,I=!1,z=!1,te=!1,he,ye,ve,Ce,Ae,Me=m(be=>{Ae=be});function It(be){E(be._closedPromise,xe=>(be!==o||(tt(ve._readableStreamController,xe),tt(Ce._readableStreamController,xe),(!z||!te)&&Ae(void 0)),null))}function oi(){gr(o)&&(pe(o),o=H(i),It(o)),Le(o,{_chunkSteps:be=>{b(()=>{x=!1,I=!1;let xe=be,Ue=be;if(!z&&!te)try{Ue=Zi(be)}catch(bt){tt(ve._readableStreamController,bt),tt(Ce._readableStreamController,bt),Ae(Nt(i,bt));return}z||Rt(ve._readableStreamController,xe),te||Rt(Ce._readableStreamController,Ue),p=!1,x?cr():I&&at()})},_closeSteps:()=>{p=!1,z||Dt(ve._readableStreamController),te||Dt(Ce._readableStreamController),ve._readableStreamController._pendingPullIntos.length>0&&Qr(ve._readableStreamController,0),Ce._readableStreamController._pendingPullIntos.length>0&&Qr(Ce._readableStreamController,0),(!z||!te)&&Ae(void 0)},_errorSteps:()=>{p=!1}})}function _r(be,xe){ke(o)&&(pe(o),o=nn(i),It(o));let Ue=xe?Ce:ve,bt=xe?ve:Ce;or(o,be,1,{_chunkSteps:wr=>{b(()=>{x=!1,I=!1;let si=xe?te:z;if(xe?z:te)si||Jr(Ue._readableStreamController,wr);else{let li;try{li=Zi(wr)}catch(hu){tt(Ue._readableStreamController,hu),tt(bt._readableStreamController,hu),Ae(Nt(i,hu));return}si||Jr(Ue._readableStreamController,wr),Rt(bt._readableStreamController,li)}p=!1,x?cr():I&&at()})},_closeSteps:wr=>{p=!1;let si=xe?te:z,li=xe?z:te;si||Dt(Ue._readableStreamController),li||Dt(bt._readableStreamController),wr!==void 0&&(si||Jr(Ue._readableStreamController,wr),!li&&bt._readableStreamController._pendingPullIntos.length>0&&Qr(bt._readableStreamController,0)),(!si||!li)&&Ae(void 0)},_errorSteps:()=>{p=!1}})}function cr(){if(p)return x=!0,h(void 0);p=!0;let be=Qt(ve._readableStreamController);return be===null?oi():_r(be._view,!1),h(void 0)}function at(){if(p)return I=!0,h(void 0);p=!0;let be=Qt(Ce._readableStreamController);return be===null?oi():_r(be._view,!0),h(void 0)}function At(be){if(z=!0,he=be,te){let xe=Ze([he,ye]),Ue=Nt(i,xe);Ae(Ue)}return Me}function xt(be){if(te=!0,ye=be,z){let xe=Ze([he,ye]),Ue=Nt(i,xe);Ae(Ue)}return Me}function Lr(){}return ve=Sa(Lr,cr,At),Ce=Sa(Lr,at,xt),It(o),[ve,Ce]}function wl(i){return n(i)&&typeof i.getReader<"u"}function Cl(i){return wl(i)?Sl(i.getReader()):Al(i)}function Al(i){let o,p=Yi(i,"async"),x=a;function I(){let te;try{te=Qi(p)}catch(ye){return g(ye)}let he=h(te);return f(he,ye=>{if(!n(ye))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Jn(ye))Ir(o._readableStreamController);else{let ve=vi(ye);ni(o._readableStreamController,ve)}})}function z(te){let he=p.iterator,ye;try{ye=Gr(he,"return")}catch(Ae){return g(Ae)}if(ye===void 0)return h(void 0);let ve;try{ve=w(ye,he,[te])}catch(Ae){return g(Ae)}let Ce=h(ve);return f(Ce,Ae=>{if(!n(Ae))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return o=$i(x,I,z,0),o}function Sl(i){let o,p=a;function x(){let z;try{z=i.read()}catch(te){return g(te)}return f(z,te=>{if(!n(te))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(te.done)Ir(o._readableStreamController);else{let he=te.value;ni(o._readableStreamController,he)}})}function I(z){try{return h(i.cancel(z))}catch(te){return g(te)}}return o=$i(p,x,I,0),o}function $l(i,o){M(i,o);let p=i,x=p?.autoAllocateChunkSize,I=p?.cancel,z=p?.pull,te=p?.start,he=p?.type;return{autoAllocateChunkSize:x===void 0?void 0:me(x,`${o} has member 'autoAllocateChunkSize' that`),cancel:I===void 0?void 0:Dl(I,p,`${o} has member 'cancel' that`),pull:z===void 0?void 0:Bl(z,p,`${o} has member 'pull' that`),start:te===void 0?void 0:xl(te,p,`${o} has member 'start' that`),type:he===void 0?void 0:kl(he,`${o} has member 'type' that`)}}function Dl(i,o,p){return X(i,p),x=>$(i,o,[x])}function Bl(i,o,p){return X(i,p),x=>$(i,o,[x])}function xl(i,o,p){return X(i,p),x=>w(i,o,[x])}function kl(i,o){if(i=`${i}`,i!=="bytes")throw new TypeError(`${o} '${i}' is not a valid enumeration value for ReadableStreamType`);return i}function Pl(i,o){return M(i,o),{preventCancel:!!i?.preventCancel}}function Aa(i,o){M(i,o);let p=i?.preventAbort,x=i?.preventCancel,I=i?.preventClose,z=i?.signal;return z!==void 0&&Tl(z,`${o} has member 'signal' that`),{preventAbort:!!p,preventCancel:!!x,preventClose:!!I,signal:z}}function Tl(i,o){if(!Ls(i))throw new TypeError(`${o} is not an AbortSignal.`)}function jl(i,o){M(i,o);let p=i?.readable;Oe(p,"readable","ReadableWritablePair"),N(p,`${o} has member 'readable' that`);let x=i?.writable;return Oe(x,"writable","ReadableWritablePair"),aa(x,`${o} has member 'writable' that`),{readable:p,writable:x}}class st{constructor(o={},p={}){o===void 0?o=null:de(o,"First parameter");let x=wi(p,"Second parameter"),I=$l(o,"First parameter");if(cu(this),I.type==="bytes"){if(x.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let z=Rr(x,0);tn(this,I,z)}else{let z=ei(x),te=Rr(x,1);El(this,I,te,z)}}get locked(){if(!Er(this))throw qr("locked");return vr(this)}cancel(o=void 0){return Er(this)?vr(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):Nt(this,o):g(qr("cancel"))}getReader(o=void 0){if(!Er(this))throw qr("getReader");return Tr(o,"First parameter").mode===void 0?H(this):nn(this)}pipeThrough(o,p={}){if(!Er(this))throw qr("pipeThrough");Fe(o,1,"pipeThrough");let x=jl(o,"First parameter"),I=Aa(p,"Second parameter");if(vr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ri(x.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let z=_a(this,x.writable,I.preventClose,I.preventAbort,I.preventCancel,I.signal);return _(z),x.readable}pipeTo(o,p={}){if(!Er(this))return g(qr("pipeTo"));if(o===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!ti(o))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let x;try{x=Aa(p,"Second parameter")}catch(I){return g(I)}return vr(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ri(o)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_a(this,o,x.preventClose,x.preventAbort,x.preventCancel,x.signal)}tee(){if(!Er(this))throw qr("tee");let o=vl(this);return Ze(o)}values(o=void 0){if(!Er(this))throw qr("values");let p=Pl(o,"First parameter");return De(this,p.preventCancel)}[Gt](o){return this.values(o)}static from(o){return Cl(o)}}Object.defineProperties(st,{from:{enumerable:!0}}),Object.defineProperties(st.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),u(st.from,"from"),u(st.prototype.cancel,"cancel"),u(st.prototype.getReader,"getReader"),u(st.prototype.pipeThrough,"pipeThrough"),u(st.prototype.pipeTo,"pipeTo"),u(st.prototype.tee,"tee"),u(st.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(st.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(st.prototype,Gt,{value:st.prototype.values,writable:!0,configurable:!0});function $i(i,o,p,x=1,I=()=>1){let z=Object.create(st.prototype);cu(z);let te=Object.create(lr.prototype);return Ca(z,te,i,o,p,x,I),z}function Sa(i,o,p){let x=Object.create(st.prototype);cu(x);let I=Object.create(fe.prototype);return en(x,I,i,o,p,0,void 0),x}function cu(i){i._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1}function Er(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_readableStreamController")?!1:i instanceof st}function vr(i){return i._reader!==void 0}function Nt(i,o){if(i._disturbed=!0,i._state==="closed")return h(void 0);if(i._state==="errored")return g(i._storedError);Di(i);let p=i._reader;if(p!==void 0&&gr(p)){let I=p._readIntoRequests;p._readIntoRequests=new S,I.forEach(z=>{z._closeSteps(void 0)})}let x=i._readableStreamController[Z](o);return f(x,a)}function Di(i){i._state="closed";let o=i._reader;if(o!==void 0&&(V(o),ke(o))){let p=o._readRequests;o._readRequests=new S,p.forEach(x=>{x._closeSteps()})}}function $a(i,o){i._state="errored",i._storedError=o;let p=i._reader;p!==void 0&&(T(p,o),ke(p)?wt(p,o):_i(p,o))}function qr(i){return new TypeError(`ReadableStream.prototype.${i} can only be used on a ReadableStream`)}function Da(i,o){M(i,o);let p=i?.highWaterMark;return Oe(p,"highWaterMark","QueuingStrategyInit"),{highWaterMark:k(p)}}let Ba=i=>i.byteLength;u(Ba,"size");class mn{constructor(o){Fe(o,1,"ByteLengthQueuingStrategy"),o=Da(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!ka(this))throw xa("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!ka(this))throw xa("size");return Ba}}Object.defineProperties(mn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(mn.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function xa(i){return new TypeError(`ByteLengthQueuingStrategy.prototype.${i} can only be used on a ByteLengthQueuingStrategy`)}function ka(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_byteLengthQueuingStrategyHighWaterMark")?!1:i instanceof mn}let Pa=()=>1;u(Pa,"size");class yn{constructor(o){Fe(o,1,"CountQueuingStrategy"),o=Da(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!ja(this))throw Ta("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ja(this))throw Ta("size");return Pa}}Object.defineProperties(yn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(yn.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ta(i){return new TypeError(`CountQueuingStrategy.prototype.${i} can only be used on a CountQueuingStrategy`)}function ja(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_countQueuingStrategyHighWaterMark")?!1:i instanceof yn}function Rl(i,o){M(i,o);let p=i?.cancel,x=i?.flush,I=i?.readableType,z=i?.start,te=i?.transform,he=i?.writableType;return{cancel:p===void 0?void 0:ql(p,i,`${o} has member 'cancel' that`),flush:x===void 0?void 0:Ol(x,i,`${o} has member 'flush' that`),readableType:I,start:z===void 0?void 0:Nl(z,i,`${o} has member 'start' that`),transform:te===void 0?void 0:Il(te,i,`${o} has member 'transform' that`),writableType:he}}function Ol(i,o,p){return X(i,p),x=>$(i,o,[x])}function Nl(i,o,p){return X(i,p),x=>w(i,o,[x])}function Il(i,o,p){return X(i,p),(x,I)=>$(i,o,[x,I])}function ql(i,o,p){return X(i,p),x=>$(i,o,[x])}class gn{constructor(o={},p={},x={}){o===void 0&&(o=null);let I=wi(p,"Second parameter"),z=wi(x,"Third parameter"),te=Rl(o,"First parameter");if(te.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(te.writableType!==void 0)throw new RangeError("Invalid writableType specified");let he=Rr(z,0),ye=ei(z),ve=Rr(I,1),Ce=ei(I),Ae,Me=m(It=>{Ae=It});Ll(this,Me,ve,Ce,he,ye),Ul(this,te),te.start!==void 0?Ae(te.start(this._transformStreamController)):Ae(void 0)}get readable(){if(!Ra(this))throw qa("readable");return this._readable}get writable(){if(!Ra(this))throw qa("writable");return this._writable}}Object.defineProperties(gn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(gn.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function Ll(i,o,p,x,I,z){function te(){return o}function he(Me){return Hl(i,Me)}function ye(Me){return Vl(i,Me)}function ve(){return Gl(i)}i._writable=Ws(te,he,ve,ye,p,x);function Ce(){return Kl(i)}function Ae(Me){return Yl(i,Me)}i._readable=$i(te,Ce,Ae,I,z),i._backpressure=void 0,i._backpressureChangePromise=void 0,i._backpressureChangePromise_resolve=void 0,bn(i,!0),i._transformStreamController=void 0}function Ra(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_transformStreamController")?!1:i instanceof gn}function Oa(i,o){Ot(i._readable._readableStreamController,o),du(i,o)}function du(i,o){vn(i._transformStreamController),Ci(i._writable._writableStreamController,o),pu(i)}function pu(i){i._backpressure&&bn(i,!1)}function bn(i,o){i._backpressureChangePromise!==void 0&&i._backpressureChangePromise_resolve(),i._backpressureChangePromise=m(p=>{i._backpressureChangePromise_resolve=p}),i._backpressure=o}class Fr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!En(this))throw Fn("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return lu(o)}enqueue(o=void 0){if(!En(this))throw Fn("enqueue");Na(this,o)}error(o=void 0){if(!En(this))throw Fn("error");Wl(this,o)}terminate(){if(!En(this))throw Fn("terminate");zl(this)}}Object.defineProperties(Fr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),u(Fr.prototype.enqueue,"enqueue"),u(Fr.prototype.error,"error"),u(Fr.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fr.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function En(i){return!n(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledTransformStream")?!1:i instanceof Fr}function Ml(i,o,p,x,I){o._controlledTransformStream=i,i._transformStreamController=o,o._transformAlgorithm=p,o._flushAlgorithm=x,o._cancelAlgorithm=I,o._finishPromise=void 0,o._finishPromise_resolve=void 0,o._finishPromise_reject=void 0}function Ul(i,o){let p=Object.create(Fr.prototype),x,I,z;o.transform!==void 0?x=te=>o.transform(te,p):x=te=>{try{return Na(p,te),h(void 0)}catch(he){return g(he)}},o.flush!==void 0?I=()=>o.flush(p):I=()=>h(void 0),o.cancel!==void 0?z=te=>o.cancel(te):z=()=>h(void 0),Ml(i,p,x,I,z)}function vn(i){i._transformAlgorithm=void 0,i._flushAlgorithm=void 0,i._cancelAlgorithm=void 0}function Na(i,o){let p=i._controlledTransformStream,x=p._readable._readableStreamController;if(!ui(x))throw new TypeError("Readable side is not in a state that permits enqueue");try{ni(x,o)}catch(I){throw du(p,I),p._readable._storedError}bl(x)!==p._backpressure&&bn(p,!0)}function Wl(i,o){Oa(i._controlledTransformStream,o)}function Ia(i,o){let p=i._transformAlgorithm(o);return f(p,void 0,x=>{throw Oa(i._controlledTransformStream,x),x})}function zl(i){let o=i._controlledTransformStream,p=o._readable._readableStreamController;Ir(p);let x=new TypeError("TransformStream terminated");du(o,x)}function Hl(i,o){let p=i._transformStreamController;if(i._backpressure){let x=i._backpressureChangePromise;return f(x,()=>{let I=i._writable;if(I._state==="erroring")throw I._storedError;return Ia(p,o)})}return Ia(p,o)}function Vl(i,o){let p=i._transformStreamController;if(p._finishPromise!==void 0)return p._finishPromise;let x=i._readable;p._finishPromise=m((z,te)=>{p._finishPromise_resolve=z,p._finishPromise_reject=te});let I=p._cancelAlgorithm(o);return vn(p),F(I,()=>(x._state==="errored"?ai(p,x._storedError):(Ot(x._readableStreamController,o),fu(p)),null),z=>(Ot(x._readableStreamController,z),ai(p,z),null)),p._finishPromise}function Gl(i){let o=i._transformStreamController;if(o._finishPromise!==void 0)return o._finishPromise;let p=i._readable;o._finishPromise=m((I,z)=>{o._finishPromise_resolve=I,o._finishPromise_reject=z});let x=o._flushAlgorithm();return vn(o),F(x,()=>(p._state==="errored"?ai(o,p._storedError):(Ir(p._readableStreamController),fu(o)),null),I=>(Ot(p._readableStreamController,I),ai(o,I),null)),o._finishPromise}function Kl(i){return bn(i,!1),i._backpressureChangePromise}function Yl(i,o){let p=i._transformStreamController;if(p._finishPromise!==void 0)return p._finishPromise;let x=i._writable;p._finishPromise=m((z,te)=>{p._finishPromise_resolve=z,p._finishPromise_reject=te});let I=p._cancelAlgorithm(o);return vn(p),F(I,()=>(x._state==="errored"?ai(p,x._storedError):(Ci(x._writableStreamController,o),pu(i),fu(p)),null),z=>(Ci(x._writableStreamController,z),pu(i),ai(p,z),null)),p._finishPromise}function Fn(i){return new TypeError(`TransformStreamDefaultController.prototype.${i} can only be used on a TransformStreamDefaultController`)}function fu(i){i._finishPromise_resolve!==void 0&&(i._finishPromise_resolve(),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}function ai(i,o){i._finishPromise_reject!==void 0&&(_(i._finishPromise),i._finishPromise_reject(o),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}function qa(i){return new TypeError(`TransformStream.prototype.${i} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=mn,r.CountQueuingStrategy=yn,r.ReadableByteStreamController=fe,r.ReadableStream=st,r.ReadableStreamBYOBReader=ht,r.ReadableStreamBYOBRequest=J,r.ReadableStreamDefaultController=lr,r.ReadableStreamDefaultReader=we,r.TransformStream=gn,r.TransformStreamDefaultController=Fr,r.WritableStream=br,r.WritableStreamDefaultController=ii,r.WritableStreamDefaultWriter=sr})}),vc=oe(()=>{"use strict";if(!globalThis.ReadableStream)try{let e=require("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,Ec())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(t){let r=0,a=this;return new ReadableStream({type:"bytes",async pull(n){let l=await a.slice(r,Math.min(a.size,r+65536)).arrayBuffer();r+=l.byteLength,n.enqueue(new Uint8Array(l)),r===a.size&&n.close()}})})}catch{}});async function*mu(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let a=r.byteOffset,n=r.byteOffset+r.byteLength;for(;a!==n;){let l=Math.min(n-a,Au),u=r.buffer.slice(a,a+l);a+=u.byteLength,yield new Uint8Array(u)}}else yield r;else{let a=0,n=r;for(;a!==n.size;){let l=await n.slice(a,Math.min(n.size,a+Au)).arrayBuffer();a+=l.byteLength,yield new Uint8Array(l)}}}var Fc,Au,yu,Ma,Ii,Wn=Vi(()=>{"use strict";Fc=ot(vc(),1),Au=65536,yu=class Su{#e=[];#t="";#r=0;#i="transparent";constructor(t=[],r={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let a=new TextEncoder;for(let l of t){let u;ArrayBuffer.isView(l)?u=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?u=new Uint8Array(l.slice(0)):l instanceof Su?u=l:u=a.encode(`${l}`),this.#r+=ArrayBuffer.isView(u)?u.byteLength:u.size,this.#e.push(u)}this.#i=`${r.endings===void 0?"transparent":r.endings}`;let n=r.type===void 0?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(n)?n:""}get size(){return this.#r}get type(){return this.#t}async text(){let t=new TextDecoder,r="";for await(let a of mu(this.#e,!1))r+=t.decode(a,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let a of mu(this.#e,!1))t.set(a,r),r+=a.length;return t.buffer}stream(){let t=mu(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let a=await t.next();a.done?r.close():r.enqueue(a.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,a=""){let{size:n}=this,l=t<0?Math.max(n+t,0):Math.min(t,n),u=r<0?Math.max(n+r,0):Math.min(r,n),s=Math.max(u-l,0),c=this.#e,d=[],m=0;for(let g of c){if(m>=s)break;let y=ArrayBuffer.isView(g)?g.byteLength:g.size;if(l&&y<=l)l-=y,u-=y;else{let F;ArrayBuffer.isView(g)?(F=g.subarray(l,Math.min(y,u)),m+=F.byteLength):(F=g.slice(l,Math.min(y,u)),m+=F.size),u-=y,d.push(F),l=0}}let h=new Su([],{type:String(a).toLowerCase()});return h.#r=s,h.#e=d,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}},Object.defineProperties(yu.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Ma=yu,Ii=Ma}),Ua,Wa,Nu,No=Vi(()=>{"use strict";Wn(),Ua=class extends Ii{#e=0;#t="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),r===null&&(r={});let a=r.lastModified===void 0?Date.now():Number(r.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(t)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof Ii&&/^(File)$/.test(e[Symbol.toStringTag])}},Wa=Ua,Nu=Wa});function _c(e,t=Ii){var r=`${$u()}${$u()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),a=[],n=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((l,u)=>typeof l=="string"?a.push(n+Sn(u)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):a.push(n+Sn(u)+`"; filename="${Sn(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),a.push(`--${r}--`),new t(a,{type:"multipart/form-data; boundary="+r})}var ci,za,Ha,$u,Va,gu,Sn,Cr,qi,Iu=Vi(()=>{"use strict";Wn(),No(),{toStringTag:ci,iterator:za,hasInstance:Ha}=Symbol,$u=Math.random,Va="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),gu=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[ci])?[(r=r!==void 0?r+"":t[ci]=="File"?t.name:"blob",e),t.name!==r||t[ci]=="blob"?new Nu([t],r,t):t]:[e,t+""]),Sn=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Cr=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)},qi=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[ci](){return"FormData"}[za](){return this.entries()}static[Ha](e){return e&&typeof e=="object"&&e[ci]==="FormData"&&!Va.some(t=>typeof e[t]!="function")}append(...e){Cr("append",arguments,2),this.#e.push(gu(...e))}delete(e){Cr("delete",arguments,1),e+="",this.#e=this.#e.filter(([t])=>t!==e)}get(e){Cr("get",arguments,1),e+="";for(var t=this.#e,r=t.length,a=0;a<r;a++)if(t[a][0]===e)return t[a][1];return null}getAll(e,t){return Cr("getAll",arguments,1),t=[],e+="",this.#e.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return Cr("has",arguments,1),e+="",this.#e.some(t=>t[0]===e)}forEach(e,t){Cr("forEach",arguments,1);for(var[r,a]of this)e.call(t,a,r,this)}set(...e){Cr("set",arguments,2);var t=[],r=!0;e=gu(...e),this.#e.forEach(a=>{a[0]===e[0]?r&&(r=!t.push(e)):t.push(a)}),r&&t.push(e),this.#e=t}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}}),wc=oe((e,t)=>{"use strict";if(!globalThis.DOMException)try{let{MessageChannel:r}=require("worker_threads"),a=new r().port1,n=new ArrayBuffer;a.postMessage(n,[n,n])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}t.exports=globalThis.DOMException}),Ga,Cc,Ac,Io=Vi(()=>{"use strict";Ga=require("node:fs"),Cc=ot(wc(),1),No(),Wn(),{stat:Ac}=Ga.promises}),qo={};ko(qo,{toFormData:()=>$c});function Sc(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",a=r.slice(r.lastIndexOf("\\")+1);return a=a.replace(/%22/g,'"'),a=a.replace(/&#(\d{4});/g,(n,l)=>String.fromCharCode(l)),a}async function $c(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let a=new Lo(r[1]||r[2]),n,l,u,s,c,d,m=[],h=new qi,g=f=>{u+=E.decode(f,{stream:!0})},y=f=>{m.push(f)},F=()=>{let f=new Nu(m,d,{type:c});h.append(s,f)},D=()=>{h.append(s,u)},E=new TextDecoder("utf-8");E.decode(),a.onPartBegin=function(){a.onPartData=g,a.onPartEnd=D,n="",l="",u="",s="",c="",d=null,m.length=0},a.onHeaderField=function(f){n+=E.decode(f,{stream:!0})},a.onHeaderValue=function(f){l+=E.decode(f,{stream:!0})},a.onHeaderEnd=function(){if(l+=E.decode(),n=n.toLowerCase(),n==="content-disposition"){let f=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);f&&(s=f[2]||f[3]||""),d=Sc(l),d&&(a.onPartData=y,a.onPartEnd=F)}else n==="content-type"&&(c=l);l="",n=""};for await(let f of e)a.write(f);return a.end(),h}var qt,We,bu,dr,Bi,xi,Ka,di,Ya,Qa,Ja,Za,Ar,Lo,Dc=Vi(()=>{"use strict";Io(),Iu(),qt=0,We={START_BOUNDARY:qt++,HEADER_FIELD_START:qt++,HEADER_FIELD:qt++,HEADER_VALUE_START:qt++,HEADER_VALUE:qt++,HEADER_VALUE_ALMOST_DONE:qt++,HEADERS_ALMOST_DONE:qt++,PART_DATA_START:qt++,PART_DATA:qt++,END:qt++},bu=1,dr={PART_BOUNDARY:bu,LAST_BOUNDARY:bu*=2},Bi=10,xi=13,Ka=32,di=45,Ya=58,Qa=97,Ja=122,Za=e=>e|32,Ar=()=>{},Lo=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Ar,this.onHeaderField=Ar,this.onHeadersEnd=Ar,this.onHeaderValue=Ar,this.onPartBegin=Ar,this.onPartData=Ar,this.onPartEnd=Ar,this.boundaryChars={},e=`\r
--`+e;let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r),this.boundaryChars[t[r]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=We.START_BOUNDARY}write(e){let t=0,r=e.length,a=this.index,{lookbehind:n,boundary:l,boundaryChars:u,index:s,state:c,flags:d}=this,m=this.boundary.length,h=m-1,g=e.length,y,F,D=b=>{this[b+"Mark"]=t},E=b=>{delete this[b+"Mark"]},f=(b,w,$,v)=>{(w===void 0||w!==$)&&this[b](v&&v.subarray(w,$))},_=(b,w)=>{let $=b+"Mark";$ in this&&(w?(f(b,this[$],t,e),delete this[$]):(f(b,this[$],e.length,e),this[$]=0))};for(t=0;t<r;t++)switch(y=e[t],c){case We.START_BOUNDARY:if(s===l.length-2){if(y===di)d|=dr.LAST_BOUNDARY;else if(y!==xi)return;s++;break}else if(s-1===l.length-2){if(d&dr.LAST_BOUNDARY&&y===di)c=We.END,d=0;else if(!(d&dr.LAST_BOUNDARY)&&y===Bi)s=0,f("onPartBegin"),c=We.HEADER_FIELD_START;else return;break}y!==l[s+2]&&(s=-2),y===l[s+2]&&s++;break;case We.HEADER_FIELD_START:c=We.HEADER_FIELD,D("onHeaderField"),s=0;case We.HEADER_FIELD:if(y===xi){E("onHeaderField"),c=We.HEADERS_ALMOST_DONE;break}if(s++,y===di)break;if(y===Ya){if(s===1)return;_("onHeaderField",!0),c=We.HEADER_VALUE_START;break}if(F=Za(y),F<Qa||F>Ja)return;break;case We.HEADER_VALUE_START:if(y===Ka)break;D("onHeaderValue"),c=We.HEADER_VALUE;case We.HEADER_VALUE:y===xi&&(_("onHeaderValue",!0),f("onHeaderEnd"),c=We.HEADER_VALUE_ALMOST_DONE);break;case We.HEADER_VALUE_ALMOST_DONE:if(y!==Bi)return;c=We.HEADER_FIELD_START;break;case We.HEADERS_ALMOST_DONE:if(y!==Bi)return;f("onHeadersEnd"),c=We.PART_DATA_START;break;case We.PART_DATA_START:c=We.PART_DATA,D("onPartData");case We.PART_DATA:if(a=s,s===0){for(t+=h;t<g&&!(e[t]in u);)t+=m;t-=h,y=e[t]}if(s<l.length)l[s]===y?(s===0&&_("onPartData",!0),s++):s=0;else if(s===l.length)s++,y===xi?d|=dr.PART_BOUNDARY:y===di?d|=dr.LAST_BOUNDARY:s=0;else if(s-1===l.length)if(d&dr.PART_BOUNDARY){if(s=0,y===Bi){d&=~dr.PART_BOUNDARY,f("onPartEnd"),f("onPartBegin"),c=We.HEADER_FIELD_START;break}}else d&dr.LAST_BOUNDARY&&y===di?(f("onPartEnd"),c=We.END,d=0):s=0;if(s>0)n[s-1]=y;else if(a>0){let b=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);f("onPartData",0,a,b),a=0,D("onPartData"),t--}break;case We.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}_("onHeaderField"),_("onHeaderValue"),_("onPartData"),this.index=s,this.state=c,this.flags=d}end(){if(this.state===We.HEADER_FIELD_START&&this.index===0||this.state===We.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==We.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}}),Bn=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(f){if(super(),!e.IDENTIFIER.test(f))throw new Error("CodeGen: name must be a valid identifier");this.str=f}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var a=class extends t{constructor(f){super(),this._items=typeof f=="string"?[f]:f}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let f=this._items[0];return f===""||f==='""'}get str(){var f;return(f=this._str)!==null&&f!==void 0?f:this._str=this._items.reduce((_,b)=>`${_}${b}`,"")}get names(){var f;return(f=this._names)!==null&&f!==void 0?f:this._names=this._items.reduce((_,b)=>(b instanceof r&&(_[b.str]=(_[b.str]||0)+1),_),{})}};e._Code=a,e.nil=new a("");function n(f,..._){let b=[f[0]],w=0;for(;w<_.length;)s(b,_[w]),b.push(f[++w]);return new a(b)}e._=n;var l=new a("+");function u(f,..._){let b=[y(f[0])],w=0;for(;w<_.length;)b.push(l),s(b,_[w]),b.push(l,y(f[++w]));return c(b),new a(b)}e.str=u;function s(f,_){_ instanceof a?f.push(..._._items):_ instanceof r?f.push(_):f.push(h(_))}e.addCodeArg=s;function c(f){let _=1;for(;_<f.length-1;){if(f[_]===l){let b=d(f[_-1],f[_+1]);if(b!==void 0){f.splice(_-1,3,b);continue}f[_++]="+"}_++}}function d(f,_){if(_==='""')return f;if(f==='""')return _;if(typeof f=="string")return _ instanceof r||f[f.length-1]!=='"'?void 0:typeof _!="string"?`${f.slice(0,-1)}${_}"`:_[0]==='"'?f.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(f instanceof r))return`"${f}${_.slice(1)}`}function m(f,_){return _.emptyStr()?f:f.emptyStr()?_:u`${f}${_}`}e.strConcat=m;function h(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:y(Array.isArray(f)?f.join(","):f)}function g(f){return new a(y(f))}e.stringify=g;function y(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function F(f){return typeof f=="string"&&e.IDENTIFIER.test(f)?new a(`.${f}`):n`[${f}]`}e.getProperty=F;function D(f){if(typeof f=="string"&&e.IDENTIFIER.test(f))return new a(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}e.getEsmExportName=D;function E(f){return new a(f.toString())}e.regexpCode=E}),Xa=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Bn(),r=class extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}},a;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(a=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var n=class{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){let d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,m;if(!((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0)&&m.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}};e.Scope=n;var l=class extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:m}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${m}]`}};e.ValueScopeName=l;var u=(0,t._)`\n`,s=class extends n{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?u:t.nil}}get(){return this._scope}name(c){return new l(c,this._newName(c))}value(c,d){var m;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let h=this.toName(c),{prefix:g}=h,y=(m=d.key)!==null&&m!==void 0?m:d.ref,F=this._values[g];if(F){let f=F.get(y);if(f)return f}else F=this._values[g]=new Map;F.set(y,h);let D=this._scope[g]||(this._scope[g]=[]),E=D.length;return D[E]=d.ref,h.setValue(d,{property:g,itemIndex:E}),h}getValue(c,d){let m=this._values[c];if(m)return m.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${c}${m.scopePath}`})}scopeCode(c=this._values,d,m){return this._reduceValues(c,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},d,m)}_reduceValues(c,d,m={},h){let g=t.nil;for(let y in c){let F=c[y];if(!F)continue;let D=m[y]=m[y]||new Map;F.forEach(E=>{if(D.has(E))return;D.set(E,a.Started);let f=d(E);if(f){let _=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${_} ${E} = ${f};${this.opts._n}`}else if(f=h?.(E))g=(0,t._)`${g}${f}${this.opts._n}`;else throw new r(E);D.set(E,a.Completed)})}return g}};e.ValueScope=s}),Se=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Bn(),r=Xa(),a=Bn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return a.Name}});var n=Xa();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var l=class{optimizeNodes(){return this}optimizeNames(C,P){return this}},u=class extends l{constructor(C,P,A){super(),this.varKind=C,this.name=P,this.rhs=A}render({es5:C,_n:P}){let A=C?r.varKinds.var:this.varKind,M=this.rhs===void 0?"":` = ${this.rhs}`;return`${A} ${this.name}${M};`+P}optimizeNames(C,P){if(C[this.name.str])return this.rhs&&(this.rhs=ee(this.rhs,C,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends l{constructor(C,P,A){super(),this.lhs=C,this.rhs=P,this.sideEffects=A}render({_n:C}){return`${this.lhs} = ${this.rhs};`+C}optimizeNames(C,P){if(!(this.lhs instanceof t.Name&&!C[this.lhs.str]&&!this.sideEffects))return this.rhs=ee(this.rhs,C,P),this}get names(){let C=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ne(C,this.rhs)}},c=class extends s{constructor(C,P,A,M){super(C,A,M),this.op=P}render({_n:C}){return`${this.lhs} ${this.op}= ${this.rhs};`+C}},d=class extends l{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`${this.label}:`+C}},m=class extends l{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`break${this.label?` ${this.label}`:""};`+C}},h=class extends l{constructor(C){super(),this.error=C}render({_n:C}){return`throw ${this.error};`+C}get names(){return this.error.names}},g=class extends l{constructor(C){super(),this.code=C}render({_n:C}){return`${this.code};`+C}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(C,P){return this.code=ee(this.code,C,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},y=class extends l{constructor(C=[]){super(),this.nodes=C}render(C){return this.nodes.reduce((P,A)=>P+A.render(C),"")}optimizeNodes(){let{nodes:C}=this,P=C.length;for(;P--;){let A=C[P].optimizeNodes();Array.isArray(A)?C.splice(P,1,...A):A?C[P]=A:C.splice(P,1)}return C.length>0?this:void 0}optimizeNames(C,P){let{nodes:A}=this,M=A.length;for(;M--;){let X=A[M];X.optimizeNames(C,P)||(pe(C,X.names),A.splice(M,1))}return A.length>0?this:void 0}get names(){return this.nodes.reduce((C,P)=>K(C,P.names),{})}},F=class extends y{render(C){return"{"+C._n+super.render(C)+"}"+C._n}},D=class extends y{},E=class extends F{};E.kind="else";var f=class $n extends F{constructor(P,A){super(A),this.condition=P}render(P){let A=`if(${this.condition})`+super.render(P);return this.else&&(A+="else "+this.else.render(P)),A}optimizeNodes(){super.optimizeNodes();let P=this.condition;if(P===!0)return this.nodes;let A=this.else;if(A){let M=A.optimizeNodes();A=this.else=Array.isArray(M)?new E(M):M}if(A)return P===!1?A instanceof $n?A:A.nodes:this.nodes.length?this:new $n(Q(P),A instanceof $n?[A]:A.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,A){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(P,A),!!(super.optimizeNames(P,A)||this.else))return this.condition=ee(this.condition,P,A),this}get names(){let P=super.names;return ne(P,this.condition),this.else&&K(P,this.else.names),P}};f.kind="if";var _=class extends F{};_.kind="for";var b=class extends _{constructor(C){super(),this.iteration=C}render(C){return`for(${this.iteration})`+super.render(C)}optimizeNames(C,P){if(super.optimizeNames(C,P))return this.iteration=ee(this.iteration,C,P),this}get names(){return K(super.names,this.iteration.names)}},w=class extends _{constructor(C,P,A,M){super(),this.varKind=C,this.name=P,this.from=A,this.to=M}render(C){let P=C.es5?r.varKinds.var:this.varKind,{name:A,from:M,to:X}=this;return`for(${P} ${A}=${M}; ${A}<${X}; ${A}++)`+super.render(C)}get names(){let C=ne(super.names,this.from);return ne(C,this.to)}},$=class extends _{constructor(C,P,A,M){super(),this.loop=C,this.varKind=P,this.name=A,this.iterable=M}render(C){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(C)}optimizeNames(C,P){if(super.optimizeNames(C,P))return this.iterable=ee(this.iterable,C,P),this}get names(){return K(super.names,this.iterable.names)}},v=class extends F{constructor(C,P,A){super(),this.name=C,this.args=P,this.async=A}render(C){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(C)}};v.kind="func";var S=class extends y{render(C){return"return "+super.render(C)}};S.kind="return";var j=class extends F{render(C){let P="try"+super.render(C);return this.catch&&(P+=this.catch.render(C)),this.finally&&(P+=this.finally.render(C)),P}optimizeNodes(){var C,P;return super.optimizeNodes(),(C=this.catch)===null||C===void 0||C.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(C,P){var A,M;return super.optimizeNames(C,P),(A=this.catch)===null||A===void 0||A.optimizeNames(C,P),(M=this.finally)===null||M===void 0||M.optimizeNames(C,P),this}get names(){let C=super.names;return this.catch&&K(C,this.catch.names),this.finally&&K(C,this.finally.names),C}},W=class extends F{constructor(C){super(),this.error=C}render(C){return`catch(${this.error})`+super.render(C)}};W.kind="catch";var Z=class extends F{render(C){return"finally"+super.render(C)}};Z.kind="finally";var q=class{constructor(C,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=C,this._scope=new r.Scope({parent:C}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(C){return this._scope.name(C)}scopeName(C){return this._extScope.name(C)}scopeValue(C,P){let A=this._extScope.value(C,P);return(this._values[A.prefix]||(this._values[A.prefix]=new Set)).add(A),A}getScopeValue(C,P){return this._extScope.getValue(C,P)}scopeRefs(C){return this._extScope.scopeRefs(C,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(C,P,A,M){let X=this._scope.toName(P);return A!==void 0&&M&&(this._constants[X.str]=A),this._leafNode(new u(C,X,A)),X}const(C,P,A){return this._def(r.varKinds.const,C,P,A)}let(C,P,A){return this._def(r.varKinds.let,C,P,A)}var(C,P,A){return this._def(r.varKinds.var,C,P,A)}assign(C,P,A){return this._leafNode(new s(C,P,A))}add(C,P){return this._leafNode(new c(C,e.operators.ADD,P))}code(C){return typeof C=="function"?C():C!==t.nil&&this._leafNode(new g(C)),this}object(...C){let P=["{"];for(let[A,M]of C)P.length>1&&P.push(","),P.push(A),(A!==M||this.opts.es5)&&(P.push(":"),(0,t.addCodeArg)(P,M));return P.push("}"),new t._Code(P)}if(C,P,A){if(this._blockNode(new f(C)),P&&A)this.code(P).else().code(A).endIf();else if(P)this.code(P).endIf();else if(A)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(C){return this._elseNode(new f(C))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(f,E)}_for(C,P){return this._blockNode(C),P&&this.code(P).endFor(),this}for(C,P){return this._for(new b(C),P)}forRange(C,P,A,M,X=this.opts.es5?r.varKinds.var:r.varKinds.let){let ce=this._scope.toName(C);return this._for(new w(X,ce,P,A),()=>M(ce))}forOf(C,P,A,M=r.varKinds.const){let X=this._scope.toName(C);if(this.opts.es5){let ce=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,t._)`${ce}.length`,de=>{this.var(X,(0,t._)`${ce}[${de}]`),A(X)})}return this._for(new $("of",M,X,P),()=>A(X))}forIn(C,P,A,M=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(C,(0,t._)`Object.keys(${P})`,A);let X=this._scope.toName(C);return this._for(new $("in",M,X,P),()=>A(X))}endFor(){return this._endBlockNode(_)}label(C){return this._leafNode(new d(C))}break(C){return this._leafNode(new m(C))}return(C){let P=new S;if(this._blockNode(P),this.code(C),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(C,P,A){if(!P&&!A)throw new Error('CodeGen: "try" without "catch" and "finally"');let M=new j;if(this._blockNode(M),this.code(C),P){let X=this.name("e");this._currNode=M.catch=new W(X),P(X)}return A&&(this._currNode=M.finally=new Z,this.code(A)),this._endBlockNode(W,Z)}throw(C){return this._leafNode(new h(C))}block(C,P){return this._blockStarts.push(this._nodes.length),C&&this.code(C).endBlock(P),this}endBlock(C){let P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");let A=this._nodes.length-P;if(A<0||C!==void 0&&A!==C)throw new Error(`CodeGen: wrong number of nodes: ${A} vs ${C} expected`);return this._nodes.length=P,this}func(C,P=t.nil,A,M){return this._blockNode(new v(C,P,A)),M&&this.code(M).endFunc(),this}endFunc(){return this._endBlockNode(v)}optimize(C=1){for(;C-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(C){return this._currNode.nodes.push(C),this}_blockNode(C){this._currNode.nodes.push(C),this._nodes.push(C)}_endBlockNode(C,P){let A=this._currNode;if(A instanceof C||P&&A instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${C.kind}/${P.kind}`:C.kind}"`)}_elseNode(C){let P=this._currNode;if(!(P instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=C,this}get _root(){return this._nodes[0]}get _currNode(){let C=this._nodes;return C[C.length-1]}set _currNode(C){let P=this._nodes;P[P.length-1]=C}};e.CodeGen=q;function K(C,P){for(let A in P)C[A]=(C[A]||0)+(P[A]||0);return C}function ne(C,P){return P instanceof t._CodeOrName?K(C,P.names):C}function ee(C,P,A){if(C instanceof t.Name)return M(C);if(!X(C))return C;return new t._Code(C._items.reduce((ce,de)=>(de instanceof t.Name&&(de=M(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function M(ce){let de=A[ce.str];return de===void 0||P[ce.str]!==1?ce:(delete P[ce.str],de)}function X(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&P[de.str]===1&&A[de.str]!==void 0)}}function pe(C,P){for(let A in P)C[A]=(C[A]||0)-(P[A]||0)}function Q(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${V(C)}`}e.not=Q;var Y=L(e.operators.AND);function se(...C){return C.reduce(Y)}e.and=se;var ue=L(e.operators.OR);function T(...C){return C.reduce(ue)}e.or=T;function L(C){return(P,A)=>P===t.nil?A:A===t.nil?P:(0,t._)`${V(P)} ${C} ${V(A)}`}function V(C){return C instanceof t.Name?C:(0,t._)`(${C})`}}),je=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Se(),r=Bn();function a(v){let S={};for(let j of v)S[j]=!0;return S}e.toHash=a;function n(v,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(l(v,S),!u(S,v.self.RULES.all))}e.alwaysValidSchema=n;function l(v,S=v.schema){let{opts:j,self:W}=v;if(!j.strictSchema||typeof S=="boolean")return;let Z=W.RULES.keywords;for(let q in S)Z[q]||$(v,`unknown keyword: "${q}"`)}e.checkUnknownRules=l;function u(v,S){if(typeof v=="boolean")return!v;for(let j in v)if(S[j])return!0;return!1}e.schemaHasRules=u;function s(v,S){if(typeof v=="boolean")return!v;for(let j in v)if(j!=="$ref"&&S.all[j])return!0;return!1}e.schemaHasRulesButRef=s;function c({topSchemaRef:v,schemaPath:S},j,W,Z){if(!Z){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${v}${S}${(0,t.getProperty)(W)}`}e.schemaRefOrVal=c;function d(v){return g(decodeURIComponent(v))}e.unescapeFragment=d;function m(v){return encodeURIComponent(h(v))}e.escapeFragment=m;function h(v){return typeof v=="number"?`${v}`:v.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function g(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=g;function y(v,S){if(Array.isArray(v))for(let j of v)S(j);else S(v)}e.eachItem=y;function F({mergeNames:v,mergeToName:S,mergeValues:j,resultToName:W}){return(Z,q,K,ne)=>{let ee=K===void 0?q:K instanceof t.Name?(q instanceof t.Name?v(Z,q,K):S(Z,q,K),K):q instanceof t.Name?(S(Z,K,q),q):j(q,K);return ne===t.Name&&!(ee instanceof t.Name)?W(Z,ee):ee}}e.mergeEvaluated={props:F({mergeNames:(v,S,j)=>v.if((0,t._)`${j} !== true && ${S} !== undefined`,()=>{v.if((0,t._)`${S} === true`,()=>v.assign(j,!0),()=>v.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${S})`))}),mergeToName:(v,S,j)=>v.if((0,t._)`${j} !== true`,()=>{S===!0?v.assign(j,!0):(v.assign(j,(0,t._)`${j} || {}`),E(v,j,S))}),mergeValues:(v,S)=>v===!0?!0:{...v,...S},resultToName:D}),items:F({mergeNames:(v,S,j)=>v.if((0,t._)`${j} !== true && ${S} !== undefined`,()=>v.assign(j,(0,t._)`${S} === true ? true : ${j} > ${S} ? ${j} : ${S}`)),mergeToName:(v,S,j)=>v.if((0,t._)`${j} !== true`,()=>v.assign(j,S===!0?!0:(0,t._)`${j} > ${S} ? ${j} : ${S}`)),mergeValues:(v,S)=>v===!0?!0:Math.max(v,S),resultToName:(v,S)=>v.var("items",S)})};function D(v,S){if(S===!0)return v.var("props",!0);let j=v.var("props",(0,t._)`{}`);return S!==void 0&&E(v,j,S),j}e.evaluatedPropsToName=D;function E(v,S,j){Object.keys(j).forEach(W=>v.assign((0,t._)`${S}${(0,t.getProperty)(W)}`,!0))}e.setEvaluated=E;var f={};function _(v,S){return v.scopeValue("func",{ref:S,code:f[S.code]||(f[S.code]=new r._Code(S.code))})}e.useFunc=_;var b;(function(v){v[v.Num=0]="Num",v[v.Str=1]="Str"})(b=e.Type||(e.Type={}));function w(v,S,j){if(v instanceof t.Name){let W=S===b.Num;return j?W?(0,t._)`"[" + ${v} + "]"`:(0,t._)`"['" + ${v} + "']"`:W?(0,t._)`"/" + ${v}`:(0,t._)`"/" + ${v}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(v).toString():"/"+h(v)}e.getErrorPath=w;function $(v,S,j=v.opts.strictSchema){if(j){if(S=`strict mode: ${S}`,j===!0)throw new Error(S);v.self.logger.warn(S)}}e.checkStrictMode=$}),Br=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}),zn=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Se(),r=je(),a=Br();e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:f})=>f?(0,t.str)`"${E}" keyword must be ${f} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function n(E,f=e.keywordError,_,b){let{it:w}=E,{gen:$,compositeRule:v,allErrors:S}=w,j=h(E,f,_);b??(v||S)?c($,j):d(w,(0,t._)`[${j}]`)}e.reportError=n;function l(E,f=e.keywordError,_){let{it:b}=E,{gen:w,compositeRule:$,allErrors:v}=b,S=h(E,f,_);c(w,S),$||v||d(b,a.default.vErrors)}e.reportExtraError=l;function u(E,f){E.assign(a.default.errors,f),E.if((0,t._)`${a.default.vErrors} !== null`,()=>E.if(f,()=>E.assign((0,t._)`${a.default.vErrors}.length`,f),()=>E.assign(a.default.vErrors,null)))}e.resetErrorsCount=u;function s({gen:E,keyword:f,schemaValue:_,data:b,errsCount:w,it:$}){if(w===void 0)throw new Error("ajv implementation error");let v=E.name("err");E.forRange("i",w,a.default.errors,S=>{E.const(v,(0,t._)`${a.default.vErrors}[${S}]`),E.if((0,t._)`${v}.instancePath === undefined`,()=>E.assign((0,t._)`${v}.instancePath`,(0,t.strConcat)(a.default.instancePath,$.errorPath))),E.assign((0,t._)`${v}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${f}`),$.opts.verbose&&(E.assign((0,t._)`${v}.schema`,_),E.assign((0,t._)`${v}.data`,b))})}e.extendErrors=s;function c(E,f){let _=E.const("err",f);E.if((0,t._)`${a.default.vErrors} === null`,()=>E.assign(a.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${a.default.vErrors}.push(${_})`),E.code((0,t._)`${a.default.errors}++`)}function d(E,f){let{gen:_,validateName:b,schemaEnv:w}=E;w.$async?_.throw((0,t._)`new ${E.ValidationError}(${f})`):(_.assign((0,t._)`${b}.errors`,f),_.return(!1))}var m={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(E,f,_){let{createErrors:b}=E.it;return b===!1?(0,t._)`{}`:g(E,f,_)}function g(E,f,_={}){let{gen:b,it:w}=E,$=[y(w,_),F(E,_)];return D(E,f,$),b.object(...$)}function y({errorPath:E},{instancePath:f}){let _=f?(0,t.str)`${E}${(0,r.getErrorPath)(f,r.Type.Str)}`:E;return[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,_)]}function F({keyword:E,it:{errSchemaPath:f}},{schemaPath:_,parentSchema:b}){let w=b?f:(0,t.str)`${f}/${E}`;return _&&(w=(0,t.str)`${w}${(0,r.getErrorPath)(_,r.Type.Str)}`),[m.schemaPath,w]}function D(E,{params:f,message:_},b){let{keyword:w,data:$,schemaValue:v,it:S}=E,{opts:j,propertyName:W,topSchemaRef:Z,schemaPath:q}=S;b.push([m.keyword,w],[m.params,typeof f=="function"?f(E):f||(0,t._)`{}`]),j.messages&&b.push([m.message,typeof _=="function"?_(E):_]),j.verbose&&b.push([m.schema,v],[m.parentSchema,(0,t._)`${Z}${q}`],[a.default.data,$]),W&&b.push([m.propertyName,W])}}),Bc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=zn(),r=Se(),a=Br(),n={message:"boolean schema is false"};function l(c){let{gen:d,schema:m,validateName:h}=c;m===!1?s(c,!1):typeof m=="object"&&m.$async===!0?d.return(a.default.data):(d.assign((0,r._)`${h}.errors`,null),d.return(!0))}e.topBoolOrEmptySchema=l;function u(c,d){let{gen:m,schema:h}=c;h===!1?(m.var(d,!1),s(c)):m.var(d,!0)}e.boolOrEmptySchema=u;function s(c,d){let{gen:m,data:h}=c,g={gen:m,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,t.reportError)(g,n,void 0,d)}}),Mo=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function a(l){return typeof l=="string"&&r.has(l)}e.isJSONType=a;function n(){let l={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...l,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},l.number,l.string,l.array,l.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=n}),Uo=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:n,self:l},u){let s=l.RULES.types[u];return s&&s!==!0&&r(n,s)}e.schemaHasRulesForType=t;function r(n,l){return l.rules.some(u=>a(n,u))}e.shouldUseGroup=r;function a(n,l){var u;return n[l.keyword]!==void 0||((u=l.definition.implements)===null||u===void 0?void 0:u.some(s=>n[s]!==void 0))}e.shouldUseRule=a}),xn=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=Mo(),r=Uo(),a=zn(),n=Se(),l=je(),u;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(u=e.DataType||(e.DataType={}));function s(b){let w=c(b.type);if(w.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&w.push("null")}return w}e.getSchemaTypes=s;function c(b){let w=Array.isArray(b)?b:b?[b]:[];if(w.every(t.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}e.getJSONTypes=c;function d(b,w){let{gen:$,data:v,opts:S}=b,j=h(w,S.coerceTypes),W=w.length>0&&!(j.length===0&&w.length===1&&(0,r.schemaHasRulesForType)(b,w[0]));if(W){let Z=D(w,v,S.strictNumbers,u.Wrong);$.if(Z,()=>{j.length?g(b,w,j):f(b)})}return W}e.coerceAndCheckDataType=d;var m=new Set(["string","number","integer","boolean","null"]);function h(b,w){return w?b.filter($=>m.has($)||w==="array"&&$==="array"):[]}function g(b,w,$){let{gen:v,data:S,opts:j}=b,W=v.let("dataType",(0,n._)`typeof ${S}`),Z=v.let("coerced",(0,n._)`undefined`);j.coerceTypes==="array"&&v.if((0,n._)`${W} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>v.assign(S,(0,n._)`${S}[0]`).assign(W,(0,n._)`typeof ${S}`).if(D(w,S,j.strictNumbers),()=>v.assign(Z,S))),v.if((0,n._)`${Z} !== undefined`);for(let K of $)(m.has(K)||K==="array"&&j.coerceTypes==="array")&&q(K);v.else(),f(b),v.endIf(),v.if((0,n._)`${Z} !== undefined`,()=>{v.assign(S,Z),y(b,Z)});function q(K){switch(K){case"string":v.elseIf((0,n._)`${W} == "number" || ${W} == "boolean"`).assign(Z,(0,n._)`"" + ${S}`).elseIf((0,n._)`${S} === null`).assign(Z,(0,n._)`""`);return;case"number":v.elseIf((0,n._)`${W} == "boolean" || ${S} === null
              || (${W} == "string" && ${S} && ${S} == +${S})`).assign(Z,(0,n._)`+${S}`);return;case"integer":v.elseIf((0,n._)`${W} === "boolean" || ${S} === null
              || (${W} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(Z,(0,n._)`+${S}`);return;case"boolean":v.elseIf((0,n._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(Z,!1).elseIf((0,n._)`${S} === "true" || ${S} === 1`).assign(Z,!0);return;case"null":v.elseIf((0,n._)`${S} === "" || ${S} === 0 || ${S} === false`),v.assign(Z,null);return;case"array":v.elseIf((0,n._)`${W} === "string" || ${W} === "number"
              || ${W} === "boolean" || ${S} === null`).assign(Z,(0,n._)`[${S}]`)}}}function y({gen:b,parentData:w,parentDataProperty:$},v){b.if((0,n._)`${w} !== undefined`,()=>b.assign((0,n._)`${w}[${$}]`,v))}function F(b,w,$,v=u.Correct){let S=v===u.Correct?n.operators.EQ:n.operators.NEQ,j;switch(b){case"null":return(0,n._)`${w} ${S} null`;case"array":j=(0,n._)`Array.isArray(${w})`;break;case"object":j=(0,n._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":j=W((0,n._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":j=W();break;default:return(0,n._)`typeof ${w} ${S} ${b}`}return v===u.Correct?j:(0,n.not)(j);function W(Z=n.nil){return(0,n.and)((0,n._)`typeof ${w} == "number"`,Z,$?(0,n._)`isFinite(${w})`:n.nil)}}e.checkDataType=F;function D(b,w,$,v){if(b.length===1)return F(b[0],w,$,v);let S,j=(0,l.toHash)(b);if(j.array&&j.object){let W=(0,n._)`typeof ${w} != "object"`;S=j.null?W:(0,n._)`!${w} || ${W}`,delete j.null,delete j.array,delete j.object}else S=n.nil;j.number&&delete j.integer;for(let W in j)S=(0,n.and)(S,F(W,w,$,v));return S}e.checkDataTypes=D;var E={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:w})=>typeof b=="string"?(0,n._)`{type: ${b}}`:(0,n._)`{type: ${w}}`};function f(b){let w=_(b);(0,a.reportError)(w,E)}e.reportTypeError=f;function _(b){let{gen:w,data:$,schema:v}=b,S=(0,l.schemaRefOrVal)(b,v,"type");return{gen:w,keyword:"type",data:$,schema:v.type,schemaCode:S,schemaValue:S,parentSchema:v,params:{},it:b}}}),xc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Se(),r=je();function a(l,u){let{properties:s,items:c}=l.schema;if(u==="object"&&s)for(let d in s)n(l,d,s[d].default);else u==="array"&&Array.isArray(c)&&c.forEach((d,m)=>n(l,m,d.default))}e.assignDefaults=a;function n(l,u,s){let{gen:c,compositeRule:d,data:m,opts:h}=l;if(s===void 0)return;let g=(0,t._)`${m}${(0,t.getProperty)(u)}`;if(d){(0,r.checkStrictMode)(l,`default is ignored for: ${g}`);return}let y=(0,t._)`${g} === undefined`;h.useDefaults==="empty"&&(y=(0,t._)`${y} || ${g} === null || ${g} === ""`),c.if(y,(0,t._)`${g} = ${(0,t.stringify)(s)}`)}}),Wt=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Se(),r=je(),a=Br(),n=je();function l(b,w){let{gen:$,data:v,it:S}=b;$.if(h($,v,w,S.opts.ownProperties),()=>{b.setParams({missingProperty:(0,t._)`${w}`},!0),b.error()})}e.checkReportMissingProp=l;function u({gen:b,data:w,it:{opts:$}},v,S){return(0,t.or)(...v.map(j=>(0,t.and)(h(b,w,j,$.ownProperties),(0,t._)`${S} = ${j}`)))}e.checkMissingProp=u;function s(b,w){b.setParams({missingProperty:w},!0),b.error()}e.reportMissingProp=s;function c(b){return b.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=c;function d(b,w,$){return(0,t._)`${c(b)}.call(${w}, ${$})`}e.isOwnProperty=d;function m(b,w,$,v){let S=(0,t._)`${w}${(0,t.getProperty)($)} !== undefined`;return v?(0,t._)`${S} && ${d(b,w,$)}`:S}e.propertyInData=m;function h(b,w,$,v){let S=(0,t._)`${w}${(0,t.getProperty)($)} === undefined`;return v?(0,t.or)(S,(0,t.not)(d(b,w,$))):S}e.noPropertyInData=h;function g(b){return b?Object.keys(b).filter(w=>w!=="__proto__"):[]}e.allSchemaProperties=g;function y(b,w){return g(w).filter($=>!(0,r.alwaysValidSchema)(b,w[$]))}e.schemaProperties=y;function F({schemaCode:b,data:w,it:{gen:$,topSchemaRef:v,schemaPath:S,errorPath:j},it:W},Z,q,K){let ne=K?(0,t._)`${b}, ${w}, ${v}${S}`:w,ee=[[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,j)],[a.default.parentData,W.parentData],[a.default.parentDataProperty,W.parentDataProperty],[a.default.rootData,a.default.rootData]];W.opts.dynamicRef&&ee.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);let pe=(0,t._)`${ne}, ${$.object(...ee)}`;return q!==t.nil?(0,t._)`${Z}.call(${q}, ${pe})`:(0,t._)`${Z}(${pe})`}e.callValidateCode=F;var D=(0,t._)`new RegExp`;function E({gen:b,it:{opts:w}},$){let v=w.unicodeRegExp?"u":"",{regExp:S}=w.code,j=S($,v);return b.scopeValue("pattern",{key:j.toString(),ref:j,code:(0,t._)`${S.code==="new RegExp"?D:(0,n.useFunc)(b,S)}(${$}, ${v})`})}e.usePattern=E;function f(b){let{gen:w,data:$,keyword:v,it:S}=b,j=w.name("valid");if(S.allErrors){let Z=w.let("valid",!0);return W(()=>w.assign(Z,!1)),Z}return w.var(j,!0),W(()=>w.break()),j;function W(Z){let q=w.const("len",(0,t._)`${$}.length`);w.forRange("i",0,q,K=>{b.subschema({keyword:v,dataProp:K,dataPropType:r.Type.Num},j),w.if((0,t.not)(j),Z)})}}e.validateArray=f;function _(b){let{gen:w,schema:$,keyword:v,it:S}=b;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(Z=>(0,r.alwaysValidSchema)(S,Z))&&!S.opts.unevaluated)return;let j=w.let("valid",!1),W=w.name("_valid");w.block(()=>$.forEach((Z,q)=>{let K=b.subschema({keyword:v,schemaProp:q,compositeRule:!0},W);w.assign(j,(0,t._)`${j} || ${W}`),b.mergeValidEvaluated(K,W)||w.if((0,t.not)(j))})),b.result(j,()=>b.reset(),()=>b.error(!0))}e.validateUnion=_}),kc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Se(),r=Br(),a=Wt(),n=zn();function l(y,F){let{gen:D,keyword:E,schema:f,parentSchema:_,it:b}=y,w=F.macro.call(b.self,f,_,b),$=m(D,E,w);b.opts.validateSchema!==!1&&b.self.validateSchema(w,!0);let v=D.name("valid");y.subschema({schema:w,schemaPath:t.nil,errSchemaPath:`${b.errSchemaPath}/${E}`,topSchemaRef:$,compositeRule:!0},v),y.pass(v,()=>y.error(!0))}e.macroKeywordCode=l;function u(y,F){var D;let{gen:E,keyword:f,schema:_,parentSchema:b,$data:w,it:$}=y;d($,F);let v=!w&&F.compile?F.compile.call($.self,_,b,$):F.validate,S=m(E,f,v),j=E.let("valid");y.block$data(j,W),y.ok((D=F.valid)!==null&&D!==void 0?D:j);function W(){if(F.errors===!1)K(),F.modifying&&s(y),ne(()=>y.error());else{let ee=F.async?Z():q();F.modifying&&s(y),ne(()=>c(y,ee))}}function Z(){let ee=E.let("ruleErrs",null);return E.try(()=>K((0,t._)`await `),pe=>E.assign(j,!1).if((0,t._)`${pe} instanceof ${$.ValidationError}`,()=>E.assign(ee,(0,t._)`${pe}.errors`),()=>E.throw(pe))),ee}function q(){let ee=(0,t._)`${S}.errors`;return E.assign(ee,null),K(t.nil),ee}function K(ee=F.async?(0,t._)`await `:t.nil){let pe=$.opts.passContext?r.default.this:r.default.self,Q=!("compile"in F&&!w||F.schema===!1);E.assign(j,(0,t._)`${ee}${(0,a.callValidateCode)(y,S,pe,Q)}`,F.modifying)}function ne(ee){var pe;E.if((0,t.not)((pe=F.valid)!==null&&pe!==void 0?pe:j),ee)}}e.funcKeywordCode=u;function s(y){let{gen:F,data:D,it:E}=y;F.if(E.parentData,()=>F.assign(D,(0,t._)`${E.parentData}[${E.parentDataProperty}]`))}function c(y,F){let{gen:D}=y;D.if((0,t._)`Array.isArray(${F})`,()=>{D.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${F} : ${r.default.vErrors}.concat(${F})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,n.extendErrors)(y)},()=>y.error())}function d({schemaEnv:y},F){if(F.async&&!y.$async)throw new Error("async keyword in sync schema")}function m(y,F,D){if(D===void 0)throw new Error(`keyword "${F}" failed to compile`);return y.scopeValue("keyword",typeof D=="function"?{ref:D}:{ref:D,code:(0,t.stringify)(D)})}function h(y,F,D=!1){return!F.length||F.some(E=>E==="array"?Array.isArray(y):E==="object"?y&&typeof y=="object"&&!Array.isArray(y):typeof y==E||D&&typeof y>"u")}e.validSchemaType=h;function g({schema:y,opts:F,self:D,errSchemaPath:E},f,_){if(Array.isArray(f.keyword)?!f.keyword.includes(_):f.keyword!==_)throw new Error("ajv implementation error");let b=f.dependencies;if(b?.some(w=>!Object.prototype.hasOwnProperty.call(y,w)))throw new Error(`parent schema must have dependencies of ${_}: ${b.join(",")}`);if(f.validateSchema&&!f.validateSchema(y[_])){let w=`keyword "${_}" value is invalid at path "${E}": `+D.errorsText(f.validateSchema.errors);if(F.validateSchema==="log")D.logger.error(w);else throw new Error(w)}}e.validateKeywordUsage=g}),Pc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Se(),r=je();function a(u,{keyword:s,schemaProp:c,schema:d,schemaPath:m,errSchemaPath:h,topSchemaRef:g}){if(s!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){let y=u.schema[s];return c===void 0?{schema:y,schemaPath:(0,t._)`${u.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${u.errSchemaPath}/${s}`}:{schema:y[c],schemaPath:(0,t._)`${u.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(c)}`,errSchemaPath:`${u.errSchemaPath}/${s}/${(0,r.escapeFragment)(c)}`}}if(d!==void 0){if(m===void 0||h===void 0||g===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:m,topSchemaRef:g,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=a;function n(u,s,{dataProp:c,dataPropType:d,data:m,dataTypes:h,propertyName:g}){if(m!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:y}=s;if(c!==void 0){let{errorPath:D,dataPathArr:E,opts:f}=s,_=y.let("data",(0,t._)`${s.data}${(0,t.getProperty)(c)}`,!0);F(_),u.errorPath=(0,t.str)`${D}${(0,r.getErrorPath)(c,d,f.jsPropertySyntax)}`,u.parentDataProperty=(0,t._)`${c}`,u.dataPathArr=[...E,u.parentDataProperty]}if(m!==void 0){let D=m instanceof t.Name?m:y.let("data",m,!0);F(D),g!==void 0&&(u.propertyName=g)}h&&(u.dataTypes=h);function F(D){u.data=D,u.dataLevel=s.dataLevel+1,u.dataTypes=[],s.definedProperties=new Set,u.parentData=s.data,u.dataNames=[...s.dataNames,D]}}e.extendSubschemaData=n;function l(u,{jtdDiscriminator:s,jtdMetadata:c,compositeRule:d,createErrors:m,allErrors:h}){d!==void 0&&(u.compositeRule=d),m!==void 0&&(u.createErrors=m),h!==void 0&&(u.allErrors=h),u.jtdDiscriminator=s,u.jtdMetadata=c}e.extendSubschemaMode=l}),Wo=oe((e,t)=>{"use strict";t.exports=function r(a,n){if(a===n)return!0;if(a&&n&&typeof a=="object"&&typeof n=="object"){if(a.constructor!==n.constructor)return!1;var l,u,s;if(Array.isArray(a)){if(l=a.length,l!=n.length)return!1;for(u=l;u--!==0;)if(!r(a[u],n[u]))return!1;return!0}if(a.constructor===RegExp)return a.source===n.source&&a.flags===n.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===n.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===n.toString();if(s=Object.keys(a),l=s.length,l!==Object.keys(n).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[u]))return!1;for(u=l;u--!==0;){var c=s[u];if(!r(a[c],n[c]))return!1}return!0}return a!==a&&n!==n}}),Tc=oe((e,t)=>{"use strict";var r=t.exports=function(l,u,s){typeof u=="function"&&(s=u,u={}),s=u.cb||s;var c=typeof s=="function"?s:s.pre||function(){},d=s.post||function(){};a(u,c,d,l,"",l)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function a(l,u,s,c,d,m,h,g,y,F){if(c&&typeof c=="object"&&!Array.isArray(c)){u(c,d,m,h,g,y,F);for(var D in c){var E=c[D];if(Array.isArray(E)){if(D in r.arrayKeywords)for(var f=0;f<E.length;f++)a(l,u,s,E[f],d+"/"+D+"/"+f,m,d,D,c,f)}else if(D in r.propsKeywords){if(E&&typeof E=="object")for(var _ in E)a(l,u,s,E[_],d+"/"+D+"/"+n(_),m,d,D,c,_)}else(D in r.keywords||l.allKeys&&!(D in r.skipKeywords))&&a(l,u,s,E,d+"/"+D,m,d,D,c)}s(c,d,m,h,g,y,F)}}function n(l){return l.replace(/~/g,"~0").replace(/\//g,"~1")}}),Hn=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=je(),r=Wo(),a=Tc(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function l(E,f=!0){return typeof E=="boolean"?!0:f===!0?!s(E):f?c(E)<=f:!1}e.inlineRef=l;var u=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(E){for(let f in E){if(u.has(f))return!0;let _=E[f];if(Array.isArray(_)&&_.some(s)||typeof _=="object"&&s(_))return!0}return!1}function c(E){let f=0;for(let _ in E)if(_==="$ref"||(f++,!n.has(_)&&(typeof E[_]=="object"&&(0,t.eachItem)(E[_],b=>f+=c(b)),f===1/0)))return 1/0;return f}function d(E,f="",_){_!==!1&&(f=g(f));let b=E.parse(f);return m(E,b)}e.getFullPath=d;function m(E,f){return E.serialize(f).split("#")[0]+"#"}e._getFullPath=m;var h=/#\/?$/;function g(E){return E?E.replace(h,""):""}e.normalizeId=g;function y(E,f,_){return _=g(_),E.resolve(f,_)}e.resolveUrl=y;var F=/^[a-z_][-a-z0-9._]*$/i;function D(E,f){if(typeof E=="boolean")return{};let{schemaId:_,uriResolver:b}=this.opts,w=g(E[_]||f),$={"":w},v=d(b,w,!1),S={},j=new Set;return a(E,{allKeys:!0},(q,K,ne,ee)=>{if(ee===void 0)return;let pe=v+K,Q=$[ee];typeof q[_]=="string"&&(Q=Y.call(this,q[_])),se.call(this,q.$anchor),se.call(this,q.$dynamicAnchor),$[K]=Q;function Y(ue){let T=this.opts.uriResolver.resolve;if(ue=g(Q?T(Q,ue):ue),j.has(ue))throw Z(ue);j.add(ue);let L=this.refs[ue];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?W(q,L.schema,ue):ue!==g(pe)&&(ue[0]==="#"?(W(q,S[ue],ue),S[ue]=q):this.refs[ue]=pe),ue}function se(ue){if(typeof ue=="string"){if(!F.test(ue))throw new Error(`invalid anchor "${ue}"`);Y.call(this,`#${ue}`)}}}),S;function W(q,K,ne){if(K!==void 0&&!r(q,K))throw Z(ne)}function Z(q){return new Error(`reference "${q}" resolves to more than one schema`)}}e.getSchemaRefs=D}),Vn=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Bc(),r=xn(),a=Uo(),n=xn(),l=xc(),u=kc(),s=Pc(),c=Se(),d=Br(),m=Hn(),h=je(),g=zn();function y(k){if(v(k)&&(j(k),$(k))){f(k);return}F(k,()=>(0,t.topBoolOrEmptySchema)(k))}e.validateFunctionCode=y;function F({gen:k,validateName:U,schema:re,schemaEnv:me,opts:N},H){N.code.es5?k.func(U,(0,c._)`${d.default.data}, ${d.default.valCxt}`,me.$async,()=>{k.code((0,c._)`"use strict"; ${b(re,N)}`),E(k,N),k.code(H)}):k.func(U,(0,c._)`${d.default.data}, ${D(N)}`,me.$async,()=>k.code(b(re,N)).code(H))}function D(k){return(0,c._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${k.dynamicRef?(0,c._)`, ${d.default.dynamicAnchors}={}`:c.nil}}={}`}function E(k,U){k.if(d.default.valCxt,()=>{k.var(d.default.instancePath,(0,c._)`${d.default.valCxt}.${d.default.instancePath}`),k.var(d.default.parentData,(0,c._)`${d.default.valCxt}.${d.default.parentData}`),k.var(d.default.parentDataProperty,(0,c._)`${d.default.valCxt}.${d.default.parentDataProperty}`),k.var(d.default.rootData,(0,c._)`${d.default.valCxt}.${d.default.rootData}`),U.dynamicRef&&k.var(d.default.dynamicAnchors,(0,c._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{k.var(d.default.instancePath,(0,c._)`""`),k.var(d.default.parentData,(0,c._)`undefined`),k.var(d.default.parentDataProperty,(0,c._)`undefined`),k.var(d.default.rootData,d.default.data),U.dynamicRef&&k.var(d.default.dynamicAnchors,(0,c._)`{}`)})}function f(k){let{schema:U,opts:re,gen:me}=k;F(k,()=>{re.$comment&&U.$comment&&ee(k),q(k),me.let(d.default.vErrors,null),me.let(d.default.errors,0),re.unevaluated&&_(k),W(k),pe(k)})}function _(k){let{gen:U,validateName:re}=k;k.evaluated=U.const("evaluated",(0,c._)`${re}.evaluated`),U.if((0,c._)`${k.evaluated}.dynamicProps`,()=>U.assign((0,c._)`${k.evaluated}.props`,(0,c._)`undefined`)),U.if((0,c._)`${k.evaluated}.dynamicItems`,()=>U.assign((0,c._)`${k.evaluated}.items`,(0,c._)`undefined`))}function b(k,U){let re=typeof k=="object"&&k[U.schemaId];return re&&(U.code.source||U.code.process)?(0,c._)`/*# sourceURL=${re} */`:c.nil}function w(k,U){if(v(k)&&(j(k),$(k))){S(k,U);return}(0,t.boolOrEmptySchema)(k,U)}function $({schema:k,self:U}){if(typeof k=="boolean")return!k;for(let re in k)if(U.RULES.all[re])return!0;return!1}function v(k){return typeof k.schema!="boolean"}function S(k,U){let{schema:re,gen:me,opts:N}=k;N.$comment&&re.$comment&&ee(k),K(k),ne(k);let H=me.const("_errs",d.default.errors);W(k,H),me.var(U,(0,c._)`${H} === ${d.default.errors}`)}function j(k){(0,h.checkUnknownRules)(k),Z(k)}function W(k,U){if(k.opts.jtd)return Y(k,[],!1,U);let re=(0,r.getSchemaTypes)(k.schema),me=(0,r.coerceAndCheckDataType)(k,re);Y(k,re,!me,U)}function Z(k){let{schema:U,errSchemaPath:re,opts:me,self:N}=k;U.$ref&&me.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(U,N.RULES)&&N.logger.warn(`$ref: keywords ignored in schema at path "${re}"`)}function q(k){let{schema:U,opts:re}=k;U.default!==void 0&&re.useDefaults&&re.strictSchema&&(0,h.checkStrictMode)(k,"default is ignored in the schema root")}function K(k){let U=k.schema[k.opts.schemaId];U&&(k.baseId=(0,m.resolveUrl)(k.opts.uriResolver,k.baseId,U))}function ne(k){if(k.schema.$async&&!k.schemaEnv.$async)throw new Error("async schema in sync schema")}function ee({gen:k,schemaEnv:U,schema:re,errSchemaPath:me,opts:N}){let H=re.$comment;if(N.$comment===!0)k.code((0,c._)`${d.default.self}.logger.log(${H})`);else if(typeof N.$comment=="function"){let ie=(0,c.str)`${me}/$comment`,ae=k.scopeValue("root",{ref:U.root});k.code((0,c._)`${d.default.self}.opts.$comment(${H}, ${ie}, ${ae}.schema)`)}}function pe(k){let{gen:U,schemaEnv:re,validateName:me,ValidationError:N,opts:H}=k;re.$async?U.if((0,c._)`${d.default.errors} === 0`,()=>U.return(d.default.data),()=>U.throw((0,c._)`new ${N}(${d.default.vErrors})`)):(U.assign((0,c._)`${me}.errors`,d.default.vErrors),H.unevaluated&&Q(k),U.return((0,c._)`${d.default.errors} === 0`))}function Q({gen:k,evaluated:U,props:re,items:me}){re instanceof c.Name&&k.assign((0,c._)`${U}.props`,re),me instanceof c.Name&&k.assign((0,c._)`${U}.items`,me)}function Y(k,U,re,me){let{gen:N,schema:H,data:ie,allErrors:ae,opts:le,self:_e}=k,{RULES:we}=_e;if(H.$ref&&(le.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(H,we))){N.block(()=>ce(k,"$ref",we.all.$ref.definition));return}le.jtd||ue(k,U),N.block(()=>{for(let Le of we.rules)ke(Le);ke(we.post)});function ke(Le){(0,a.shouldUseGroup)(H,Le)&&(Le.type?(N.if((0,n.checkDataType)(Le.type,ie,le.strictNumbers)),se(k,Le),U.length===1&&U[0]===Le.type&&re&&(N.else(),(0,n.reportTypeError)(k)),N.endIf()):se(k,Le),ae||N.if((0,c._)`${d.default.errors} === ${me||0}`))}}function se(k,U){let{gen:re,schema:me,opts:{useDefaults:N}}=k;N&&(0,l.assignDefaults)(k,U.type),re.block(()=>{for(let H of U.rules)(0,a.shouldUseRule)(me,H)&&ce(k,H.keyword,H.definition,U.type)})}function ue(k,U){k.schemaEnv.meta||!k.opts.strictTypes||(T(k,U),k.opts.allowUnionTypes||L(k,U),V(k,k.dataTypes))}function T(k,U){if(U.length){if(!k.dataTypes.length){k.dataTypes=U;return}U.forEach(re=>{P(k.dataTypes,re)||M(k,`type "${re}" not allowed by context "${k.dataTypes.join(",")}"`)}),A(k,U)}}function L(k,U){U.length>1&&!(U.length===2&&U.includes("null"))&&M(k,"use allowUnionTypes to allow union type keyword")}function V(k,U){let re=k.self.RULES.all;for(let me in re){let N=re[me];if(typeof N=="object"&&(0,a.shouldUseRule)(k.schema,N)){let{type:H}=N.definition;H.length&&!H.some(ie=>C(U,ie))&&M(k,`missing type "${H.join(",")}" for keyword "${me}"`)}}}function C(k,U){return k.includes(U)||U==="number"&&k.includes("integer")}function P(k,U){return k.includes(U)||U==="integer"&&k.includes("number")}function A(k,U){let re=[];for(let me of k.dataTypes)P(U,me)?re.push(me):U.includes("integer")&&me==="number"&&re.push("integer");k.dataTypes=re}function M(k,U){let re=k.schemaEnv.baseId+k.errSchemaPath;U+=` at "${re}" (strictTypes)`,(0,h.checkStrictMode)(k,U,k.opts.strictTypes)}var X=class{constructor(k,U,re){if((0,u.validateKeywordUsage)(k,U,re),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=re,this.data=k.data,this.schema=k.schema[re],this.$data=U.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(k,this.schema,re,this.$data),this.schemaType=U.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=U,this.$data)this.schemaCode=k.gen.const("vSchema",Oe(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,u.validSchemaType)(this.schema,U.schemaType,U.allowUndefined))throw new Error(`${re} value must be ${JSON.stringify(U.schemaType)}`);("code"in U?U.trackErrors:U.errors!==!1)&&(this.errsCount=k.gen.const("_errs",d.default.errors))}result(k,U,re){this.failResult((0,c.not)(k),U,re)}failResult(k,U,re){this.gen.if(k),re?re():this.error(),U?(this.gen.else(),U(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,U){this.failResult((0,c.not)(k),void 0,U)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);let{schemaCode:U}=this;this.fail((0,c._)`${U} !== undefined && (${(0,c.or)(this.invalid$data(),k)})`)}error(k,U,re){if(U){this.setParams(U),this._error(k,re),this.setParams({});return}this._error(k,re)}_error(k,U){(k?g.reportExtraError:g.reportError)(this,this.def.error,U)}$dataError(){(0,g.reportError)(this,this.def.$dataError||g.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,g.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,U){U?Object.assign(this.params,k):this.params=k}block$data(k,U,re=c.nil){this.gen.block(()=>{this.check$data(k,re),U()})}check$data(k=c.nil,U=c.nil){if(!this.$data)return;let{gen:re,schemaCode:me,schemaType:N,def:H}=this;re.if((0,c.or)((0,c._)`${me} === undefined`,U)),k!==c.nil&&re.assign(k,!0),(N.length||H.validateSchema)&&(re.elseIf(this.invalid$data()),this.$dataError(),k!==c.nil&&re.assign(k,!1)),re.else()}invalid$data(){let{gen:k,schemaCode:U,schemaType:re,def:me,it:N}=this;return(0,c.or)(H(),ie());function H(){if(re.length){if(!(U instanceof c.Name))throw new Error("ajv implementation error");let ae=Array.isArray(re)?re:[re];return(0,c._)`${(0,n.checkDataTypes)(ae,U,N.opts.strictNumbers,n.DataType.Wrong)}`}return c.nil}function ie(){if(me.validateSchema){let ae=k.scopeValue("validate$data",{ref:me.validateSchema});return(0,c._)`!${ae}(${U})`}return c.nil}}subschema(k,U){let re=(0,s.getSubschema)(this.it,k);(0,s.extendSubschemaData)(re,this.it,k),(0,s.extendSubschemaMode)(re,k);let me={...this.it,...re,items:void 0,props:void 0};return w(me,U),me}mergeEvaluated(k,U){let{it:re,gen:me}=this;re.opts.unevaluated&&(re.props!==!0&&k.props!==void 0&&(re.props=h.mergeEvaluated.props(me,k.props,re.props,U)),re.items!==!0&&k.items!==void 0&&(re.items=h.mergeEvaluated.items(me,k.items,re.items,U)))}mergeValidEvaluated(k,U){let{it:re,gen:me}=this;if(re.opts.unevaluated&&(re.props!==!0||re.items!==!0))return me.if(U,()=>this.mergeEvaluated(k,c.Name)),!0}};e.KeywordCxt=X;function ce(k,U,re,me){let N=new X(k,re,U);"code"in re?re.code(N,me):N.$data&&re.validate?(0,u.funcKeywordCode)(N,re):"macro"in re?(0,u.macroKeywordCode)(N,re):(re.compile||re.validate)&&(0,u.funcKeywordCode)(N,re)}var de=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(k,{dataLevel:U,dataNames:re,dataPathArr:me}){let N,H;if(k==="")return d.default.rootData;if(k[0]==="/"){if(!de.test(k))throw new Error(`Invalid JSON-pointer: ${k}`);N=k,H=d.default.rootData}else{let _e=Fe.exec(k);if(!_e)throw new Error(`Invalid JSON-pointer: ${k}`);let we=+_e[1];if(N=_e[2],N==="#"){if(we>=U)throw new Error(le("property/index",we));return me[U-we]}if(we>U)throw new Error(le("data",we));if(H=re[U-we],!N)return H}let ie=H,ae=N.split("/");for(let _e of ae)_e&&(H=(0,c._)`${H}${(0,c.getProperty)((0,h.unescapeJsonPointer)(_e))}`,ie=(0,c._)`${ie} && ${H}`);return ie;function le(_e,we){return`Cannot access ${_e} ${we} levels up, current level is ${U}`}}e.getData=Oe}),qu=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}),Lu=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Hn(),r=class extends Error{constructor(a,n,l,u){super(u||`can't resolve reference ${l} from id ${n}`),this.missingRef=(0,t.resolveUrl)(a,n,l),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(a,this.missingRef))}};e.default=r}),Mu=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Se(),r=qu(),a=Br(),n=Hn(),l=je(),u=Vn(),s=class{constructor(f){var _;this.refs={},this.dynamicAnchors={};let b;typeof f.schema=="object"&&(b=f.schema),this.schema=f.schema,this.schemaId=f.schemaId,this.root=f.root||this,this.baseId=(_=f.baseId)!==null&&_!==void 0?_:(0,n.normalizeId)(b?.[f.schemaId||"$id"]),this.schemaPath=f.schemaPath,this.localRefs=f.localRefs,this.meta=f.meta,this.$async=b?.$async,this.refs={}}};e.SchemaEnv=s;function c(f){let _=h.call(this,f);if(_)return _;let b=(0,n.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:w,lines:$}=this.opts.code,{ownProperties:v}=this.opts,S=new t.CodeGen(this.scope,{es5:w,lines:$,ownProperties:v}),j;f.$async&&(j=S.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));let W=S.scopeName("validate");f.validateName=W;let Z={gen:S,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,t.stringify)(f.schema)}:{ref:f.schema}),validateName:W,ValidationError:j,schema:f.schema,schemaEnv:f,rootId:b,baseId:f.baseId||b,schemaPath:t.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this},q;try{this._compilations.add(f),(0,u.validateFunctionCode)(Z),S.optimize(this.opts.code.optimize);let K=S.toString();q=`${S.scopeRefs(a.default.scope)}return ${K}`,this.opts.code.process&&(q=this.opts.code.process(q,f));let ne=new Function(`${a.default.self}`,`${a.default.scope}`,q)(this,this.scope.get());if(this.scope.value(W,{ref:ne}),ne.errors=null,ne.schema=f.schema,ne.schemaEnv=f,f.$async&&(ne.$async=!0),this.opts.code.source===!0&&(ne.source={validateName:W,validateCode:K,scopeValues:S._values}),this.opts.unevaluated){let{props:ee,items:pe}=Z;ne.evaluated={props:ee instanceof t.Name?void 0:ee,items:pe instanceof t.Name?void 0:pe,dynamicProps:ee instanceof t.Name,dynamicItems:pe instanceof t.Name},ne.source&&(ne.source.evaluated=(0,t.stringify)(ne.evaluated))}return f.validate=ne,f}catch(K){throw delete f.validate,delete f.validateName,q&&this.logger.error("Error compiling schema, function code:",q),K}finally{this._compilations.delete(f)}}e.compileSchema=c;function d(f,_,b){var w;b=(0,n.resolveUrl)(this.opts.uriResolver,_,b);let $=f.refs[b];if($)return $;let v=y.call(this,f,b);if(v===void 0){let S=(w=f.localRefs)===null||w===void 0?void 0:w[b],{schemaId:j}=this.opts;S&&(v=new s({schema:S,schemaId:j,root:f,baseId:_}))}if(v!==void 0)return f.refs[b]=m.call(this,v)}e.resolveRef=d;function m(f){return(0,n.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:c.call(this,f)}function h(f){for(let _ of this._compilations)if(g(_,f))return _}e.getCompilingSchema=h;function g(f,_){return f.schema===_.schema&&f.root===_.root&&f.baseId===_.baseId}function y(f,_){let b;for(;typeof(b=this.refs[_])=="string";)_=b;return b||this.schemas[_]||F.call(this,f,_)}function F(f,_){let b=this.opts.uriResolver.parse(_),w=(0,n._getFullPath)(this.opts.uriResolver,b),$=(0,n.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&w===$)return E.call(this,b,f);let v=(0,n.normalizeId)(w),S=this.refs[v]||this.schemas[v];if(typeof S=="string"){let j=F.call(this,f,S);return typeof j?.schema!="object"?void 0:E.call(this,b,j)}if(typeof S?.schema=="object"){if(S.validate||c.call(this,S),v===(0,n.normalizeId)(_)){let{schema:j}=S,{schemaId:W}=this.opts,Z=j[W];return Z&&($=(0,n.resolveUrl)(this.opts.uriResolver,$,Z)),new s({schema:j,schemaId:W,root:f,baseId:$})}return E.call(this,b,S)}}e.resolveSchema=F;var D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(f,{baseId:_,schema:b,root:w}){var $;if((($=f.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(let j of f.fragment.slice(1).split("/")){if(typeof b=="boolean")return;let W=b[(0,l.unescapeFragment)(j)];if(W===void 0)return;b=W;let Z=typeof b=="object"&&b[this.opts.schemaId];!D.has(j)&&Z&&(_=(0,n.resolveUrl)(this.opts.uriResolver,_,Z))}let v;if(typeof b!="boolean"&&b.$ref&&!(0,l.schemaHasRulesButRef)(b,this.RULES)){let j=(0,n.resolveUrl)(this.opts.uriResolver,_,b.$ref);v=F.call(this,w,j)}let{schemaId:S}=this.opts;if(v=v||new s({schema:b,schemaId:S,root:w,baseId:_}),v.schema!==v.root.schema)return v}}),jc=oe((e,t)=>{t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),Rc=oe((e,t)=>{"use strict";(function(r,a){typeof e=="object"&&typeof t<"u"?a(e):typeof define=="function"&&define.amd?define(["exports"],a):a(r.URI=r.URI||{})})(e,function(r){"use strict";function a(){for(var B=arguments.length,R=Array(B),O=0;O<B;O++)R[O]=arguments[O];if(R.length>1){R[0]=R[0].slice(0,-1);for(var G=R.length-1,J=1;J<G;++J)R[J]=R[J].slice(1,-1);return R[G]=R[G].slice(1),R.join("")}else return R[0]}function n(B){return"(?:"+B+")"}function l(B){return B===void 0?"undefined":B===null?"null":Object.prototype.toString.call(B).split(" ").pop().split("]").shift().toLowerCase()}function u(B){return B.toUpperCase()}function s(B){return B!=null?B instanceof Array?B:typeof B.length!="number"||B.split||B.setInterval||B.call?[B]:Array.prototype.slice.call(B):[]}function c(B,R){var O=B;if(R)for(var G in R)O[G]=R[G];return O}function d(B){var R="[A-Za-z]",O="[\\x0D]",G="[0-9]",J="[\\x22]",fe=a(G,"[A-Fa-f]"),Ee="[\\x0A]",Be="[\\x20]",Pe=n(n("%[EFef]"+fe+"%"+fe+fe+"%"+fe+fe)+"|"+n("%[89A-Fa-f]"+fe+"%"+fe+fe)+"|"+n("%"+fe+fe)),qe="[\\:\\/\\?\\#\\[\\]\\@]",$e="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",He=a(qe,$e),Ve=B?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ze=B?"[\\uE000-\\uF8FF]":"[]",Re=a(R,G,"[\\-\\.\\_\\~]",Ve),Te=n(R+a(R,G,"[\\+\\-\\.]")+"*"),et=n(n(Pe+"|"+a(Re,$e,"[\\:]"))+"*"),fr=n(n("25[0-5]")+"|"+n("2[0-4]"+G)+"|"+n("1"+G+G)+"|"+n("[1-9]"+G)+"|"+G),it=n(n("25[0-5]")+"|"+n("2[0-4]"+G)+"|"+n("1"+G+G)+"|"+n("0?[1-9]"+G)+"|0?0?"+G),pt=n(it+"\\."+it+"\\."+it+"\\."+it),Ne=n(fe+"{1,4}"),ft=n(n(Ne+"\\:"+Ne)+"|"+pt),gt=n(n(Ne+"\\:")+"{6}"+ft),jt=n("\\:\\:"+n(Ne+"\\:")+"{5}"+ft),Kt=n(n(Ne)+"?\\:\\:"+n(Ne+"\\:")+"{4}"+ft),ut=n(n(n(Ne+"\\:")+"{0,1}"+Ne)+"?\\:\\:"+n(Ne+"\\:")+"{3}"+ft),Yr=n(n(n(Ne+"\\:")+"{0,2}"+Ne)+"?\\:\\:"+n(Ne+"\\:")+"{2}"+ft),nr=n(n(n(Ne+"\\:")+"{0,3}"+Ne)+"?\\:\\:"+Ne+"\\:"+ft),Dt=n(n(n(Ne+"\\:")+"{0,4}"+Ne)+"?\\:\\:"+ft),Rt=n(n(n(Ne+"\\:")+"{0,5}"+Ne)+"?\\:\\:"+Ne),tt=n(n(n(Ne+"\\:")+"{0,6}"+Ne)+"?\\:\\:"),Yt=n([gt,jt,Kt,ut,Yr,nr,Dt,Rt,tt].join("|")),Qt=n(n(Re+"|"+Pe)+"+"),ur=n(Yt+"\\%25"+Qt),Qr=n(Yt+n("\\%25|\\%(?!"+fe+"{2})")+Qt),Jr=n("[vV]"+fe+"+\\."+a(Re,$e,"[\\:]")+"+"),en=n("\\["+n(Qr+"|"+Yt+"|"+Jr)+"\\]"),tn=n(n(Pe+"|"+a(Re,$e))+"*"),Pr=n(en+"|"+pt+"(?!"+tn+")|"+tn),ar=n(G+"*"),hr=n(n(et+"@")+"?"+Pr+n("\\:"+ar)+"?"),Tr=n(Pe+"|"+a(Re,$e,"[\\:\\@]")),Zn=n(Tr+"*"),rn=n(Tr+"+"),nn=n(n(Pe+"|"+a(Re,$e,"[\\@]"))+"+"),Bt=n(n("\\/"+Zn)+"*"),mr=n("\\/"+n(rn+Bt)+"?"),Zr=n(nn+Bt),yr=n(rn+Bt),ht="(?!"+Tr+")",gr=n(Bt+"|"+mr+"|"+Zr+"|"+yr+"|"+ht),or=n(n(Tr+"|"+a("[\\/\\?]",ze))+"*"),jr=n(n(Tr+"|[\\/\\?]")+"*"),_i=n(n("\\/\\/"+hr+Bt)+"|"+mr+"|"+yr+"|"+ht),Xr=n(Te+"\\:"+_i+n("\\?"+or)+"?"+n("\\#"+jr)+"?"),Rr=n(n("\\/\\/"+hr+Bt)+"|"+mr+"|"+Zr+"|"+ht),ei=n(Rr+n("\\?"+or)+"?"+n("\\#"+jr)+"?"),wi=n(Xr+"|"+ei),ea=n(Te+"\\:"+_i+n("\\?"+or)+"?"),ta="^("+Te+")\\:"+n(n("\\/\\/("+n("("+et+")@")+"?("+Pr+")"+n("\\:("+ar+")")+"?)")+"?("+Bt+"|"+mr+"|"+yr+"|"+ht+")")+n("\\?("+or+")")+"?"+n("\\#("+jr+")")+"?$",ra="^(){0}"+n(n("\\/\\/("+n("("+et+")@")+"?("+Pr+")"+n("\\:("+ar+")")+"?)")+"?("+Bt+"|"+mr+"|"+Zr+"|"+ht+")")+n("\\?("+or+")")+"?"+n("\\#("+jr+")")+"?$",ia="^("+Te+")\\:"+n(n("\\/\\/("+n("("+et+")@")+"?("+Pr+")"+n("\\:("+ar+")")+"?)")+"?("+Bt+"|"+mr+"|"+yr+"|"+ht+")")+n("\\?("+or+")")+"?$",na="^"+n("\\#("+jr+")")+"?$",ua="^"+n("("+et+")@")+"?("+Pr+")"+n("\\:("+ar+")")+"?$";return{NOT_SCHEME:new RegExp(a("[^]",R,G,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Re,$e),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Re,$e),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Re,$e),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Re,$e),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Re,$e,"[\\:\\@\\/\\?]",ze),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Re,$e,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Re,$e),"g"),UNRESERVED:new RegExp(Re,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Re,He),"g"),PCT_ENCODED:new RegExp(Pe,"g"),IPV4ADDRESS:new RegExp("^("+pt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yt+")"+n(n("\\%25|\\%(?!"+fe+"{2})")+"("+Qt+")")+"?\\]?$")}}var m=d(!1),h=d(!0),g=function(){function B(R,O){var G=[],J=!0,fe=!1,Ee=void 0;try{for(var Be=R[Symbol.iterator](),Pe;!(J=(Pe=Be.next()).done)&&(G.push(Pe.value),!(O&&G.length===O));J=!0);}catch(qe){fe=!0,Ee=qe}finally{try{!J&&Be.return&&Be.return()}finally{if(fe)throw Ee}}return G}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return B(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(B){if(Array.isArray(B)){for(var R=0,O=Array(B.length);R<B.length;R++)O[R]=B[R];return O}else return Array.from(B)},F=2147483647,D=36,E=1,f=26,_=38,b=700,w=72,$=128,v="-",S=/^xn--/,j=/[^\0-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=D-E,K=Math.floor,ne=String.fromCharCode;function ee(B){throw new RangeError(Z[B])}function pe(B,R){for(var O=[],G=B.length;G--;)O[G]=R(B[G]);return O}function Q(B,R){var O=B.split("@"),G="";O.length>1&&(G=O[0]+"@",B=O[1]),B=B.replace(W,".");var J=B.split("."),fe=pe(J,R).join(".");return G+fe}function Y(B){for(var R=[],O=0,G=B.length;O<G;){var J=B.charCodeAt(O++);if(J>=55296&&J<=56319&&O<G){var fe=B.charCodeAt(O++);(fe&64512)==56320?R.push(((J&1023)<<10)+(fe&1023)+65536):(R.push(J),O--)}else R.push(J)}return R}var se=function(B){return String.fromCodePoint.apply(String,y(B))},ue=function(B){return B-48<10?B-22:B-65<26?B-65:B-97<26?B-97:D},T=function(B,R){return B+22+75*(B<26)-((R!=0)<<5)},L=function(B,R,O){var G=0;for(B=O?K(B/b):B>>1,B+=K(B/R);B>q*f>>1;G+=D)B=K(B/q);return K(G+(q+1)*B/(B+_))},V=function(B){var R=[],O=B.length,G=0,J=$,fe=w,Ee=B.lastIndexOf(v);Ee<0&&(Ee=0);for(var Be=0;Be<Ee;++Be)B.charCodeAt(Be)>=128&&ee("not-basic"),R.push(B.charCodeAt(Be));for(var Pe=Ee>0?Ee+1:0;Pe<O;){for(var qe=G,$e=1,He=D;;He+=D){Pe>=O&&ee("invalid-input");var Ve=ue(B.charCodeAt(Pe++));(Ve>=D||Ve>K((F-G)/$e))&&ee("overflow"),G+=Ve*$e;var ze=He<=fe?E:He>=fe+f?f:He-fe;if(Ve<ze)break;var Re=D-ze;$e>K(F/Re)&&ee("overflow"),$e*=Re}var Te=R.length+1;fe=L(G-qe,Te,qe==0),K(G/Te)>F-J&&ee("overflow"),J+=K(G/Te),G%=Te,R.splice(G++,0,J)}return String.fromCodePoint.apply(String,R)},C=function(B){var R=[];B=Y(B);var O=B.length,G=$,J=0,fe=w,Ee=!0,Be=!1,Pe=void 0;try{for(var qe=B[Symbol.iterator](),$e;!(Ee=($e=qe.next()).done);Ee=!0){var He=$e.value;He<128&&R.push(ne(He))}}catch(ur){Be=!0,Pe=ur}finally{try{!Ee&&qe.return&&qe.return()}finally{if(Be)throw Pe}}var Ve=R.length,ze=Ve;for(Ve&&R.push(v);ze<O;){var Re=F,Te=!0,et=!1,fr=void 0;try{for(var it=B[Symbol.iterator](),pt;!(Te=(pt=it.next()).done);Te=!0){var Ne=pt.value;Ne>=G&&Ne<Re&&(Re=Ne)}}catch(ur){et=!0,fr=ur}finally{try{!Te&&it.return&&it.return()}finally{if(et)throw fr}}var ft=ze+1;Re-G>K((F-J)/ft)&&ee("overflow"),J+=(Re-G)*ft,G=Re;var gt=!0,jt=!1,Kt=void 0;try{for(var ut=B[Symbol.iterator](),Yr;!(gt=(Yr=ut.next()).done);gt=!0){var nr=Yr.value;if(nr<G&&++J>F&&ee("overflow"),nr==G){for(var Dt=J,Rt=D;;Rt+=D){var tt=Rt<=fe?E:Rt>=fe+f?f:Rt-fe;if(Dt<tt)break;var Yt=Dt-tt,Qt=D-tt;R.push(ne(T(tt+Yt%Qt,0))),Dt=K(Yt/Qt)}R.push(ne(T(Dt,0))),fe=L(J,ft,ze==Ve),J=0,++ze}}}catch(ur){jt=!0,Kt=ur}finally{try{!gt&&ut.return&&ut.return()}finally{if(jt)throw Kt}}++J,++G}return R.join("")},P=function(B){return Q(B,function(R){return S.test(R)?V(R.slice(4).toLowerCase()):R})},A=function(B){return Q(B,function(R){return j.test(R)?"xn--"+C(R):R})},M={version:"2.1.0",ucs2:{decode:Y,encode:se},decode:V,encode:C,toASCII:A,toUnicode:P},X={};function ce(B){var R=B.charCodeAt(0),O=void 0;return R<16?O="%0"+R.toString(16).toUpperCase():R<128?O="%"+R.toString(16).toUpperCase():R<2048?O="%"+(R>>6|192).toString(16).toUpperCase()+"%"+(R&63|128).toString(16).toUpperCase():O="%"+(R>>12|224).toString(16).toUpperCase()+"%"+(R>>6&63|128).toString(16).toUpperCase()+"%"+(R&63|128).toString(16).toUpperCase(),O}function de(B){for(var R="",O=0,G=B.length;O<G;){var J=parseInt(B.substr(O+1,2),16);if(J<128)R+=String.fromCharCode(J),O+=3;else if(J>=194&&J<224){if(G-O>=6){var fe=parseInt(B.substr(O+4,2),16);R+=String.fromCharCode((J&31)<<6|fe&63)}else R+=B.substr(O,6);O+=6}else if(J>=224){if(G-O>=9){var Ee=parseInt(B.substr(O+4,2),16),Be=parseInt(B.substr(O+7,2),16);R+=String.fromCharCode((J&15)<<12|(Ee&63)<<6|Be&63)}else R+=B.substr(O,9);O+=9}else R+=B.substr(O,3),O+=3}return R}function Fe(B,R){function O(G){var J=de(G);return J.match(R.UNRESERVED)?J:G}return B.scheme&&(B.scheme=String(B.scheme).replace(R.PCT_ENCODED,O).toLowerCase().replace(R.NOT_SCHEME,"")),B.userinfo!==void 0&&(B.userinfo=String(B.userinfo).replace(R.PCT_ENCODED,O).replace(R.NOT_USERINFO,ce).replace(R.PCT_ENCODED,u)),B.host!==void 0&&(B.host=String(B.host).replace(R.PCT_ENCODED,O).toLowerCase().replace(R.NOT_HOST,ce).replace(R.PCT_ENCODED,u)),B.path!==void 0&&(B.path=String(B.path).replace(R.PCT_ENCODED,O).replace(B.scheme?R.NOT_PATH:R.NOT_PATH_NOSCHEME,ce).replace(R.PCT_ENCODED,u)),B.query!==void 0&&(B.query=String(B.query).replace(R.PCT_ENCODED,O).replace(R.NOT_QUERY,ce).replace(R.PCT_ENCODED,u)),B.fragment!==void 0&&(B.fragment=String(B.fragment).replace(R.PCT_ENCODED,O).replace(R.NOT_FRAGMENT,ce).replace(R.PCT_ENCODED,u)),B}function Oe(B){return B.replace(/^0*(.*)/,"$1")||"0"}function k(B,R){var O=B.match(R.IPV4ADDRESS)||[],G=g(O,2),J=G[1];return J?J.split(".").map(Oe).join("."):B}function U(B,R){var O=B.match(R.IPV6ADDRESS)||[],G=g(O,3),J=G[1],fe=G[2];if(J){for(var Ee=J.toLowerCase().split("::").reverse(),Be=g(Ee,2),Pe=Be[0],qe=Be[1],$e=qe?qe.split(":").map(Oe):[],He=Pe.split(":").map(Oe),Ve=R.IPV4ADDRESS.test(He[He.length-1]),ze=Ve?7:8,Re=He.length-ze,Te=Array(ze),et=0;et<ze;++et)Te[et]=$e[et]||He[Re+et]||"";Ve&&(Te[ze-1]=k(Te[ze-1],R));var fr=Te.reduce(function(gt,jt,Kt){if(!jt||jt==="0"){var ut=gt[gt.length-1];ut&&ut.index+ut.length===Kt?ut.length++:gt.push({index:Kt,length:1})}return gt},[]),it=fr.sort(function(gt,jt){return jt.length-gt.length})[0],pt=void 0;if(it&&it.length>1){var Ne=Te.slice(0,it.index),ft=Te.slice(it.index+it.length);pt=Ne.join(":")+"::"+ft.join(":")}else pt=Te.join(":");return fe&&(pt+="%"+fe),pt}else return B}var re=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,me="".match(/(){0}/)[1]===void 0;function N(B){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O={},G=R.iri!==!1?h:m;R.reference==="suffix"&&(B=(R.scheme?R.scheme+":":"")+"//"+B);var J=B.match(re);if(J){me?(O.scheme=J[1],O.userinfo=J[3],O.host=J[4],O.port=parseInt(J[5],10),O.path=J[6]||"",O.query=J[7],O.fragment=J[8],isNaN(O.port)&&(O.port=J[5])):(O.scheme=J[1]||void 0,O.userinfo=B.indexOf("@")!==-1?J[3]:void 0,O.host=B.indexOf("//")!==-1?J[4]:void 0,O.port=parseInt(J[5],10),O.path=J[6]||"",O.query=B.indexOf("?")!==-1?J[7]:void 0,O.fragment=B.indexOf("#")!==-1?J[8]:void 0,isNaN(O.port)&&(O.port=B.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?J[4]:void 0)),O.host&&(O.host=U(k(O.host,G),G)),O.scheme===void 0&&O.userinfo===void 0&&O.host===void 0&&O.port===void 0&&!O.path&&O.query===void 0?O.reference="same-document":O.scheme===void 0?O.reference="relative":O.fragment===void 0?O.reference="absolute":O.reference="uri",R.reference&&R.reference!=="suffix"&&R.reference!==O.reference&&(O.error=O.error||"URI is not a "+R.reference+" reference.");var fe=X[(R.scheme||O.scheme||"").toLowerCase()];if(!R.unicodeSupport&&(!fe||!fe.unicodeSupport)){if(O.host&&(R.domainHost||fe&&fe.domainHost))try{O.host=M.toASCII(O.host.replace(G.PCT_ENCODED,de).toLowerCase())}catch(Ee){O.error=O.error||"Host's domain name can not be converted to ASCII via punycode: "+Ee}Fe(O,m)}else Fe(O,G);fe&&fe.parse&&fe.parse(O,R)}else O.error=O.error||"URI can not be parsed.";return O}function H(B,R){var O=R.iri!==!1?h:m,G=[];return B.userinfo!==void 0&&(G.push(B.userinfo),G.push("@")),B.host!==void 0&&G.push(U(k(String(B.host),O),O).replace(O.IPV6ADDRESS,function(J,fe,Ee){return"["+fe+(Ee?"%25"+Ee:"")+"]"})),(typeof B.port=="number"||typeof B.port=="string")&&(G.push(":"),G.push(String(B.port))),G.length?G.join(""):void 0}var ie=/^\.\.?\//,ae=/^\/\.(\/|$)/,le=/^\/\.\.(\/|$)/,_e=/^\/?(?:.|\n)*?(?=\/|$)/;function we(B){for(var R=[];B.length;)if(B.match(ie))B=B.replace(ie,"");else if(B.match(ae))B=B.replace(ae,"/");else if(B.match(le))B=B.replace(le,"/"),R.pop();else if(B==="."||B==="..")B="";else{var O=B.match(_e);if(O){var G=O[0];B=B.slice(G.length),R.push(G)}else throw new Error("Unexpected dot segment condition")}return R.join("")}function ke(B){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=R.iri?h:m,G=[],J=X[(R.scheme||B.scheme||"").toLowerCase()];if(J&&J.serialize&&J.serialize(B,R),B.host&&!O.IPV6ADDRESS.test(B.host)&&(R.domainHost||J&&J.domainHost))try{B.host=R.iri?M.toUnicode(B.host):M.toASCII(B.host.replace(O.PCT_ENCODED,de).toLowerCase())}catch(Be){B.error=B.error||"Host's domain name can not be converted to "+(R.iri?"Unicode":"ASCII")+" via punycode: "+Be}Fe(B,O),R.reference!=="suffix"&&B.scheme&&(G.push(B.scheme),G.push(":"));var fe=H(B,R);if(fe!==void 0&&(R.reference!=="suffix"&&G.push("//"),G.push(fe),B.path&&B.path.charAt(0)!=="/"&&G.push("/")),B.path!==void 0){var Ee=B.path;!R.absolutePath&&(!J||!J.absolutePath)&&(Ee=we(Ee)),fe===void 0&&(Ee=Ee.replace(/^\/\//,"/%2F")),G.push(Ee)}return B.query!==void 0&&(G.push("?"),G.push(B.query)),B.fragment!==void 0&&(G.push("#"),G.push(B.fragment)),G.join("")}function Le(B,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=arguments[3],J={};return G||(B=N(ke(B,O),O),R=N(ke(R,O),O)),O=O||{},!O.tolerant&&R.scheme?(J.scheme=R.scheme,J.userinfo=R.userinfo,J.host=R.host,J.port=R.port,J.path=we(R.path||""),J.query=R.query):(R.userinfo!==void 0||R.host!==void 0||R.port!==void 0?(J.userinfo=R.userinfo,J.host=R.host,J.port=R.port,J.path=we(R.path||""),J.query=R.query):(R.path?(R.path.charAt(0)==="/"?J.path=we(R.path):((B.userinfo!==void 0||B.host!==void 0||B.port!==void 0)&&!B.path?J.path="/"+R.path:B.path?J.path=B.path.slice(0,B.path.lastIndexOf("/")+1)+R.path:J.path=R.path,J.path=we(J.path)),J.query=R.query):(J.path=B.path,R.query!==void 0?J.query=R.query:J.query=B.query),J.userinfo=B.userinfo,J.host=B.host,J.port=B.port),J.scheme=B.scheme),J.fragment=R.fragment,J}function zt(B,R,O){var G=c({scheme:"null"},O);return ke(Le(N(B,G),N(R,G),G,!0),G)}function wt(B,R){return typeof B=="string"?B=ke(N(B,R),R):l(B)==="object"&&(B=N(ke(B,R),R)),B}function Ct(B,R,O){return typeof B=="string"?B=ke(N(B,O),O):l(B)==="object"&&(B=ke(B,O)),typeof R=="string"?R=ke(N(R,O),O):l(R)==="object"&&(R=ke(R,O)),B===R}function St(B,R){return B&&B.toString().replace(!R||!R.iri?m.ESCAPE:h.ESCAPE,ce)}function Qe(B,R){return B&&B.toString().replace(!R||!R.iri?m.PCT_ENCODED:h.PCT_ENCODED,de)}var Ie={scheme:"http",domainHost:!0,parse:function(B,R){return B.host||(B.error=B.error||"HTTP URIs must have a host."),B},serialize:function(B,R){var O=String(B.scheme).toLowerCase()==="https";return(B.port===(O?443:80)||B.port==="")&&(B.port=void 0),B.path||(B.path="/"),B}},De={scheme:"https",domainHost:Ie.domainHost,parse:Ie.parse,serialize:Ie.serialize};function Je(B){return typeof B.secure=="boolean"?B.secure:String(B.scheme).toLowerCase()==="wss"}var dt={scheme:"ws",domainHost:!0,parse:function(B,R){var O=B;return O.secure=Je(O),O.resourceName=(O.path||"/")+(O.query?"?"+O.query:""),O.path=void 0,O.query=void 0,O},serialize:function(B,R){if((B.port===(Je(B)?443:80)||B.port==="")&&(B.port=void 0),typeof B.secure=="boolean"&&(B.scheme=B.secure?"wss":"ws",B.secure=void 0),B.resourceName){var O=B.resourceName.split("?"),G=g(O,2),J=G[0],fe=G[1];B.path=J&&J!=="/"?J:void 0,B.query=fe,B.resourceName=void 0}return B.fragment=void 0,B}},Ht={scheme:"wss",domainHost:dt.domainHost,parse:dt.parse,serialize:dt.serialize},$t={},Pt=!0,ir="[A-Za-z0-9\\-\\.\\_\\~"+(Pt?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Ze="[0-9A-Fa-f]",kr=n(n("%[EFef]"+Ze+"%"+Ze+Ze+"%"+Ze+Ze)+"|"+n("%[89A-Fa-f]"+Ze+"%"+Ze+Ze)+"|"+n("%"+Ze+Ze)),Tt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Vt="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ki=a(Vt,'[\\"\\\\]'),Gr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Qn=new RegExp(ir,"g"),Gt=new RegExp(kr,"g"),Yi=new RegExp(a("[^]",Tt,"[\\.]",'[\\"]',Ki),"g"),Qi=new RegExp(a("[^]",ir,Gr),"g"),Jn=Qi;function vi(B){var R=de(B);return R.match(Qn)?R:B}var Ji={scheme:"mailto",parse:function(B,R){var O=B,G=O.to=O.path?O.path.split(","):[];if(O.path=void 0,O.query){for(var J=!1,fe={},Ee=O.query.split("&"),Be=0,Pe=Ee.length;Be<Pe;++Be){var qe=Ee[Be].split("=");switch(qe[0]){case"to":for(var $e=qe[1].split(","),He=0,Ve=$e.length;He<Ve;++He)G.push($e[He]);break;case"subject":O.subject=Qe(qe[1],R);break;case"body":O.body=Qe(qe[1],R);break;default:J=!0,fe[Qe(qe[0],R)]=Qe(qe[1],R);break}}J&&(O.headers=fe)}O.query=void 0;for(var ze=0,Re=G.length;ze<Re;++ze){var Te=G[ze].split("@");if(Te[0]=Qe(Te[0]),R.unicodeSupport)Te[1]=Qe(Te[1],R).toLowerCase();else try{Te[1]=M.toASCII(Qe(Te[1],R).toLowerCase())}catch(et){O.error=O.error||"Email address's domain name can not be converted to ASCII via punycode: "+et}G[ze]=Te.join("@")}return O},serialize:function(B,R){var O=B,G=s(B.to);if(G){for(var J=0,fe=G.length;J<fe;++J){var Ee=String(G[J]),Be=Ee.lastIndexOf("@"),Pe=Ee.slice(0,Be).replace(Gt,vi).replace(Gt,u).replace(Yi,ce),qe=Ee.slice(Be+1);try{qe=R.iri?M.toUnicode(qe):M.toASCII(Qe(qe,R).toLowerCase())}catch(ze){O.error=O.error||"Email address's domain name can not be converted to "+(R.iri?"Unicode":"ASCII")+" via punycode: "+ze}G[J]=Pe+"@"+qe}O.path=G.join(",")}var $e=B.headers=B.headers||{};B.subject&&($e.subject=B.subject),B.body&&($e.body=B.body);var He=[];for(var Ve in $e)$e[Ve]!==$t[Ve]&&He.push(Ve.replace(Gt,vi).replace(Gt,u).replace(Qi,ce)+"="+$e[Ve].replace(Gt,vi).replace(Gt,u).replace(Jn,ce));return He.length&&(O.query=He.join("&")),O}},Zi=/^([^\:]+)\:(.*)/,Kr={scheme:"urn",parse:function(B,R){var O=B.path&&B.path.match(Zi),G=B;if(O){var J=R.scheme||G.scheme||"urn",fe=O[1].toLowerCase(),Ee=O[2],Be=J+":"+(R.nid||fe),Pe=X[Be];G.nid=fe,G.nss=Ee,G.path=void 0,Pe&&(G=Pe.parse(G,R))}else G.error=G.error||"URN can not be parsed.";return G},serialize:function(B,R){var O=R.scheme||B.scheme||"urn",G=B.nid,J=O+":"+(R.nid||G),fe=X[J];fe&&(B=fe.serialize(B,R));var Ee=B,Be=B.nss;return Ee.path=(G||R.nid)+":"+Be,Ee}},Fi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xi={scheme:"urn:uuid",parse:function(B,R){var O=B;return O.uuid=O.nss,O.nss=void 0,!R.tolerant&&(!O.uuid||!O.uuid.match(Fi))&&(O.error=O.error||"UUID is not valid."),O},serialize:function(B,R){var O=B;return O.nss=(B.uuid||"").toLowerCase(),O}};X[Ie.scheme]=Ie,X[De.scheme]=De,X[dt.scheme]=dt,X[Ht.scheme]=Ht,X[Ji.scheme]=Ji,X[Kr.scheme]=Kr,X[Xi.scheme]=Xi,r.SCHEMES=X,r.pctEncChar=ce,r.pctDecChars=de,r.parse=N,r.removeDotSegments=we,r.serialize=ke,r.resolveComponents=Le,r.resolve=zt,r.normalize=wt,r.equal=Ct,r.escapeComponent=St,r.unescapeComponent=Qe,Object.defineProperty(r,"__esModule",{value:!0})})}),Oc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Rc();t.code='require("ajv/dist/runtime/uri").default',e.default=t}),Nc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Vn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var a=qu(),n=Lu(),l=Mo(),u=Mu(),s=Se(),c=Hn(),d=xn(),m=je(),h=jc(),g=Oc(),y=(T,L)=>new RegExp(T,L);y.code="new RegExp";var F=["removeAdditional","useDefaults","coerceTypes"],D=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function b(T){var L,V,C,P,A,M,X,ce,de,Fe,Oe,k,U,re,me,N,H,ie,ae,le,_e,we,ke,Le,zt;let wt=T.strict,Ct=(L=T.code)===null||L===void 0?void 0:L.optimize,St=Ct===!0||Ct===void 0?1:Ct||0,Qe=(C=(V=T.code)===null||V===void 0?void 0:V.regExp)!==null&&C!==void 0?C:y,Ie=(P=T.uriResolver)!==null&&P!==void 0?P:g.default;return{strictSchema:(M=(A=T.strictSchema)!==null&&A!==void 0?A:wt)!==null&&M!==void 0?M:!0,strictNumbers:(ce=(X=T.strictNumbers)!==null&&X!==void 0?X:wt)!==null&&ce!==void 0?ce:!0,strictTypes:(Fe=(de=T.strictTypes)!==null&&de!==void 0?de:wt)!==null&&Fe!==void 0?Fe:"log",strictTuples:(k=(Oe=T.strictTuples)!==null&&Oe!==void 0?Oe:wt)!==null&&k!==void 0?k:"log",strictRequired:(re=(U=T.strictRequired)!==null&&U!==void 0?U:wt)!==null&&re!==void 0?re:!1,code:T.code?{...T.code,optimize:St,regExp:Qe}:{optimize:St,regExp:Qe},loopRequired:(me=T.loopRequired)!==null&&me!==void 0?me:_,loopEnum:(N=T.loopEnum)!==null&&N!==void 0?N:_,meta:(H=T.meta)!==null&&H!==void 0?H:!0,messages:(ie=T.messages)!==null&&ie!==void 0?ie:!0,inlineRefs:(ae=T.inlineRefs)!==null&&ae!==void 0?ae:!0,schemaId:(le=T.schemaId)!==null&&le!==void 0?le:"$id",addUsedSchema:(_e=T.addUsedSchema)!==null&&_e!==void 0?_e:!0,validateSchema:(we=T.validateSchema)!==null&&we!==void 0?we:!0,validateFormats:(ke=T.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(Le=T.unicodeRegExp)!==null&&Le!==void 0?Le:!0,int32range:(zt=T.int32range)!==null&&zt!==void 0?zt:!0,uriResolver:Ie}}var w=class{constructor(T={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,T=this.opts={...T,...b(T)};let{es5:L,lines:V}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:D,es5:L,lines:V}),this.logger=K(T.logger);let C=T.validateFormats;T.validateFormats=!1,this.RULES=(0,l.getRules)(),$.call(this,E,T,"NOT SUPPORTED"),$.call(this,f,T,"DEPRECATED","warn"),this._metaOpts=Z.call(this),T.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),T.keywords&&W.call(this,T.keywords),typeof T.meta=="object"&&this.addMetaSchema(T.meta),S.call(this),T.validateFormats=C}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:T,meta:L,schemaId:V}=this.opts,C=h;V==="id"&&(C={...h},C.id=C.$id,delete C.$id),L&&T&&this.addMetaSchema(C,C[V],!1)}defaultMeta(){let{meta:T,schemaId:L}=this.opts;return this.opts.defaultMeta=typeof T=="object"?T[L]||T:void 0}validate(T,L){let V;if(typeof T=="string"){if(V=this.getSchema(T),!V)throw new Error(`no schema with key or ref "${T}"`)}else V=this.compile(T);let C=V(L);return"$async"in V||(this.errors=V.errors),C}compile(T,L){let V=this._addSchema(T,L);return V.validate||this._compileSchemaEnv(V)}compileAsync(T,L){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:V}=this.opts;return C.call(this,T,L);async function C(de,Fe){await P.call(this,de.$schema);let Oe=this._addSchema(de,Fe);return Oe.validate||A.call(this,Oe)}async function P(de){de&&!this.getSchema(de)&&await C.call(this,{$ref:de},!0)}async function A(de){try{return this._compileSchemaEnv(de)}catch(Fe){if(!(Fe instanceof n.default))throw Fe;return M.call(this,Fe),await X.call(this,Fe.missingSchema),A.call(this,de)}}function M({missingSchema:de,missingRef:Fe}){if(this.refs[de])throw new Error(`AnySchema ${de} is loaded but ${Fe} cannot be resolved`)}async function X(de){let Fe=await ce.call(this,de);this.refs[de]||await P.call(this,Fe.$schema),this.refs[de]||this.addSchema(Fe,de,L)}async function ce(de){let Fe=this._loading[de];if(Fe)return Fe;try{return await(this._loading[de]=V(de))}finally{delete this._loading[de]}}}addSchema(T,L,V,C=this.opts.validateSchema){if(Array.isArray(T)){for(let A of T)this.addSchema(A,void 0,V,C);return this}let P;if(typeof T=="object"){let{schemaId:A}=this.opts;if(P=T[A],P!==void 0&&typeof P!="string")throw new Error(`schema ${A} must be string`)}return L=(0,c.normalizeId)(L||P),this._checkUnique(L),this.schemas[L]=this._addSchema(T,V,L,C,!0),this}addMetaSchema(T,L,V=this.opts.validateSchema){return this.addSchema(T,L,!0,V),this}validateSchema(T,L){if(typeof T=="boolean")return!0;let V;if(V=T.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let C=this.validate(V,T);if(!C&&L){let P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return C}getSchema(T){let L;for(;typeof(L=v.call(this,T))=="string";)T=L;if(L===void 0){let{schemaId:V}=this.opts,C=new u.SchemaEnv({schema:{},schemaId:V});if(L=u.resolveSchema.call(this,C,T),!L)return;this.refs[T]=L}return L.validate||this._compileSchemaEnv(L)}removeSchema(T){if(T instanceof RegExp)return this._removeAllSchemas(this.schemas,T),this._removeAllSchemas(this.refs,T),this;switch(typeof T){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let L=v.call(this,T);return typeof L=="object"&&this._cache.delete(L.schema),delete this.schemas[T],delete this.refs[T],this}case"object":{let L=T;this._cache.delete(L);let V=T[this.opts.schemaId];return V&&(V=(0,c.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(T){for(let L of T)this.addKeyword(L);return this}addKeyword(T,L){let V;if(typeof T=="string")V=T,typeof L=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),L.keyword=V);else if(typeof T=="object"&&L===void 0){if(L=T,V=L.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ee.call(this,V,L),!L)return(0,m.eachItem)(V,P=>pe.call(this,P)),this;Y.call(this,L);let C={...L,type:(0,d.getJSONTypes)(L.type),schemaType:(0,d.getJSONTypes)(L.schemaType)};return(0,m.eachItem)(V,C.type.length===0?P=>pe.call(this,P,C):P=>C.type.forEach(A=>pe.call(this,P,C,A))),this}getKeyword(T){let L=this.RULES.all[T];return typeof L=="object"?L.definition:!!L}removeKeyword(T){let{RULES:L}=this;delete L.keywords[T],delete L.all[T];for(let V of L.rules){let C=V.rules.findIndex(P=>P.keyword===T);C>=0&&V.rules.splice(C,1)}return this}addFormat(T,L){return typeof L=="string"&&(L=new RegExp(L)),this.formats[T]=L,this}errorsText(T=this.errors,{separator:L=", ",dataVar:V="data"}={}){return!T||T.length===0?"No errors":T.map(C=>`${V}${C.instancePath} ${C.message}`).reduce((C,P)=>C+L+P)}$dataMetaSchema(T,L){let V=this.RULES.all;T=JSON.parse(JSON.stringify(T));for(let C of L){let P=C.split("/").slice(1),A=T;for(let M of P)A=A[M];for(let M in V){let X=V[M];if(typeof X!="object")continue;let{$data:ce}=X.definition,de=A[M];ce&&de&&(A[M]=ue(de))}}return T}_removeAllSchemas(T,L){for(let V in T){let C=T[V];(!L||L.test(V))&&(typeof C=="string"?delete T[V]:C&&!C.meta&&(this._cache.delete(C.schema),delete T[V]))}}_addSchema(T,L,V,C=this.opts.validateSchema,P=this.opts.addUsedSchema){let A,{schemaId:M}=this.opts;if(typeof T=="object")A=T[M];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof T!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(T);if(X!==void 0)return X;V=(0,c.normalizeId)(A||V);let ce=c.getSchemaRefs.call(this,T,V);return X=new u.SchemaEnv({schema:T,schemaId:M,meta:L,baseId:V,localRefs:ce}),this._cache.set(X.schema,X),P&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=X),C&&this.validateSchema(T,!0),X}_checkUnique(T){if(this.schemas[T]||this.refs[T])throw new Error(`schema with key or id "${T}" already exists`)}_compileSchemaEnv(T){if(T.meta?this._compileMetaSchema(T):u.compileSchema.call(this,T),!T.validate)throw new Error("ajv implementation error");return T.validate}_compileMetaSchema(T){let L=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,T)}finally{this.opts=L}}};e.default=w,w.ValidationError=a.default,w.MissingRefError=n.default;function $(T,L,V,C="error"){for(let P in T){let A=P;A in L&&this.logger[C](`${V}: option ${P}. ${T[A]}`)}}function v(T){return T=(0,c.normalizeId)(T),this.schemas[T]||this.refs[T]}function S(){let T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(let L in T)this.addSchema(T[L],L)}function j(){for(let T in this.opts.formats){let L=this.opts.formats[T];L&&this.addFormat(T,L)}}function W(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let L in T){let V=T[L];V.keyword||(V.keyword=L),this.addKeyword(V)}}function Z(){let T={...this.opts};for(let L of F)delete T[L];return T}var q={log(){},warn(){},error(){}};function K(T){if(T===!1)return q;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}var ne=/^[a-z_$][a-z0-9_$:-]*$/i;function ee(T,L){let{RULES:V}=this;if((0,m.eachItem)(T,C=>{if(V.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!ne.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!L&&L.$data&&!("code"in L||"validate"in L))throw new Error('$data keyword must have "code" or "validate" function')}function pe(T,L,V){var C;let P=L?.post;if(V&&P)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:A}=this,M=P?A.post:A.rules.find(({type:ce})=>ce===V);if(M||(M={type:V,rules:[]},A.rules.push(M)),A.keywords[T]=!0,!L)return;let X={keyword:T,definition:{...L,type:(0,d.getJSONTypes)(L.type),schemaType:(0,d.getJSONTypes)(L.schemaType)}};L.before?Q.call(this,M,X,L.before):M.rules.push(X),A.all[T]=X,(C=L.implements)===null||C===void 0||C.forEach(ce=>this.addKeyword(ce))}function Q(T,L,V){let C=T.rules.findIndex(P=>P.keyword===V);C>=0?T.rules.splice(C,0,L):(T.rules.push(L),this.logger.warn(`rule ${V} is not defined`))}function Y(T){let{metaSchema:L}=T;L!==void 0&&(T.$data&&this.opts.$data&&(L=ue(L)),T.validateSchema=this.compile(L,!0))}var se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(T){return{anyOf:[T,se]}}}),Ic=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}),qc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=Lu(),r=Wt(),a=Se(),n=Br(),l=Mu(),u=je(),s={keyword:"$ref",schemaType:"string",code(m){let{gen:h,schema:g,it:y}=m,{baseId:F,schemaEnv:D,validateName:E,opts:f,self:_}=y,{root:b}=D;if((g==="#"||g==="#/")&&F===b.baseId)return $();let w=l.resolveRef.call(_,b,F,g);if(w===void 0)throw new t.default(y.opts.uriResolver,F,g);if(w instanceof l.SchemaEnv)return v(w);return S(w);function $(){if(D===b)return d(m,E,D,D.$async);let j=h.scopeValue("root",{ref:b});return d(m,(0,a._)`${j}.validate`,b,b.$async)}function v(j){let W=c(m,j);d(m,W,j,j.$async)}function S(j){let W=h.scopeValue("schema",f.code.source===!0?{ref:j,code:(0,a.stringify)(j)}:{ref:j}),Z=h.name("valid"),q=m.subschema({schema:j,dataTypes:[],schemaPath:a.nil,topSchemaRef:W,errSchemaPath:g},Z);m.mergeEvaluated(q),m.ok(Z)}}};function c(m,h){let{gen:g}=m;return h.validate?g.scopeValue("validate",{ref:h.validate}):(0,a._)`${g.scopeValue("wrapper",{ref:h})}.validate`}e.getValidate=c;function d(m,h,g,y){let{gen:F,it:D}=m,{allErrors:E,schemaEnv:f,opts:_}=D,b=_.passContext?n.default.this:a.nil;y?w():$();function w(){if(!f.$async)throw new Error("async schema referenced by sync schema");let j=F.let("valid");F.try(()=>{F.code((0,a._)`await ${(0,r.callValidateCode)(m,h,b)}`),S(h),E||F.assign(j,!0)},W=>{F.if((0,a._)`!(${W} instanceof ${D.ValidationError})`,()=>F.throw(W)),v(W),E||F.assign(j,!1)}),m.ok(j)}function $(){m.result((0,r.callValidateCode)(m,h,b),()=>S(h),()=>v(h))}function v(j){let W=(0,a._)`${j}.errors`;F.assign(n.default.vErrors,(0,a._)`${n.default.vErrors} === null ? ${W} : ${n.default.vErrors}.concat(${W})`),F.assign(n.default.errors,(0,a._)`${n.default.vErrors}.length`)}function S(j){var W;if(!D.opts.unevaluated)return;let Z=(W=g?.validate)===null||W===void 0?void 0:W.evaluated;if(D.props!==!0)if(Z&&!Z.dynamicProps)Z.props!==void 0&&(D.props=u.mergeEvaluated.props(F,Z.props,D.props));else{let q=F.var("props",(0,a._)`${j}.evaluated.props`);D.props=u.mergeEvaluated.props(F,q,D.props,a.Name)}if(D.items!==!0)if(Z&&!Z.dynamicItems)Z.items!==void 0&&(D.items=u.mergeEvaluated.items(F,Z.items,D.items));else{let q=F.var("items",(0,a._)`${j}.evaluated.items`);D.items=u.mergeEvaluated.items(F,q,D.items,a.Name)}}}e.callRef=d,e.default=s}),Lc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ic(),r=qc(),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=a}),Mc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=t.operators,a={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},n={message:({keyword:u,schemaCode:s})=>(0,t.str)`must be ${a[u].okStr} ${s}`,params:({keyword:u,schemaCode:s})=>(0,t._)`{comparison: ${a[u].okStr}, limit: ${s}}`},l={keyword:Object.keys(a),type:"number",schemaType:"number",$data:!0,error:n,code(u){let{keyword:s,data:c,schemaCode:d}=u;u.fail$data((0,t._)`${c} ${a[s].fail} ${d} || isNaN(${c})`)}};e.default=l}),Uc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},a={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(n){let{gen:l,data:u,schemaCode:s,it:c}=n,d=c.opts.multipleOfPrecision,m=l.let("res"),h=d?(0,t._)`Math.abs(Math.round(${m}) - ${m}) > 1e-${d}`:(0,t._)`${m} !== parseInt(${m})`;n.fail$data((0,t._)`(${s} === 0 || (${m} = ${u}/${s}, ${h}))`)}};e.default=a}),Wc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(r){let a=r.length,n=0,l=0,u;for(;l<a;)n++,u=r.charCodeAt(l++),u>=55296&&u<=56319&&l<a&&(u=r.charCodeAt(l),(u&64512)===56320&&l++);return n}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}),zc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Wc(),n={message({keyword:u,schemaCode:s}){let c=u==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${c} than ${s} characters`},params:({schemaCode:u})=>(0,t._)`{limit: ${u}}`},l={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:n,code(u){let{keyword:s,data:c,schemaCode:d,it:m}=u,h=s==="maxLength"?t.operators.GT:t.operators.LT,g=m.opts.unicode===!1?(0,t._)`${c}.length`:(0,t._)`${(0,r.useFunc)(u.gen,a.default)}(${c})`;u.fail$data((0,t._)`${g} ${h} ${d}`)}};e.default=l}),Hc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wt(),r=Se(),a={message:({schemaCode:l})=>(0,r.str)`must match pattern "${l}"`,params:({schemaCode:l})=>(0,r._)`{pattern: ${l}}`},n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:a,code(l){let{data:u,$data:s,schema:c,schemaCode:d,it:m}=l,h=m.opts.unicodeRegExp?"u":"",g=s?(0,r._)`(new RegExp(${d}, ${h}))`:(0,t.usePattern)(l,c);l.fail$data((0,r._)`!${g}.test(${u})`)}};e.default=n}),Vc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message({keyword:n,schemaCode:l}){let u=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${u} than ${l} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},a={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(n){let{keyword:l,data:u,schemaCode:s}=n,c=l==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${u}).length ${c} ${s}`)}};e.default=a}),Gc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wt(),r=Se(),a=je(),n={message:({params:{missingProperty:u}})=>(0,r.str)`must have required property '${u}'`,params:({params:{missingProperty:u}})=>(0,r._)`{missingProperty: ${u}}`},l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:n,code(u){let{gen:s,schema:c,schemaCode:d,data:m,$data:h,it:g}=u,{opts:y}=g;if(!h&&c.length===0)return;let F=c.length>=y.loopRequired;if(g.allErrors?D():E(),y.strictRequired){let b=u.parentSchema.properties,{definedProperties:w}=u.it;for(let $ of c)if(b?.[$]===void 0&&!w.has($)){let v=g.schemaEnv.baseId+g.errSchemaPath,S=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,a.checkStrictMode)(g,S,g.opts.strictRequired)}}function D(){if(F||h)u.block$data(r.nil,f);else for(let b of c)(0,t.checkReportMissingProp)(u,b)}function E(){let b=s.let("missing");if(F||h){let w=s.let("valid",!0);u.block$data(w,()=>_(b,w)),u.ok(w)}else s.if((0,t.checkMissingProp)(u,c,b)),(0,t.reportMissingProp)(u,b),s.else()}function f(){s.forOf("prop",d,b=>{u.setParams({missingProperty:b}),s.if((0,t.noPropertyInData)(s,m,b,y.ownProperties),()=>u.error())})}function _(b,w){u.setParams({missingProperty:b}),s.forOf(b,d,()=>{s.assign(w,(0,t.propertyInData)(s,m,b,y.ownProperties)),s.if((0,r.not)(w),()=>{u.error(),s.break()})},r.nil)}}};e.default=l}),Kc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message({keyword:n,schemaCode:l}){let u=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${u} than ${l} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},a={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(n){let{keyword:l,data:u,schemaCode:s}=n,c=l==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${u}.length ${c} ${s}`)}};e.default=a}),Uu=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wo();t.code='require("ajv/dist/runtime/equal").default',e.default=t}),Yc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=xn(),r=Se(),a=je(),n=Uu(),l={message:({params:{i:s,j:c}})=>(0,r.str)`must NOT have duplicate items (items ## ${c} and ${s} are identical)`,params:({params:{i:s,j:c}})=>(0,r._)`{i: ${s}, j: ${c}}`},u={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:l,code(s){let{gen:c,data:d,$data:m,schema:h,parentSchema:g,schemaCode:y,it:F}=s;if(!m&&!h)return;let D=c.let("valid"),E=g.items?(0,t.getSchemaTypes)(g.items):[];s.block$data(D,f,(0,r._)`${y} === false`),s.ok(D);function f(){let $=c.let("i",(0,r._)`${d}.length`),v=c.let("j");s.setParams({i:$,j:v}),c.assign(D,!0),c.if((0,r._)`${$} > 1`,()=>(_()?b:w)($,v))}function _(){return E.length>0&&!E.some($=>$==="object"||$==="array")}function b($,v){let S=c.name("item"),j=(0,t.checkDataTypes)(E,S,F.opts.strictNumbers,t.DataType.Wrong),W=c.const("indices",(0,r._)`{}`);c.for((0,r._)`;${$}--;`,()=>{c.let(S,(0,r._)`${d}[${$}]`),c.if(j,(0,r._)`continue`),E.length>1&&c.if((0,r._)`typeof ${S} == "string"`,(0,r._)`${S} += "_"`),c.if((0,r._)`typeof ${W}[${S}] == "number"`,()=>{c.assign(v,(0,r._)`${W}[${S}]`),s.error(),c.assign(D,!1).break()}).code((0,r._)`${W}[${S}] = ${$}`)})}function w($,v){let S=(0,a.useFunc)(c,n.default),j=c.name("outer");c.label(j).for((0,r._)`;${$}--;`,()=>c.for((0,r._)`${v} = ${$}; ${v}--;`,()=>c.if((0,r._)`${S}(${d}[${$}], ${d}[${v}])`,()=>{s.error(),c.assign(D,!1).break(j)})))}}};e.default=u}),Qc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Uu(),n={message:"must be equal to constant",params:({schemaCode:u})=>(0,t._)`{allowedValue: ${u}}`},l={keyword:"const",$data:!0,error:n,code(u){let{gen:s,data:c,$data:d,schemaCode:m,schema:h}=u;d||h&&typeof h=="object"?u.fail$data((0,t._)`!${(0,r.useFunc)(s,a.default)}(${c}, ${m})`):u.fail((0,t._)`${h} !== ${c}`)}};e.default=l}),Jc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Uu(),n={message:"must be equal to one of the allowed values",params:({schemaCode:u})=>(0,t._)`{allowedValues: ${u}}`},l={keyword:"enum",schemaType:"array",$data:!0,error:n,code(u){let{gen:s,data:c,$data:d,schema:m,schemaCode:h,it:g}=u;if(!d&&m.length===0)throw new Error("enum must have non-empty array");let y=m.length>=g.opts.loopEnum,F,D=()=>F??(F=(0,r.useFunc)(s,a.default)),E;if(y||d)E=s.let("valid"),u.block$data(E,f);else{if(!Array.isArray(m))throw new Error("ajv implementation error");let b=s.const("vSchema",h);E=(0,t.or)(...m.map((w,$)=>_(b,$)))}u.pass(E);function f(){s.assign(E,!1),s.forOf("v",h,b=>s.if((0,t._)`${D()}(${c}, ${b})`,()=>s.assign(E,!0).break()))}function _(b,w){let $=m[w];return typeof $=="object"&&$!==null?(0,t._)`${D()}(${c}, ${b}[${w}])`:(0,t._)`${c} === ${$}`}}};e.default=l}),Zc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Mc(),r=Uc(),a=zc(),n=Hc(),l=Vc(),u=Gc(),s=Kc(),c=Yc(),d=Qc(),m=Jc(),h=[t.default,r.default,a.default,n.default,l.default,u.default,s.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,m.default];e.default=h}),zo=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Se(),r=je(),a={message:({params:{len:u}})=>(0,t.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,t._)`{limit: ${u}}`},n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:a,code(u){let{parentSchema:s,it:c}=u,{items:d}=s;if(!Array.isArray(d)){(0,r.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}l(u,d)}};function l(u,s){let{gen:c,schema:d,data:m,keyword:h,it:g}=u;g.items=!0;let y=c.const("len",(0,t._)`${m}.length`);if(d===!1)u.setParams({len:s.length}),u.pass((0,t._)`${y} <= ${s.length}`);else if(typeof d=="object"&&!(0,r.alwaysValidSchema)(g,d)){let D=c.var("valid",(0,t._)`${y} <= ${s.length}`);c.if((0,t.not)(D),()=>F(D)),u.ok(D)}function F(D){c.forRange("i",s.length,y,E=>{u.subschema({keyword:h,dataProp:E,dataPropType:r.Type.Num},D),g.allErrors||c.if((0,t.not)(D),()=>c.break())})}}e.validateAdditionalItems=l,e.default=n}),Ho=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Se(),r=je(),a=Wt(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(u){let{schema:s,it:c}=u;if(Array.isArray(s))return l(u,"additionalItems",s);c.items=!0,!(0,r.alwaysValidSchema)(c,s)&&u.ok((0,a.validateArray)(u))}};function l(u,s,c=u.schema){let{gen:d,parentSchema:m,data:h,keyword:g,it:y}=u;E(m),y.opts.unevaluated&&c.length&&y.items!==!0&&(y.items=r.mergeEvaluated.items(d,c.length,y.items));let F=d.name("valid"),D=d.const("len",(0,t._)`${h}.length`);c.forEach((f,_)=>{(0,r.alwaysValidSchema)(y,f)||(d.if((0,t._)`${D} > ${_}`,()=>u.subschema({keyword:g,schemaProp:_,dataProp:_},F)),u.ok(F))});function E(f){let{opts:_,errSchemaPath:b}=y,w=c.length,$=w===f.minItems&&(w===f.maxItems||f[s]===!1);if(_.strictTuples&&!$){let v=`"${g}" is ${w}-tuple, but minItems or maxItems/${s} are not specified or different at path "${b}"`;(0,r.checkStrictMode)(y,v,_.strictTuples)}}}e.validateTuple=l,e.default=n}),Xc=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ho(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,t.validateTuple)(a,"items")};e.default=r}),ed=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a=Wt(),n=zo(),l={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},u={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:l,code(s){let{schema:c,parentSchema:d,it:m}=s,{prefixItems:h}=d;m.items=!0,!(0,r.alwaysValidSchema)(m,c)&&(h?(0,n.validateAdditionalItems)(s,h):s.ok((0,a.validateArray)(s)))}};e.default=u}),td=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:({params:{min:l,max:u}})=>u===void 0?(0,t.str)`must contain at least ${l} valid item(s)`:(0,t.str)`must contain at least ${l} and no more than ${u} valid item(s)`,params:({params:{min:l,max:u}})=>u===void 0?(0,t._)`{minContains: ${l}}`:(0,t._)`{minContains: ${l}, maxContains: ${u}}`},n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:a,code(l){let{gen:u,schema:s,parentSchema:c,data:d,it:m}=l,h,g,{minContains:y,maxContains:F}=c;m.opts.next?(h=y===void 0?1:y,g=F):h=1;let D=u.const("len",(0,t._)`${d}.length`);if(l.setParams({min:h,max:g}),g===void 0&&h===0){(0,r.checkStrictMode)(m,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(g!==void 0&&h>g){(0,r.checkStrictMode)(m,'"minContains" > "maxContains" is always invalid'),l.fail();return}if((0,r.alwaysValidSchema)(m,s)){let w=(0,t._)`${D} >= ${h}`;g!==void 0&&(w=(0,t._)`${w} && ${D} <= ${g}`),l.pass(w);return}m.items=!0;let E=u.name("valid");g===void 0&&h===1?_(E,()=>u.if(E,()=>u.break())):h===0?(u.let(E,!0),g!==void 0&&u.if((0,t._)`${d}.length > 0`,f)):(u.let(E,!1),f()),l.result(E,()=>l.reset());function f(){let w=u.name("_valid"),$=u.let("count",0);_(w,()=>u.if(w,()=>b($)))}function _(w,$){u.forRange("i",0,D,v=>{l.subschema({keyword:"contains",dataProp:v,dataPropType:r.Type.Num,compositeRule:!0},w),$()})}function b(w){u.code((0,t._)`${w}++`),g===void 0?u.if((0,t._)`${w} >= ${h}`,()=>u.assign(E,!0).break()):(u.if((0,t._)`${w} > ${g}`,()=>u.assign(E,!1).break()),h===1?u.assign(E,!0):u.if((0,t._)`${w} >= ${h}`,()=>u.assign(E,!0)))}}};e.default=n}),rd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Se(),r=je(),a=Wt();e.error={message:({params:{property:c,depsCount:d,deps:m}})=>{let h=d===1?"property":"properties";return(0,t.str)`must have ${h} ${m} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:m,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${d},
    deps: ${m}}`};var n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){let[d,m]=l(c);u(c,d),s(c,m)}};function l({schema:c}){let d={},m={};for(let h in c){if(h==="__proto__")continue;let g=Array.isArray(c[h])?d:m;g[h]=c[h]}return[d,m]}function u(c,d=c.schema){let{gen:m,data:h,it:g}=c;if(Object.keys(d).length===0)return;let y=m.let("missing");for(let F in d){let D=d[F];if(D.length===0)continue;let E=(0,a.propertyInData)(m,h,F,g.opts.ownProperties);c.setParams({property:F,depsCount:D.length,deps:D.join(", ")}),g.allErrors?m.if(E,()=>{for(let f of D)(0,a.checkReportMissingProp)(c,f)}):(m.if((0,t._)`${E} && (${(0,a.checkMissingProp)(c,D,y)})`),(0,a.reportMissingProp)(c,y),m.else())}}e.validatePropertyDeps=u;function s(c,d=c.schema){let{gen:m,data:h,keyword:g,it:y}=c,F=m.name("valid");for(let D in d)(0,r.alwaysValidSchema)(y,d[D])||(m.if((0,a.propertyInData)(m,h,D,y.opts.ownProperties),()=>{let E=c.subschema({keyword:g,schemaProp:D},F);c.mergeValidEvaluated(E,F)},()=>m.var(F,!0)),c.ok(F))}e.validateSchemaDeps=s,e.default=n}),id=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:"property name must be valid",params:({params:l})=>(0,t._)`{propertyName: ${l.propertyName}}`},n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:a,code(l){let{gen:u,schema:s,data:c,it:d}=l;if((0,r.alwaysValidSchema)(d,s))return;let m=u.name("valid");u.forIn("key",c,h=>{l.setParams({propertyName:h}),l.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},m),u.if((0,t.not)(m),()=>{l.error(!0),d.allErrors||u.break()})}),l.ok(m)}};e.default=n}),Vo=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wt(),r=Se(),a=Br(),n=je(),l={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},u={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:l,code(s){let{gen:c,schema:d,parentSchema:m,data:h,errsCount:g,it:y}=s;if(!g)throw new Error("ajv implementation error");let{allErrors:F,opts:D}=y;if(y.props=!0,D.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(y,d))return;let E=(0,t.allSchemaProperties)(m.properties),f=(0,t.allSchemaProperties)(m.patternProperties);_(),s.ok((0,r._)`${g} === ${a.default.errors}`);function _(){c.forIn("key",h,S=>{!E.length&&!f.length?$(S):c.if(b(S),()=>$(S))})}function b(S){let j;if(E.length>8){let W=(0,n.schemaRefOrVal)(y,m.properties,"properties");j=(0,t.isOwnProperty)(c,W,S)}else E.length?j=(0,r.or)(...E.map(W=>(0,r._)`${S} === ${W}`)):j=r.nil;return f.length&&(j=(0,r.or)(j,...f.map(W=>(0,r._)`${(0,t.usePattern)(s,W)}.test(${S})`))),(0,r.not)(j)}function w(S){c.code((0,r._)`delete ${h}[${S}]`)}function $(S){if(D.removeAdditional==="all"||D.removeAdditional&&d===!1){w(S);return}if(d===!1){s.setParams({additionalProperty:S}),s.error(),F||c.break();return}if(typeof d=="object"&&!(0,n.alwaysValidSchema)(y,d)){let j=c.name("valid");D.removeAdditional==="failing"?(v(S,j,!1),c.if((0,r.not)(j),()=>{s.reset(),w(S)})):(v(S,j),F||c.if((0,r.not)(j),()=>c.break()))}}function v(S,j,W){let Z={keyword:"additionalProperties",dataProp:S,dataPropType:n.Type.Str};W===!1&&Object.assign(Z,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(Z,j)}}};e.default=u}),nd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Vn(),r=Wt(),a=je(),n=Vo(),l={keyword:"properties",type:"object",schemaType:"object",code(u){let{gen:s,schema:c,parentSchema:d,data:m,it:h}=u;h.opts.removeAdditional==="all"&&d.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(h,n.default,"additionalProperties"));let g=(0,r.allSchemaProperties)(c);for(let f of g)h.definedProperties.add(f);h.opts.unevaluated&&g.length&&h.props!==!0&&(h.props=a.mergeEvaluated.props(s,(0,a.toHash)(g),h.props));let y=g.filter(f=>!(0,a.alwaysValidSchema)(h,c[f]));if(y.length===0)return;let F=s.name("valid");for(let f of y)D(f)?E(f):(s.if((0,r.propertyInData)(s,m,f,h.opts.ownProperties)),E(f),h.allErrors||s.else().var(F,!0),s.endIf()),u.it.definedProperties.add(f),u.ok(F);function D(f){return h.opts.useDefaults&&!h.compositeRule&&c[f].default!==void 0}function E(f){u.subschema({keyword:"properties",schemaProp:f,dataProp:f},F)}}};e.default=l}),ud=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wt(),r=Se(),a=je(),n=je(),l={keyword:"patternProperties",type:"object",schemaType:"object",code(u){let{gen:s,schema:c,data:d,parentSchema:m,it:h}=u,{opts:g}=h,y=(0,t.allSchemaProperties)(c),F=y.filter($=>(0,a.alwaysValidSchema)(h,c[$]));if(y.length===0||F.length===y.length&&(!h.opts.unevaluated||h.props===!0))return;let D=g.strictSchema&&!g.allowMatchingProperties&&m.properties,E=s.name("valid");h.props!==!0&&!(h.props instanceof r.Name)&&(h.props=(0,n.evaluatedPropsToName)(s,h.props));let{props:f}=h;_();function _(){for(let $ of y)D&&b($),h.allErrors?w($):(s.var(E,!0),w($),s.if(E))}function b($){for(let v in D)new RegExp($).test(v)&&(0,a.checkStrictMode)(h,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function w($){s.forIn("key",d,v=>{s.if((0,r._)`${(0,t.usePattern)(u,$)}.test(${v})`,()=>{let S=F.includes($);S||u.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:n.Type.Str},E),h.opts.unevaluated&&f!==!0?s.assign((0,r._)`${f}[${v}]`,!0):!S&&!h.allErrors&&s.if((0,r.not)(E),()=>s.break())})})}}};e.default=l}),ad=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=je(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:n,schema:l,it:u}=a;if((0,t.alwaysValidSchema)(u,l)){a.fail();return}let s=n.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),a.failResult(s,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}};e.default=r}),od=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wt(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}),sd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:"must match exactly one schema in oneOf",params:({params:l})=>(0,t._)`{passingSchemas: ${l.passing}}`},n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:a,code(l){let{gen:u,schema:s,parentSchema:c,it:d}=l;if(!Array.isArray(s))throw new Error("ajv implementation error");if(d.opts.discriminator&&c.discriminator)return;let m=s,h=u.let("valid",!1),g=u.let("passing",null),y=u.name("_valid");l.setParams({passing:g}),u.block(F),l.result(h,()=>l.reset(),()=>l.error(!0));function F(){m.forEach((D,E)=>{let f;(0,r.alwaysValidSchema)(d,D)?u.var(y,!0):f=l.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},y),E>0&&u.if((0,t._)`${y} && ${h}`).assign(h,!1).assign(g,(0,t._)`[${g}, ${E}]`).else(),u.if(y,()=>{u.assign(h,!0),u.assign(g,E),f&&l.mergeEvaluated(f,t.Name)})})}}};e.default=n}),ld=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=je(),r={keyword:"allOf",schemaType:"array",code(a){let{gen:n,schema:l,it:u}=a;if(!Array.isArray(l))throw new Error("ajv implementation error");let s=n.name("valid");l.forEach((c,d)=>{if((0,t.alwaysValidSchema)(u,c))return;let m=a.subschema({keyword:"allOf",schemaProp:d},s);a.ok(s),a.mergeEvaluated(m)})}};e.default=r}),cd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=je(),a={message:({params:u})=>(0,t.str)`must match "${u.ifClause}" schema`,params:({params:u})=>(0,t._)`{failingKeyword: ${u.ifClause}}`},n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:a,code(u){let{gen:s,parentSchema:c,it:d}=u;c.then===void 0&&c.else===void 0&&(0,r.checkStrictMode)(d,'"if" without "then" and "else" is ignored');let m=l(d,"then"),h=l(d,"else");if(!m&&!h)return;let g=s.let("valid",!0),y=s.name("_valid");if(F(),u.reset(),m&&h){let E=s.let("ifClause");u.setParams({ifClause:E}),s.if(y,D("then",E),D("else",E))}else m?s.if(y,D("then")):s.if((0,t.not)(y),D("else"));u.pass(g,()=>u.error(!0));function F(){let E=u.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},y);u.mergeEvaluated(E)}function D(E,f){return()=>{let _=u.subschema({keyword:E},y);s.assign(g,y),u.mergeValidEvaluated(_,g),f?s.assign(f,(0,t._)`${E}`):u.setParams({ifClause:E})}}}};function l(u,s){let c=u.schema[s];return c!==void 0&&!(0,r.alwaysValidSchema)(u,c)}e.default=n}),dd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=je(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:n,it:l}){n.if===void 0&&(0,t.checkStrictMode)(l,`"${a}" without "if" is ignored`)}};e.default=r}),pd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=zo(),r=Xc(),a=Ho(),n=ed(),l=td(),u=rd(),s=id(),c=Vo(),d=nd(),m=ud(),h=ad(),g=od(),y=sd(),F=ld(),D=cd(),E=dd();function f(_=!1){let b=[h.default,g.default,y.default,F.default,D.default,E.default,s.default,c.default,u.default,d.default,m.default];return _?b.push(r.default,n.default):b.push(t.default,a.default),b.push(l.default),b}e.default=f}),fd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r={message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},a={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(n,l){let{gen:u,data:s,$data:c,schema:d,schemaCode:m,it:h}=n,{opts:g,errSchemaPath:y,schemaEnv:F,self:D}=h;if(!g.validateFormats)return;c?E():f();function E(){let _=u.scopeValue("formats",{ref:D.formats,code:g.code.formats}),b=u.const("fDef",(0,t._)`${_}[${m}]`),w=u.let("fType"),$=u.let("format");u.if((0,t._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>u.assign(w,(0,t._)`${b}.type || "string"`).assign($,(0,t._)`${b}.validate`),()=>u.assign(w,(0,t._)`"string"`).assign($,b)),n.fail$data((0,t.or)(v(),S()));function v(){return g.strictSchema===!1?t.nil:(0,t._)`${m} && !${$}`}function S(){let j=F.$async?(0,t._)`(${b}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,W=(0,t._)`(typeof ${$} == "function" ? ${j} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${w} === ${l} && !${W}`}}function f(){let _=D.formats[d];if(!_){v();return}if(_===!0)return;let[b,w,$]=S(_);b===l&&n.pass(j());function v(){if(g.strictSchema===!1){D.logger.warn(W());return}throw new Error(W());function W(){return`unknown format "${d}" ignored in schema at path "${y}"`}}function S(W){let Z=W instanceof RegExp?(0,t.regexpCode)(W):g.code.formats?(0,t._)`${g.code.formats}${(0,t.getProperty)(d)}`:void 0,q=u.scopeValue("formats",{key:d,ref:W,code:Z});return typeof W=="object"&&!(W instanceof RegExp)?[W.type||"string",W.validate,(0,t._)`${q}.validate`]:["string",W,q]}function j(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!F.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof w=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=a}),hd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=fd(),r=[t.default];e.default=r}),md=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),yd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Lc(),r=Zc(),a=pd(),n=hd(),l=md(),u=[t.default,r.default,(0,a.default)(),n.default,l.metadataVocabulary,l.contentVocabulary];e.default=u}),gd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t=e.DiscrError||(e.DiscrError={}))}),bd=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Se(),r=gd(),a=Mu(),n=je(),l={message:({params:{discrError:s,tagName:c}})=>s===r.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:s,tag:c,tagName:d}})=>(0,t._)`{error: ${s}, tag: ${d}, tagValue: ${c}}`},u={keyword:"discriminator",type:"object",schemaType:"object",error:l,code(s){let{gen:c,data:d,schema:m,parentSchema:h,it:g}=s,{oneOf:y}=h;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");let F=m.propertyName;if(typeof F!="string")throw new Error("discriminator: requires propertyName");if(m.mapping)throw new Error("discriminator: mapping is not supported");if(!y)throw new Error("discriminator: requires oneOf keyword");let D=c.let("valid",!1),E=c.const("tag",(0,t._)`${d}${(0,t.getProperty)(F)}`);c.if((0,t._)`typeof ${E} == "string"`,()=>f(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:E,tagName:F})),s.ok(D);function f(){let w=b();c.if(!1);for(let $ in w)c.elseIf((0,t._)`${E} === ${$}`),c.assign(D,_(w[$]));c.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:E,tagName:F}),c.endIf()}function _(w){let $=c.name("valid"),v=s.subschema({keyword:"oneOf",schemaProp:w},$);return s.mergeEvaluated(v,t.Name),$}function b(){var w;let $={},v=j(h),S=!0;for(let q=0;q<y.length;q++){let K=y[q];K?.$ref&&!(0,n.schemaHasRulesButRef)(K,g.self.RULES)&&(K=a.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,K?.$ref),K instanceof a.SchemaEnv&&(K=K.schema));let ne=(w=K?.properties)===null||w===void 0?void 0:w[F];if(typeof ne!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${F}"`);S=S&&(v||j(K)),W(ne,q)}if(!S)throw new Error(`discriminator: "${F}" must be required`);return $;function j({required:q}){return Array.isArray(q)&&q.includes(F)}function W(q,K){if(q.const)Z(q.const,K);else if(q.enum)for(let ne of q.enum)Z(ne,K);else throw new Error(`discriminator: "properties/${F}" must have "const" or "enum"`)}function Z(q,K){if(typeof q!="string"||q in $)throw new Error(`discriminator: "${F}" values must be unique strings`);$[q]=K}}}};e.default=u}),Ed=oe((e,t)=>{t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),vd=oe((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Nc(),a=yd(),n=bd(),l=Ed(),u=["/properties"],s="http://json-schema.org/draft-07/schema",c=class extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let y=this.opts.$data?this.$dataMetaSchema(l,u):l;this.addMetaSchema(y,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var d=Vn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var m=Se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var h=qu();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var g=Lu();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return g.default}})}),Fd=oe((e,t)=>{"use strict";t.exports=function(r){if(r&&r.length)for(let l of r){let u;switch(l.keyword){case"additionalItems":case"items":u="";var n=l.params.limit;u+="\u4E0D\u5141\u8BB8\u8D85\u8FC7"+n+"\u4E2A\u5143\u7D20";break;case"additionalProperties":u="\u4E0D\u5141\u8BB8\u6709\u989D\u5916\u7684\u5C5E\u6027";break;case"anyOf":u="\u6570\u636E\u5E94\u4E3A anyOf \u6240\u6307\u5B9A\u7684\u5176\u4E2D\u4E00\u4E2A";break;case"const":u="\u5E94\u5F53\u7B49\u4E8E\u5E38\u91CF";break;case"contains":u="\u5E94\u5F53\u5305\u542B\u4E00\u4E2A\u6709\u6548\u9879";break;case"dependencies":case"dependentRequired":u="";var n=l.params.depsCount;u+="\u5E94\u5F53\u62E5\u6709\u5C5E\u6027"+l.params.property+"\u7684\u4F9D\u8D56\u5C5E\u6027"+l.params.deps;break;case"discriminator":switch(l.params.error){case"tag":u='\u6807\u7B7E "'+l.params.tag+'" \u7684\u7C7B\u578B\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32';break;case"mapping":u='\u6807\u7B7E "'+l.params.tag+'" \u7684\u503C\u5FC5\u987B\u5728 oneOf \u4E4B\u4E2D';break;default:u='\u5E94\u5F53\u901A\u8FC7 "'+l.keyword+' \u5173\u952E\u8BCD\u6821\u9A8C"'}break;case"enum":u="\u5E94\u5F53\u662F\u9884\u8BBE\u5B9A\u7684\u679A\u4E3E\u503C\u4E4B\u4E00";break;case"false schema":u="\u5E03\u5C14\u6A21\u5F0F\u51FA\u9519";break;case"format":u='\u5E94\u5F53\u5339\u914D\u683C\u5F0F "'+l.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":u="";var a=l.params.comparison+" "+l.params.limit;u+="\u5E94\u5F53\u662F "+a;break;case"formatMinimum":case"formatExclusiveMinimum":u="";var a=l.params.comparison+" "+l.params.limit;u+="\u5E94\u5F53\u662F "+a;break;case"if":u='\u5E94\u5F53\u5339\u914D\u6A21\u5F0F "'+l.params.failingKeyword+'" ';break;case"maximum":case"exclusiveMaximum":u="";var a=l.params.comparison+" "+l.params.limit;u+="\u5E94\u5F53\u4E3A "+a;break;case"maxItems":u="";var n=l.params.limit;u+="\u4E0D\u5E94\u591A\u4E8E "+n+" \u4E2A\u9879";break;case"maxLength":u="";var n=l.params.limit;u+="\u4E0D\u5E94\u591A\u4E8E "+n+" \u4E2A\u5B57\u7B26";break;case"maxProperties":u="";var n=l.params.limit;u+="\u4E0D\u5E94\u6709\u591A\u4E8E "+n+" \u4E2A\u5C5E\u6027";break;case"minimum":case"exclusiveMinimum":u="";var a=l.params.comparison+" "+l.params.limit;u+="\u5E94\u5F53\u4E3A "+a;break;case"minItems":u="";var n=l.params.limit;u+="\u4E0D\u5E94\u5C11\u4E8E "+n+" \u4E2A\u9879";break;case"minLength":u="";var n=l.params.limit;u+="\u4E0D\u5E94\u5C11\u4E8E "+n+" \u4E2A\u5B57\u7B26";break;case"minProperties":u="";var n=l.params.limit;u+="\u4E0D\u5E94\u6709\u5C11\u4E8E "+n+" \u4E2A\u5C5E\u6027";break;case"multipleOf":u="\u5E94\u5F53\u662F "+l.params.multipleOf+" \u7684\u6574\u6570\u500D";break;case"not":u='\u4E0D\u5E94\u5F53\u5339\u914D "not" schema';break;case"oneOf":u='\u53EA\u80FD\u5339\u914D\u4E00\u4E2A "oneOf" \u4E2D\u7684 schema';break;case"pattern":u='\u5E94\u5F53\u5339\u914D\u6A21\u5F0F "'+l.params.pattern+'"';break;case"patternRequired":u="\u5E94\u5F53\u6709\u5C5E\u6027\u5339\u914D\u6A21\u5F0F "+l.params.missingPattern;break;case"propertyNames":u="\u5C5E\u6027\u540D \u65E0\u6548";break;case"required":u="\u5E94\u5F53\u6709\u5FC5\u9700\u5C5E\u6027 "+l.params.missingProperty;break;case"type":u="\u5E94\u5F53\u662F "+l.params.type+" \u7C7B\u578B";break;case"unevaluatedItems":u="";var n=l.params.len;u+=" \u4E0D\u5141\u8BB8\u6709\u8D85\u8FC7 "+n+" \u4E2A\u5143\u7D20";break;case"unevaluatedProperties":u="\u4E0D\u5141\u8BB8\u5B58\u5728\u672A\u6C42\u503C\u7684\u5C5E\u6027";break;case"uniqueItems":u="\u4E0D\u5E94\u5F53\u542B\u6709\u91CD\u590D\u9879 (\u7B2C "+l.params.j+" \u9879\u4E0E\u7B2C "+l.params.i+" \u9879\u662F\u91CD\u590D\u7684)";break;default:u='\u5E94\u5F53\u901A\u8FC7 "'+l.keyword+' \u5173\u952E\u8BCD\u6821\u9A8C"'}l.message=u}}}),_d=oe((e,t)=>{t.exports=[{$id:"Op",type:"number",enum:[0,1,2,3,4],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Event",type:"object",properties:{id:{description:"\u4E8B\u4EF6 ID",type:"number"},type:{description:"\u4E8B\u4EF6\u7C7B\u578B",type:"string"},platform:{description:"\u63A5\u6536\u8005\u7684\u5E73\u53F0\u540D\u79F0",type:"string"},self_id:{description:"\u63A5\u6536\u8005\u7684\u5E73\u53F0\u8D26\u53F7",type:"string"},timestamp:{description:"\u4E8B\u4EF6\u7684\u65F6\u95F4\u6233",type:"number"},channel:{$ref:"#/definitions/Channel",description:"\u4E8B\u4EF6\u6240\u5C5E\u7684\u9891\u9053"},guild:{$ref:"#/definitions/Guild",description:"\u4E8B\u4EF6\u6240\u5C5E\u7684\u7FA4\u7EC4"},login:{$ref:"#/definitions/Login",description:"\u4E8B\u4EF6\u7684\u767B\u5F55\u4FE1\u606F"},member:{$ref:"#/definitions/GuildMember",description:"\u4E8B\u4EF6\u7684\u76EE\u6807\u6210\u5458"},message:{$ref:"#/definitions/Message",description:"\u4E8B\u4EF6\u7684\u6D88\u606F"},operator:{$ref:"#/definitions/User",description:"\u4E8B\u4EF6\u7684\u64CD\u4F5C\u8005"},role:{$ref:"#/definitions/GuildRole",description:"\u4E8B\u4EF6\u7684\u76EE\u6807\u89D2\u8272"},user:{$ref:"#/definitions/User",description:"\u4E8B\u4EF6\u7684\u76EE\u6807\u7528\u6237"}},defaultProperties:[],additionalProperties:!1,required:["id","platform","self_id","timestamp","type"],definitions:{Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]},Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]},Login:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},self_id:{description:"\u5E73\u53F0\u8D26\u53F7",type:"string"},platform:{description:"\u5E73\u53F0\u540D\u79F0",type:"string"},status:{$ref:"#/definitions/LoginStatus",description:"\u5728\u7EBF\u72B6\u6001"}},defaultProperties:[],additionalProperties:!1,required:["status"]},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]},LoginStatus:{type:"number",enum:[0,1,2,3,4]},GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},Message:{type:"object",properties:{id:{description:"\u6D88\u606F ID",type:"string"},content:{description:"\u6D88\u606F\u5185\u5BB9",type:"string"},channel:{$ref:"#/definitions/Channel",description:"\u9891\u9053\u5BF9\u8C61"},guild:{$ref:"#/definitions/Guild",description:"\u7FA4\u7EC4\u5BF9\u8C61"},member:{$ref:"#/definitions/GuildMember",description:"\u6210\u5458\u5BF9\u8C61"},user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},created_at:{description:"\u6D88\u606F\u53D1\u9001\u7684\u65F6\u95F4\u6233",type:"number"},updated_at:{description:"\u6D88\u606F\u4FEE\u6539\u7684\u65F6\u95F4\u6233",type:"number"}},defaultProperties:[],additionalProperties:!1,required:["content","id"]},GuildRole:{type:"object",properties:{id:{description:"\u89D2\u8272 ID",type:"string"},name:{description:"\u89D2\u8272\u540D\u79F0",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Channel",type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"],definitions:{ChannelType:{type:"number",enum:[0,1,2,3]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelType",type:"number",enum:[0,1,2,3],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Guild",type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Login",type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},self_id:{description:"\u5E73\u53F0\u8D26\u53F7",type:"string"},platform:{description:"\u5E73\u53F0\u540D\u79F0",type:"string"},status:{$ref:"#/definitions/LoginStatus",description:"\u5728\u7EBF\u72B6\u6001"}},defaultProperties:[],additionalProperties:!1,required:["status"],definitions:{User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]},LoginStatus:{type:"number",enum:[0,1,2,3,4]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"LoginStatus",type:"number",enum:[0,1,2,3,4],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMember",type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,definitions:{User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Message",type:"object",properties:{id:{description:"\u6D88\u606F ID",type:"string"},content:{description:"\u6D88\u606F\u5185\u5BB9",type:"string"},channel:{$ref:"#/definitions/Channel",description:"\u9891\u9053\u5BF9\u8C61"},guild:{$ref:"#/definitions/Guild",description:"\u7FA4\u7EC4\u5BF9\u8C61"},member:{$ref:"#/definitions/GuildMember",description:"\u6210\u5458\u5BF9\u8C61"},user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},created_at:{description:"\u6D88\u606F\u53D1\u9001\u7684\u65F6\u95F4\u6233",type:"number"},updated_at:{description:"\u6D88\u606F\u4FEE\u6539\u7684\u65F6\u95F4\u6233",type:"number"}},defaultProperties:[],additionalProperties:!1,required:["content","id"],definitions:{Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]},Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]},GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"User",type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildRole",type:"object",properties:{id:{description:"\u89D2\u8272 ID",type:"string"},name:{description:"\u89D2\u8272\u540D\u79F0",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"Next",type:"object",properties:{next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageCreatePayload",type:"object",properties:{channel_id:{title:"\u76EE\u6807\u9891\u9053",description:`\u6D88\u606F\u8981\u53D1\u9001\u5230\u7684\u9891\u9053\u3002

\u5728 Chronocat\uFF0C\u7FA4\u804A\u5BF9\u5E94\u7684\u9891\u9053\u4E3A\u7FA4\u53F7\uFF0C
\u79C1\u804A\u5BF9\u5E94\u7684\u9891\u9053\u4E3A private: \u540E\u8DDF QQ \u53F7\u3002`,type:"string"},content:{title:"\u6D88\u606F\u5185\u5BB9",description:`\u6D88\u606F\u7684\u5185\u5BB9\u3002

\u683C\u5F0F\u4E3A Satori \u6D88\u606F\u5143\u7D20\u5B57\u7B26\u4E32\u3002`,type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","content"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ApprovePayload",type:"object",properties:{message_id:{description:"\u8BF7\u6C42 ID",type:"string"},approve:{description:"\u662F\u5426\u901A\u8FC7\u8BF7\u6C42",type:"boolean"},comment:{description:"\u5907\u6CE8\u4FE1\u606F",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["approve","comment","message_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"FriendListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/User"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/Guild"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"UserPayload",type:"object",properties:{user_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberListPayload",type:"object",properties:{guild_id:{type:"string"},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/GuildMember"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildRemovePayload",type:"object",properties:{guild_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageDeletePayload",type:"object",properties:{channel_id:{type:"string"},message_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","message_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageGetPayload",type:"object",properties:{channel_id:{type:"string"},message_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","message_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageListPayload",type:"object",properties:{channel_id:{type:"string"},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"MessageListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/Message"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{Message:{type:"object",properties:{id:{description:"\u6D88\u606F ID",type:"string"},content:{description:"\u6D88\u606F\u5185\u5BB9",type:"string"},channel:{$ref:"#/definitions/Channel",description:"\u9891\u9053\u5BF9\u8C61"},guild:{$ref:"#/definitions/Guild",description:"\u7FA4\u7EC4\u5BF9\u8C61"},member:{$ref:"#/definitions/GuildMember",description:"\u6210\u5458\u5BF9\u8C61"},user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},created_at:{description:"\u6D88\u606F\u53D1\u9001\u7684\u65F6\u95F4\u6233",type:"number"},updated_at:{description:"\u6D88\u606F\u4FEE\u6539\u7684\u65F6\u95F4\u6233",type:"number"}},defaultProperties:[],additionalProperties:!1,required:["content","id"]},Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]},Guild:{type:"object",properties:{id:{description:"\u7FA4\u7EC4 ID",type:"string"},name:{description:"\u7FA4\u7EC4\u540D\u79F0",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u7FA4\u7EC4\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","name"]},GuildMember:{type:"object",properties:{user:{$ref:"#/definitions/User",description:"\u7528\u6237\u5BF9\u8C61"},nick:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u540D\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5728\u7FA4\u7EC4\u4E2D\u7684\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1},User:{type:"object",properties:{id:{description:"\u7528\u6237 ID",type:"string"},name:{description:"\u7528\u6237\u540D\u79F0",type:"string"},nick:{description:"\u7528\u6237\u6635\u79F0",type:"string"},avatar:{description:"\u7528\u6237\u5934\u50CF",type:"string"},is_bot:{description:"\u662F\u5426\u4E3A\u673A\u5668\u4EBA",type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["id"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelMutePayload",type:"object",properties:{channel_id:{type:"string"},enable:{type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","enable"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelMemberMutePayload",type:"object",properties:{channel_id:{type:"string"},user_id:{type:"string"},duration:{type:"number"}},defaultProperties:[],additionalProperties:!1,required:["channel_id","duration","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberMutePayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"},duration:{title:"\u7981\u8A00\u65F6\u957F",description:`\u7981\u8A00\u7684\u65F6\u957F\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u30020
\u8868\u793A\u89E3\u9664\u7981\u8A00\u3002\u5E94\u5F53\u5C0F\u4E8E 30 \u5929\uFF08259,200,000
\u6BEB\u79D2\uFF09\u3002\u76EE\u524D\u4F1A\u5BF9\u5411\u4E0B\u53D6\u6574\u5230\u79D2\u3002`,type:"number"},comment:{title:"\u8BF4\u660E\u4FE1\u606F",description:"\u7981\u8A00\u7FA4\u7EC4\u6210\u5458\u7684\u8BF4\u660E\u3002\u76EE\u524D\u4F1A\u5FFD\u7565\u6B64\u5B57\u6BB5\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["duration","guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelListPayload",type:"object",properties:{guild_id:{type:"string"},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelListResponse",type:"object",properties:{data:{type:"array",items:{$ref:"#/definitions/Channel"}},next:{title:"\u5206\u9875\u4EE4\u724C",description:"\u83B7\u53D6\u4E0B\u4E00\u9875\u65F6\u63D0\u4F9B\u7684\u5206\u9875\u4EE4\u724C\uFF0C\u83B7\u53D6\u7B2C\u4E00\u9875\u65F6\u4E3A\u7A7A\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["data"],definitions:{Channel:{type:"object",properties:{id:{description:"\u9891\u9053 ID",type:"string"},name:{description:"\u9891\u9053\u540D\u79F0",type:"string"},type:{$ref:"#/definitions/ChannelType",description:"\u9891\u9053\u7C7B\u578B"},parent_id:{description:"\u7236\u9891\u9053 ID",type:"string"},avatar:{description:"\u4E0D\u5B89\u5168\u7684\u9891\u9053\u5934\u50CF",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["avatar","id","type"]},ChannelType:{type:"number",enum:[0,1,2,3]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChannelGetPayload",type:"object",properties:{channel_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["channel_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildGetPayload",type:"object",properties:{guild_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"UserGetPayload",type:"object",properties:{user_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberGetPayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberKickPayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"},permanent:{type:"boolean"}},defaultProperties:[],additionalProperties:!1,required:["guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"GuildMemberTitleSetPayload",type:"object",properties:{guild_id:{type:"string"},user_id:{type:"string"},title:{title:"\u4E13\u5C5E\u5934\u8854",description:"\u8981\u8BBE\u7F6E\u7684\u4E13\u5C5E\u5934\u8854\u3002",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["guild_id","user_id"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"PuTongDeJieKou1Payload",type:"object",properties:{g:{type:"string"},a:{type:"string"},b:{type:"string"},d:{type:"string"}},defaultProperties:[],additionalProperties:!1,required:["a","b","d","g"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatBaseConfig",type:"object",properties:{log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1,definitions:{ChronocatLogConfig:{type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1},ChronocatSatoriServerConfig:{type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"]},ChronocatSatoriWebHookConfig:{type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatConfig",type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},overrides:{title:"\u8D26\u53F7\u914D\u7F6E",description:"\u8D26\u53F7\u4E13\u5C5E\u7684\u914D\u7F6E\u3002",default:{},type:"object",additionalProperties:{$ref:"#/definitions/ChronocatCurrentConfig"},defaultProperties:[]},log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1,definitions:{ChronocatCurrentConfig:{type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",type:"boolean"},log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1},ChronocatLogConfig:{type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1},ChronocatSatoriServerConfig:{type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"]},ChronocatSatoriWebHookConfig:{type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatCurrentConfig",type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",type:"boolean"},log:{$ref:"#/definitions/ChronocatLogConfig",title:"\u65E5\u5FD7",description:"Chronocat \u7684\u65E5\u5FD7\u914D\u7F6E\u3002",default:{self_url:"https://chronocat.vercel.app",debug:!1}},servers:{title:"\u670D\u52A1",description:"Chronocat \u9700\u8981\u542F\u52A8\u7684\u670D\u52A1\u3002",default:[],type:"array",items:{type:"object",discriminator:{propertyName:"type"},oneOf:[{$ref:"#/definitions/ChronocatSatoriServerConfig"},{$ref:"#/definitions/ChronocatSatoriWebHookConfig"}]}},receive_msgbox:{title:"\u63A5\u6536\u7FA4\u52A9\u624B\u6D88\u606F",description:`\u662F\u5426\u63A5\u6536\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u6D88\u606F\u3002\u542F\u7528\u65F6\uFF0CChronocat
\u4F1A\u5728\u5E94\u7528\u542F\u52A8\u540E\u4E3B\u52A8\u5411 QQ
\u7533\u8BF7\u63A8\u9001\u6240\u6709\u79C1\u804A\u6D88\u606F\u7FA4\u52A9\u624B\u5185\u6240\u6709\u7FA4\u7684\u6D88\u606F\u3002\u9ED8\u8BA4\u542F\u7528\uFF0C\u5173\u95ED\u5219\u9ED8\u8BA4\u4E0D\u63A8\u9001\u79C1\u804A\u6D88\u606F\u548C\u7FA4\u52A9\u624B\u5185\u7FA4\u7684\u65B0\u6D88\u606F\u3002`,default:!0,type:"boolean"}},defaultProperties:[],additionalProperties:!1,definitions:{ChronocatLogConfig:{type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1},ChronocatSatoriServerConfig:{type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"]},ChronocatSatoriWebHookConfig:{type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"]}},$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatServerConfig",type:"object",properties:{enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatHttpServerConfig",type:"object",properties:{listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSelfUrlConfig",type:"object",properties:{self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSatoriEventsConfig",type:"object",properties:{self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSatoriServerConfig",type:"object",properties:{type:{type:"string",const:"satori"},port:{title:"\u76D1\u542C\u7AEF\u53E3",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u7AEF\u53E3\u3002

\u9ED8\u8BA4\u4E3A 5500\u3002`,type:"integer",default:5500,minimum:1,maximum:65535},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"\u5BC6\u7801",description:"\u670D\u52A1\u7684\u5BC6\u7801\u3002\u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\uFF01",type:"string"},listen:{title:"\u76D1\u542C\u5730\u5740",description:`\u670D\u52A1\u5668\u76D1\u542C\u7684\u5730\u5740\u3002

\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8FD9\u662F\u4EC0\u4E48\uFF0C\u90A3\u4E48\u4E0D\u586B\u6B64\u9879\u5373\u53EF\uFF01`,default:"0.0.0.0",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["token","type"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatSatoriWebHookConfig",type:"object",properties:{type:{type:"string",const:"satori_webhook"},url:{title:"WebHook URL",description:"WebHook \u63A8\u9001\u4E8B\u4EF6\u7684\u76EE\u6807 URL\u3002",type:"string"},enable:{title:"\u542F\u7528",description:"\u662F\u5426\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002",default:!0,type:"boolean"},token:{title:"WebHook \u63A8\u9001\u9274\u6743\u5BC6\u7801",description:`WebHook \u63A8\u9001\u4E8B\u4EF6\u65F6\uFF0C\u4F1A\u8BBE\u7F6E Authorization \u5934\u4E3A
Bearer \u52A0\u4E0A\u6B64\u9274\u6743\u5BC6\u7801\u3002

\u5F3A\u70C8\u5EFA\u8BAE\u4E3A WebHook \u670D\u52A1\u8BBE\u7F6E\u5355\u72EC\u7684\u9274\u6743\u5BC6\u7801\u3002`,default:"",type:"string"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,required:["type","url"],$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatLogConfig",type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"},{$id:"ChronocatLogCurrentConfig",type:"object",properties:{debug:{title:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7",description:"\u8F93\u51FA\u8C03\u8BD5\u65E5\u5FD7\u3002",default:!1,type:"boolean"},self_url:{title:"\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u670D\u52A1\u65F6\u7684\u5730\u5740",description:`\u5BA2\u6237\u7AEF\u5C06\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u5730\u5740\u8BBF\u95EE Satori\u3002

\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u53EF\u4EE5\u4E0D\u586B\u5199\u6B64\u914D\u7F6E\uFF0C\u4F46\u5982\u679C\u4F60\u7684 Satori
\u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u6846\u67B6\u4F4D\u4E8E\u4E0D\u540C\u7684\u7F51\u7EDC\u4E3B\u673A\uFF08\u5982 Docker
\u73AF\u5883\uFF09\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u586B\u5199\u5BA2\u6237\u7AEF\u8BBF\u95EE Satori \u65F6\u7684\u5730\u5740\u3002

\u5730\u5740\u5E94\u5F53\u4EE5 \`http://\` \u6216 \`https://\` \u5F00\u5934\u3002\u4E0D\u8981\u4EE5\u659C\u6760\u7ED3\u5C3E\u3002

\u4E3E\u4E24\u4E2A\u4F8B\u5B50\uFF1A

- \u5F53 Satori \u670D\u52A1\u4E0E\u5BA2\u6237\u7AEF\u5206\u522B\u4F4D\u4E8E\u5C40\u57DF\u7F51\u4E0B\u7684\u4E24\u53F0\u4E3B\u673A\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://192.168.1.2:5500

- \u5F53\u7F51\u7EDC\u7531 Docker Compose \u6216 Kubernetes \u7BA1\u7406\u65F6\uFF0Cself_url
\u5E94\u5F53\u5F62\u5982\uFF1A

http://chronocat.local:5500

\u5224\u65AD\u5730\u5740\u662F\u5426\u6B63\u786E\u7684\u65B9\u6CD5\uFF1A

\u4ECE\u5BA2\u6237\u7AEF\u6240\u5728\u7684\u7F51\u7EDC\u73AF\u5883\u76F4\u63A5\u8BBF\u95EE\u6B64\u5730\u5740\uFF0C\u5E94\u5F53\u770B\u5230
Satori \u8FD4\u56DE\u7684\u300C\u606D\u559C\u300D\u7684 HTML \u9875\u9762\u3002`,pattern:"^https?:\\/\\/[A-Za-z0-9:.\\[\\]]+$",default:"https://chronocat.vercel.app",type:"string"}},defaultProperties:[],additionalProperties:!1,$schema:"http://json-schema.org/draft-07/schema#"}]}),Go={};ko(Go,{ChannelType:()=>Zo,LoginStatus:()=>Xo,Op:()=>Jo,chronocat:()=>K0});Ns.exports=lc(Go);var Et=ot(cc(),1),wd=Object.defineProperty,Cd=Object.getOwnPropertyNames,Ge=(e,t)=>wd(e,"name",{value:t,configurable:!0}),Ad=(e,t)=>function(){return t||(0,e[Cd(e)[0]])((t={exports:{}}).exports,t),t.exports},Sd=Ad({"satori/packages/element/src/index.ts"(e,t){var r=Symbol.for("satori.element"),a=class{static{Ge(this,"ElementConstructor")}get data(){return this.attrs}getTagName(){return this.type==="component"?this.attrs.is?.name??"component":this.type}toAttrString(){return Object.entries(this.attrs).map(([u,s])=>(0,Et.isNullable)(s)?"":(u=(0,Et.hyphenate)(u),s===!0?` ${u}`:s===!1?` no-${u}`:` ${u}="${n.escape(""+s,!0)}"`)).join("")}toString(u=!1){if(this.type==="text"&&"content"in this.attrs)return u?this.attrs.content:n.escape(this.attrs.content);let s=this.children.map(m=>m.toString(u)).join("");if(u)return s;let c=this.toAttrString(),d=this.getTagName();return this.children.length?`<${d}${c}>${s}</${d}>`:`<${d}${c}/>`}};(0,Et.defineProperty)(a,"name","Element"),(0,Et.defineProperty)(a.prototype,r,!0);function n(u,...s){let c=Object.create(a.prototype),d={},m=[];if(s[0]&&typeof s[0]=="object"&&!n.isElement(s[0])&&!Array.isArray(s[0])){let h=s.shift();for(let[g,y]of Object.entries(h))(0,Et.isNullable)(y)||(g==="children"?s.push(...(0,Et.makeArray)(y)):d[(0,Et.camelize)(g)]=y)}for(let h of s)m.push(...n.toElementArray(h));return typeof u=="function"&&(d.is=u,u="component"),Object.assign(c,{type:u,attrs:d,children:m})}Ge(n,"Element");var l=new Function("expr","context",`
  try {
    with (context) {
      return eval(expr)
    }
  } catch {}
`);(u=>{u.jsx=u,u.jsxs=u,u.jsxDEV=u,u.Fragment="template";function s(Q){return Q&&typeof Q=="object"&&Q[r]}u.isElement=s,Ge(s,"isElement");function c(Q){if(typeof Q=="string"||typeof Q=="number"||typeof Q=="boolean"){if(Q=""+Q,Q)return u("text",{content:Q})}else{if(s(Q))return Q;if(!(0,Et.isNullable)(Q))throw new TypeError(`Invalid content: ${Q}`)}}u.toElement=c,Ge(c,"toElement");function d(Q){return Array.isArray(Q)?Q.map(c).filter(Y=>Y):[c(Q)].filter(Y=>Y)}u.toElementArray=d,Ge(d,"toElementArray");function m(Q,Y){return typeof Q=="string"?S(Q,Y):d(Q)}u.normalize=m,Ge(m,"normalize");function h(Q,Y=!1){let se=Q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return Y?se.replace(/"/g,"&quot;"):se}u.escape=h,Ge(h,"escape");function g(Q){return Q.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#(\d+);/g,(Y,se)=>se==="38"?Y:String.fromCharCode(+se)).replace(/&#x([0-9a-f]+);/gi,(Y,se)=>se==="26"?Y:String.fromCharCode(parseInt(se,16))).replace(/&(amp|#38|#x26);/g,"&")}u.unescape=g,Ge(g,"unescape");function y(Q,Y={}){let se=S(Q);return Y.caret?Y.type&&se[0]?.type!==Y.type?void 0:se[0]:E(se,Y.type||"*")[0]}u.from=y,Ge(y,"from");let F=/ *([ >+~]) */g;function D(Q){return Q.split(",").map(Y=>{let se=[];Y=Y.trim();let ue,T=" ";for(;ue=F.exec(Y);)se.push({type:Y.slice(0,ue.index),combinator:T}),T=ue[1],Y=Y.slice(ue.index+ue[0].length);return se.push({type:Y,combinator:T}),se})}u.parseSelector=D,Ge(D,"parseSelector");function E(Q,Y){if(!Q||!Y)return[];if(typeof Q=="string"&&(Q=S(Q)),typeof Y=="string"&&(Y=D(Y)),!Y.length)return[];let se=[],ue=[];for(let[T,L]of Q.entries()){let V=[],C=[...Y,...se];se=[];let P=!1;for(let A of C){let{type:M,combinator:X}=A[0];(M===L.type||M==="*")&&(A.length===1?P=!0:[" ",">"].includes(A[1].combinator)?V.push(A.slice(1)):A[1].combinator==="+"?se.push(A.slice(1)):Y.push(A.slice(1))),X===" "&&V.push(A)}P&&ue.push(Q[T]),ue.push(...E(L.children,V))}return ue}u.select=E,Ge(E,"select");function f(Q,Y){if(Q=Q.trim(),!/^[\w.]+$/.test(Q))return l(Q,Y)??"";let se=Y;for(let ue of Q.split("."))if(se=se[ue],(0,Et.isNullable)(se))return"";return se??""}u.interpolate=f,Ge(f,"interpolate");let _=/(?<comment><!--[\s\S]*?-->)|(?<tag><(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>)/,b=/(?<comment><!--[\s\S]*?-->)|(?<tag><(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>)|(?<curly>\{(?<derivative>[@:/#][^\s}]*)?[\s\S]*?\})/,w=/([^\s=]+)(?:="(?<value1>[^"]*)"|='(?<value2>[^']*)')?/g,$=/([^\s=]+)(?:="(?<value1>[^"]*)"|='(?<value2>[^']*)'|=(?<curly>\{([^}]+)\}))?/g,v;(Q=>{Q[Q.OPEN=0]="OPEN",Q[Q.CLOSE=1]="CLOSE",Q[Q.EMPTY=2]="EMPTY",Q[Q.CONTINUE=3]="CONTINUE"})(v||(v={}));function S(Q,Y){let se=[];function ue(P){P&&se.push(P)}Ge(ue,"pushText");let T=Y?b:_,L,V=!0;for(;L=T.exec(Q);){let P=!L.groups.curly;C(Q.slice(0,L.index),V,P),V=P,Q=Q.slice(L.index+L[0].length);let[A,,,M,X,ce,de]=L;if(!L.groups.comment){if(L.groups.curly){let Fe="",Oe=2;L.groups.derivative&&(Fe=L.groups.derivative.slice(1),Oe={"@":2,"#":0,"/":1,":":3}[L.groups.derivative[0]]),se.push({type:"curly",name:Fe,position:Oe,source:L.groups.curly,extra:L.groups.curly.slice(1+(L.groups.derivative??"").length,-1)});continue}se.push({type:"angle",source:A,name:X||u.Fragment,position:M?1:de?2:0,extra:ce})}}C(Q,V,!0);function C(P,A,M){P=g(P),A&&(P=P.replace(/^\s*\n\s*/,"")),M&&(P=P.replace(/\s*\n\s*$/,"")),ue(P)}return Ge(C,"parseContent"),W(j(se),Y)}u.parse=S,Ge(S,"parse");function j(Q){let Y=[[{type:"angle",name:u.Fragment,position:0,source:"",extra:"",children:{default:[]}},"default"]];function se(...ue){let[T,L]=Y[0];T.children[L].push(...ue)}Ge(se,"pushToken");for(let ue of Q){if(typeof ue=="string"){se(ue);continue}let{name:T,position:L}=ue;L===1?Y[0][0].name===T&&Y.shift():L===3?(Y[0][0].children[T]=[],Y[0][1]=T):L===0?(se(ue),ue.children={default:[]},Y.unshift([ue,"default"])):se(ue)}return Y[Y.length-1][0].children.default}Ge(j,"foldTokens");function W(Q,Y){let se=[];for(let ue of Q)if(typeof ue=="string")se.push(u("text",{content:ue}));else if(ue.type==="angle"){let T={},L=Y?$:w,V;for(;V=L.exec(ue.extra);){let[,C,P,A=P,M]=V;M?T[C]=f(M,Y):(0,Et.isNullable)(A)?C.startsWith("no-")?T[C.slice(3)]=!1:T[C]=!0:T[C]=g(A)}se.push(u(ue.name,T,ue.children&&W(ue.children.default,Y)))}else if(!ue.name)se.push(...d(f(ue.extra,Y)));else if(ue.name==="if")l(ue.extra,Y)?se.push(...W(ue.children.default,Y)):se.push(...W(ue.children.else||[],Y));else if(ue.name==="each"){let[T,L]=ue.extra.split(/\s+as\s+/),V=f(T,Y);if(!V||!V[Symbol.iterator])continue;for(let C of V)se.push(...W(ue.children.default,{...Y,[L]:C}))}return se}Ge(W,"parseTokens");function Z(Q,Y,se){let{type:ue,attrs:T,children:L}=Q;if(typeof Y=="function")return Y(Q,se);{let V=Y[typeof ue=="string"?ue:""]??Y.default??!0;return typeof V=="function"&&(V=V(T,L,se)),V}}Ge(Z,"visit");function q(Q,Y,se){let ue=typeof Q=="string"?S(Q):Q,T=[];return ue.forEach(L=>{let{type:V,attrs:C,children:P}=L,A=Z(L,Y,se);A===!0?T.push(u(V,C,q(P,Y,se))):A!==!1&&T.push(...d(A))}),typeof Q=="string"?T.join(""):T}u.transform=q,Ge(q,"transform");async function K(Q,Y,se){let ue=typeof Q=="string"?S(Q):Q,T=(await Promise.all(ue.map(async L=>{let{type:V,attrs:C,children:P}=L,A=await Z(L,Y,se);return A===!0?[u(V,C,await K(P,Y,se))]:A!==!1?d(A):[]}))).flat(1);return typeof Q=="string"?T.join(""):T}u.transformAsync=K,Ge(K,"transformAsync");function ne(Q,...Y){return(...se)=>{let ue=u(Q);return Y.forEach((T,L)=>{(0,Et.isNullable)(se[L])||(ue.attrs[T]=se[L])}),se[Y.length]&&Object.assign(ue.attrs,se[Y.length]),ue}}Ge(ne,"createFactory"),u.warn=Ge(()=>{},"warn");function ee(Q){return(Y,...se)=>{let ue="base64://";return typeof se[0]=="string"&&(ue=`data:${se.shift()};base64,`),(0,Et.is)("Buffer",Y)?Y=ue+Y.toString("base64"):(0,Et.is)("ArrayBuffer",Y)&&(Y=ue+(0,Et.arrayBufferToBase64)(Y)),Y.startsWith("base64://")&&(0,u.warn)('protocol "base64:" is deprecated and will be removed in the future, please use "data:" instead'),u(Q,{...se[0],url:Y})}}Ge(ee,"createAssetFactory"),u.text=ne("text","content"),u.at=ne("at","id"),u.sharp=ne("sharp","id"),u.quote=ne("quote","id"),u.image=ee("image"),u.video=ee("video"),u.audio=ee("audio"),u.file=ee("file");function pe(Q,Y){return u("i18n",typeof Q=="string"?{path:Q}:Q,Y)}u.i18n=pe,Ge(pe,"i18n")})(n||(n={})),t.exports=n}}),Du=Sd(),Ko=require("node:buffer"),$d=require("node:http"),Q0=ot(dc(),1),J0=ot(To(),1),Z0=ot(jo(),1),X0=ot(Oo(),1),Dd=ot(mc(),1),Bd=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>\u606D\u559C - Chronocat</title>
    <style type="text/css">
      * {
        /* Font */
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
          'Microsoft YaHei UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
          'Noto Sans', 'Helvetica Neue', Helvetica, sans-serif;
        font-weight: 400;

        /* Font & text reset */
        font-style: normal;
        font-variant-ligatures: normal;
        font-variant-caps: normal;
        font-variant-numeric: normal;
        font-variant-east-asian: normal;
        font-stretch: normal;
        text-rendering: optimizeLegibility;
        text-indent: 0;
        text-shadow: none;
        text-decoration: none;
        writing-mode: horizontal-tb;
        letter-spacing: normal;
        word-spacing: normal;

        /* Layout */
        margin: 0;
        padding: 0;

        /* Box */
        box-sizing: border-box;
        border: none;

        /* Color */
        background-color: transparent;

        /* Transitions */
        transition: all 0.3s ease;
      }

      :root,
      body,
      #root {
        height: 100%;
        width: 100%;
      }

      :root {
        background-color: #1f1f1f;
        color: white;
      }

      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      #root {
        max-width: 60vw;
        padding: 24px;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        row-gap: 24px;
      }

      h1 {
        font-weight: bold;
      }

      a {
        border-radius: 36px;
        padding: 20px 36px;

        background: #0d3b5e;

        font-size: 18px;
        font-weight: bold;

        color: white;
      }

      a:hover {
        background: #104b79;
      }

      a:active {
        background: #0d3b5e;
      }
    </style>
  </head>
  <body>
    <div id="root">
      <h1>\u606D\u559C\uFF01</h1>
      <p>
        \u4F60\u5DF2\u7ECF\u6210\u529F\u8FD0\u884C\u4E86 Chronocat\u3002\u63A5\u4E0B\u6765\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003 Chronocat \u6587\u6863\uFF0C\u5C06
        Chronocat \u63A5\u5165\u4F60\u559C\u7231\u7684\u5E94\u7528\u6216\u6846\u67B6\u3002
      </p>
      <a href="https://chronocat.vercel.app/connect" rel="noopener noreferrer">
        \u524D\u5F80\u63A5\u5165
      </a>
    </div>
  </body>
</html>
`,Yo="chronocat",xd=e=>new Promise(t=>setTimeout(t,e)),kd=require("node:crypto"),Pd=()=>(0,kd.randomBytes)(32).toString("hex"),Qo=()=>{let e=0;return()=>++e},Td=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("ChannelGetPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["channel.get"](l)},jd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("ChannelListPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["channel.list"](l)},Rd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("ChannelMemberMutePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["unsafe.channel.member.mute"](l)},Od=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("ChannelMutePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["unsafe.channel.mute"](l)},Nd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("ApprovePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["friend.approve"](l)},Id=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("Next")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["friend.list"](l)},qd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("UserPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["unsafe.friend.remove"](l)},Ld=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("ApprovePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.approve"](l)},Md=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildGetPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.get"](l)},Ud=async({cctx:e})=>e.chronocat.api["guild.list"](),Wd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildMemberGetPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.get"](l)},zd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildMemberKickPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.kick"](l)},Hd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildMemberListPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.list"](l)},Vd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildMemberMutePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.member.mute"](l)},Gd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildMemberTitleSetPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["chronocat.guild.member.title.set"](l)},Kd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("GuildRemovePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["guild.remove"](l)},Yd=({cctx:e})=>e.chronocat.api["login.get"](),Qd=async e=>{let t=!1,r=e.req.headers["content-type"];return r&&(r.startsWith("application/x-www-form-urlencoded")&&(t=!0),r.startsWith("multipart/form-data")&&(t=!0)),t?Jd(e):Zd(e)};async function Jd({cctx:e,path:t,req:r,res:a}){e.chronocat.l.error(`${t} \u5931\u8D25\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002Form \u8BF7\u6C42\u5C1A\u672A\u5B9E\u73B0\u3002`,{code:501}),a.writeHead(501),a.end("501 not implemented")}async function Zd({cctx:e,config:t,path:r,req:a,res:n,json:l}){let u=await l(),s=await e.chronocat.validate("MessageCreatePayload")(u);if(s){let h=`\u89E3\u6790 ${r} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${a.socket.remoteAddress}\u3002${s}`;e.chronocat.l.error(h,{code:400}),n.writeHead(400),n.end(`400 bad request
${h}`);return}let c={channel_id:u.channel_id,content:e.chronocat.h.normalize(u.content)},d="chronocat.internal.message.create2.normal",m=e.chronocat.h.select(c.content,"message").filter(h=>h.attrs.forward);if(m.length){if(m.length>1){let g=`\u5C1A\u672A\u652F\u6301\u5355\u6B21\u8BF7\u6C42\u53D1\u9001\u591A\u6761\u300C\u9010\u6761\u8F6C\u53D1\u300D\u6D88\u606F\u3002\u6765\u81EA ${a.socket.remoteAddress}`;e.chronocat.l.error(g,{code:501}),n.writeHead(501),n.end(`501 not implemented
${g}`);return}let[h]=m;if(h.attrs.id){let g=`\u5C1A\u672A\u652F\u6301\u4F7F\u7528 ID \u53D1\u9001\u300C\u9010\u6761\u8F6C\u53D1\u300D\u6D88\u606F\u3002\u6765\u81EA ${a.socket.remoteAddress}`;e.chronocat.l.error(g,{code:501}),n.writeHead(501),n.end(`501 not implemented
${g}`);return}if(!h.children)return;h.children.every(g=>g.attrs.id)?d="chronocat.internal.message.create2.forward":d="chronocat.internal.message.create2.forward.fake"}return e.chronocat.h.select(c.content,`${e.chronocat.platform}:poke`).length&&(d="chronocat.internal.message.create2.poke"),e.chronocat.h.select(c.content,`${e.chronocat.platform}:markdown`).length&&(d="chronocat.internal.message.create2.markdown"),(await e.chronocat.api[d](c,t)).map(h=>h.message).filter(Boolean)}var Xd=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("MessageDeletePayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["message.delete"](l)},ep=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("MessageGetPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["message.get"](l)},tp=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("MessageListPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["message.list"](l)},mt=async({cctx:e,path:t,req:r,res:a})=>{e.chronocat.l.warn(`API ${t} \u5C1A\u4E0D\u53EF\u7528\uFF08QQ \u672A\u652F\u6301\u8BE5\u529F\u80FD\uFF09\uFF0C\u6765\u81EA ${r.socket.remoteAddress}`,{code:2148}),a.writeHead(501),a.end("501 not implemented")},rp=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("PuTongDeJieKou1Payload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["chronocat.putongdejiekou1"](l)},ip=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("UserPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["user.channel.create"](l)},np=async({cctx:e,path:t,req:r,res:a,json:n})=>{let l=await n(),u=await e.chronocat.validate("UserGetPayload")(l);if(u){let s=`\u89E3\u6790 ${t} \u8BF7\u6C42\u65F6\u51FA\u73B0\u95EE\u9898\uFF0C\u6765\u81EA ${r.socket.remoteAddress}\u3002${u}`;e.chronocat.l.error(s,{code:400}),a.writeHead(400),a.end(`400 bad request
${s}`);return}return await e.chronocat.api["user.get"](l)},up={"channel.get":Td,"channel.list":jd,"channel.create":mt,"channel.update":mt,"channel.delete":mt,"unsafe.channel.mute":Od,"unsafe.channel.member.mute":Rd,"user.channel.create":ip,"guild.get":Md,"guild.list":Ud,"guild.approve":Ld,"unsafe.guild.remove":Kd,"guild.member.get":Wd,"guild.member.list":Hd,"guild.member.kick":zd,"guild.member.approve":mt,"guild.member.mute":Vd,"guild.member.role.set":mt,"guild.member.role.unset":mt,"chronocat.guild.member.title.set":Gd,"guild.role.list":mt,"guild.role.create":mt,"guild.role.update":mt,"guild.role.delete":mt,"login.get":Yd,"message.create":Qd,"message.get":ep,"message.delete":Xd,"message.update":mt,"message.list":tp,"reaction.create":mt,"reaction.delete":mt,"reaction.clear":mt,"reaction.list":mt,"user.get":np,"friend.list":Id,"friend.approve":Nd,"unsafe.friend.remove":qd,"chronocat.putongdejiekou1":rp},ap=up,op=ot(bc()),sp=require("node:fs"),lp=async({cctx:e,raw:t,res:r})=>{let a;try{a=await e.chronocat.api["chronocat.internal.assets.get"](t)}catch(l){e.chronocat.l.error(new Error("\u83B7\u53D6\u8D44\u6E90\u5931\u8D25",{cause:l}),{code:2158}),r.writeHead(500),r.end(`500 internal server error
${l}`);return}r.statusCode=200,r.setHeader("Content-Type",(0,op.getType)(a));let n=(0,sp.createReadStream)(a);await new Promise((l,u)=>n.pipe(r).on("finish",l).on("error",u)),r.end()},Jo=(e=>(e[e.Event=0]="Event",e[e.Ping=1]="Ping",e[e.Pong=2]="Pong",e[e.Identify=3]="Identify",e[e.Ready=4]="Ready",e))(Jo||{}),Zo=(e=>(e[e.TEXT=0]="TEXT",e[e.DIRECT=1]="DIRECT",e[e.CATEGORY=2]="CATEGORY",e[e.VOICE=3]="VOICE",e))(Zo||{}),Xo=(e=>(e[e.OFFLINE=0]="OFFLINE",e[e.ONLINE=1]="ONLINE",e[e.CONNECT=2]="CONNECT",e[e.DISCONNECT=3]="DISCONNECT",e[e.RECONNECT=4]="RECONNECT",e))(Xo||{}),Eu="/v1/",eo="Chronocat/0.2.13",to=Ko.Buffer.from(Bd),cp=async(e,t)=>{let r=e.chronocat.l;(!t.self_url||t.self_url==="https://chronocat.vercel.app")&&(t.self_url=`http://127.0.0.1:${t.port}`),t.self_url.endsWith("/")&&(t.self_url=t.self_url.slice(0,t.self_url.length-1));let a=[],n=Qo(),l=(0,$d.createServer)(async(s,c)=>{if(!s.url){r.warn(`satori: server: \u975E\u6CD5\u8BF7\u6C42: URL \u975E\u6CD5\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:2135}),c.writeHead(400),c.end("400 bad request");return}let d=new URL(s.url,"http://dummy");if(c.setHeader("Server",eo),c.setHeader("X-Powered-By",eo),d.pathname==="/"&&(c.writeHead(200,{"Content-Type":"text/html; charset=UTF-8","Cache-Control":"no-cache","Content-Length":to.byteLength}),c.end(to)),!d.pathname.startsWith(Eu)){r.warn(`satori: server: 404\uFF0C\u8BF7\u6C42 ${d.pathname}\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:404}),c.writeHead(404),c.end("404 not found");return}let m=d.pathname.slice(Eu.length);if(m.startsWith("assets/")){if(s.method!=="GET"){r.warn(`satori: server: \u4E0D\u652F\u6301 ${s.method} \u8BF7\u6C42\u8D44\u6E90\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:405}),c.writeHead(405),c.end("405 method not allowed");return}try{if(await lp({raw:m.slice(7),...ro(e,t,s,c,m)}),!c.writableEnded)throw new Error;return}catch(g){r.warn(new Error(`${m} \u5931\u8D25\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{cause:g}),{code:500}),c.writeHead(500),c.end(`500 internal server error
${g}`);return}}if(t.token&&!(s.headers.authorization?.slice(0,7)==="Bearer "&&s.headers.authorization.slice(7)===t.token)){r.warn(`satori: server: 401\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:401}),c.writeHead(401),c.end("401 unauthorized");return}let h=ap[m];if(!h){r.warn(`satori: server: 404\uFF0C\u8BF7\u6C42 ${d.pathname}\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:404}),c.writeHead(404),c.end("404 not found");return}if(s.method!=="POST"){r.warn(`satori: server: \u4E0D\u652F\u6301 ${s.method} \u8BF7\u6C42 API\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{code:405}),c.writeHead(405),c.end("405 method not allowed");return}try{let g=await h(ro(e,t,s,c,m));c.writableEnded||(c.writeHead(200,{"Content-Type":"application/json"}),c.end(JSON.stringify(g)));return}catch(g){r.warn(new Error(`${m} \u5931\u8D25\uFF0C\u6765\u81EA ${s.socket.remoteAddress}`,{cause:g}),{code:500}),c.writeHead(500),c.end(`500 internal server error
${g}`);return}});new Dd.default({server:l,path:Eu+"events"}).on("connection",async(s,c)=>{let d=!t.token,m=()=>{a.push(s),s.on("close",()=>a.splice(a.indexOf(s),1))};s.on("message",async h=>{let g=JSON.parse(h.toString());switch(g.op){case 1:{s.send(JSON.stringify({op:2}));return}case 3:{if(d){r.warn(`satori: server: \u591A\u6B21\u53D1\u9001\u4E86 IDENTIFY \u4FE1\u4EE4\uFF0C\u6765\u81EA ${c.socket.remoteAddress}`,{code:2132});return}if(t.token&&g.body?.token!==t.token){s.close(3e3,"Unauthorized");return}d=!0,m();let y=(await e.chronocat.getAuthData()).uin,F={user:{id:y,name:e.chronocat.getSelfProfile().nick,is_bot:!1},self_id:y,platform:Yo,status:1};s.send(JSON.stringify({op:4,body:{logins:[F]}})),r.info(`satori: \u63A5\u53D7\u8FDE\u63A5\uFF0C\u6765\u81EA ${c.socket.remoteAddress}`);return}default:{r.warn(`satori: server: \u672A\u77E5\u7684 opCode\uFF1A${g.op}\uFF0C\u6765\u81EA ${c.socket.remoteAddress}`,{code:2133});return}}}),t.token?setTimeout(()=>{d||s.close(3e3,"Unauthorized")},1e4):m()});let u=async s=>{let c=(await e.chronocat.getAuthData()).uin;a.forEach(async d=>{await s.toSatori(e,t).then(m=>m.forEach(h=>d.send(JSON.stringify({op:0,body:{...h,id:n(),platform:e.chronocat.platform,self_id:c}}))))})};return l.listen(t.port,t.listen),{dispatcher:u}};function ro(e,t,r,a,n){let l=()=>{let s=[];return new Promise((c,d)=>{r.on("data",m=>{s.push(m)}),r.on("end",()=>{c(Ko.Buffer.concat(s))}),r.on("error",()=>{d()})})},u=()=>l().then(s=>s.toString("utf-8"));return{cctx:e,config:t,req:r,res:a,path:n,buffer:l,string:u,json:()=>u().then(s=>s?JSON.parse(s):{})}}var dp=ot(require("node:http"),1),pp=ot(require("node:https"),1),pi=ot(require("node:zlib"),1),Zt=ot(require("node:stream"),1),_n=require("node:buffer");function fp(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),a="",n=!1,l=r[0]||"text/plain",u=l;for(let m=1;m<r.length;m++)r[m]==="base64"?n=!0:r[m]&&(u+=`;${r[m]}`,r[m].indexOf("charset=")===0&&(a=r[m].substring(8)));!r[0]&&!a.length&&(u+=";charset=US-ASCII",a="US-ASCII");let s=n?"base64":"ascii",c=unescape(e.substring(t+1)),d=Buffer.from(c,s);return d.type=l,d.typeFull=u,d.charset=a,d}var hp=fp,tr=ot(require("node:stream"),1),Ei=require("node:util"),kt=require("node:buffer");Wn();Iu();var Gn=class extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},Xt=class extends Gn{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}},kn=Symbol.toStringTag,es=e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[kn]==="URLSearchParams",Pn=e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[kn]),mp=e=>typeof e=="object"&&(e[kn]==="AbortSignal"||e[kn]==="EventTarget"),yp=(e,t)=>{let r=new URL(t).hostname,a=new URL(e).hostname;return r===a||r.endsWith(`.${a}`)},gp=(e,t)=>{let r=new URL(t).protocol,a=new URL(e).protocol;return r===a},bp=(0,Ei.promisify)(tr.default.pipeline),vt=Symbol("Body internals"),Li=class{constructor(e,{size:t=0}={}){let r=null;e===null?e=null:es(e)?e=kt.Buffer.from(e.toString()):Pn(e)||kt.Buffer.isBuffer(e)||(Ei.types.isAnyArrayBuffer(e)?e=kt.Buffer.from(e):ArrayBuffer.isView(e)?e=kt.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof tr.default||(e instanceof qi?(e=_c(e),r=e.type.split("=")[1]):e=kt.Buffer.from(String(e))));let a=e;kt.Buffer.isBuffer(e)?a=tr.default.Readable.from(e):Pn(e)&&(a=tr.default.Readable.from(e.stream())),this[vt]={body:e,stream:a,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof tr.default&&e.on("error",n=>{let l=n instanceof Gn?n:new Xt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[vt].error=l})}get body(){return this[vt].stream}get bodyUsed(){return this[vt].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await vu(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let r=new qi,a=new URLSearchParams(await this.text());for(let[n,l]of a)r.append(n,l);return r}let{toFormData:t}=await Promise.resolve().then(()=>(Dc(),qo));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[vt].body&&this[vt].body.type||"",t=await this.arrayBuffer();return new Ii([t],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await vu(this);return new TextDecoder().decode(e)}buffer(){return vu(this)}};Li.prototype.buffer=(0,Ei.deprecate)(Li.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Li.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ei.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function vu(e){if(e[vt].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[vt].disturbed=!0,e[vt].error)throw e[vt].error;let{body:t}=e;if(t===null||!(t instanceof tr.default))return kt.Buffer.alloc(0);let r=[],a=0;try{for await(let n of t){if(e.size>0&&a+n.length>e.size){let l=new Xt(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(l),l}a+=n.length,r.push(n)}}catch(n){throw n instanceof Gn?n:new Xt(`Invalid response body while trying to fetch ${e.url}: ${n.message}`,"system",n)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return r.every(n=>typeof n=="string")?kt.Buffer.from(r.join("")):kt.Buffer.concat(r,a)}catch(n){throw new Xt(`Could not create Buffer from response body for ${e.url}: ${n.message}`,"system",n)}else throw new Xt(`Premature close of server response while trying to fetch ${e.url}`)}var Wu=(e,t)=>{let r,a,{body:n}=e[vt];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof tr.default&&typeof n.getBoundary!="function"&&(r=new tr.PassThrough({highWaterMark:t}),a=new tr.PassThrough({highWaterMark:t}),n.pipe(r),n.pipe(a),e[vt].stream=r,n=a),n},Ep=(0,Ei.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),ts=(e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":es(e)?"application/x-www-form-urlencoded;charset=UTF-8":Pn(e)?e.type||null:kt.Buffer.isBuffer(e)||Ei.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof qi?`multipart/form-data; boundary=${t[vt].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${Ep(e)}`:e instanceof tr.default?null:"text/plain;charset=UTF-8",vp=e=>{let{body:t}=e[vt];return t===null?0:Pn(t)?t.size:kt.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},Fp=async(e,{body:t})=>{t===null?e.end():await bp(t,e)},io=require("node:util"),Tn=ot(require("node:http"),1),Dn=typeof Tn.default.validateHeaderName=="function"?Tn.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},Bu=typeof Tn.default.validateHeaderValue=="function"?Tn.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let r=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},Hr=class rs extends URLSearchParams{constructor(t){let r=[];if(t instanceof rs){let a=t.raw();for(let[n,l]of Object.entries(a))r.push(...l.map(u=>[n,u]))}else if(t!=null)if(typeof t=="object"&&!io.types.isBoxedPrimitive(t)){let a=t[Symbol.iterator];if(a==null)r.push(...Object.entries(t));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");r=[...t].map(n=>{if(typeof n!="object"||io.types.isBoxedPrimitive(n))throw new TypeError("Each header pair must be an iterable object");return[...n]}).map(n=>{if(n.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...n]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([a,n])=>(Dn(a),Bu(a,String(n)),[String(a).toLowerCase(),String(n)])):void 0,super(r),new Proxy(this,{get(a,n,l){switch(n){case"append":case"set":return(u,s)=>(Dn(u),Bu(u,String(s)),URLSearchParams.prototype[n].call(a,String(u).toLowerCase(),String(s)));case"delete":case"has":case"getAll":return u=>(Dn(u),URLSearchParams.prototype[n].call(a,String(u).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,n,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let r=this.getAll(t);if(r.length===0)return null;let a=r.join(", ");return/^content-encoding$/i.test(t)&&(a=a.toLowerCase()),a}forEach(t,r=void 0){for(let a of this.keys())Reflect.apply(t,r,[this.get(a),a,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,r)=>(t[r]=this.getAll(r),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,r)=>{let a=this.getAll(r);return r==="host"?t[r]=a[0]:t[r]=a.length>1?a:a[0],t},{})}};Object.defineProperties(Hr.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function _p(e=[]){return new Hr(e.reduce((t,r,a,n)=>(a%2===0&&t.push(n.slice(a,a+2)),t),[]).filter(([t,r])=>{try{return Dn(t),Bu(t,String(r)),!0}catch{return!1}}))}var wp=new Set([301,302,303,307,308]),is=e=>wp.has(e),Lt=Symbol("Response internals"),Sr=class ji extends Li{constructor(t=null,r={}){super(t,r);let a=r.status!=null?r.status:200,n=new Hr(r.headers);if(t!==null&&!n.has("Content-Type")){let l=ts(t,this);l&&n.append("Content-Type",l)}this[Lt]={type:"default",url:r.url,status:a,statusText:r.statusText||"",headers:n,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Lt].type}get url(){return this[Lt].url||""}get status(){return this[Lt].status}get ok(){return this[Lt].status>=200&&this[Lt].status<300}get redirected(){return this[Lt].counter>0}get statusText(){return this[Lt].statusText}get headers(){return this[Lt].headers}get highWaterMark(){return this[Lt].highWaterMark}clone(){return new ji(Wu(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,r=302){if(!is(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ji(null,{headers:{location:new URL(t).toString()},status:r})}static error(){let t=new ji(null,{status:0,statusText:""});return t[Lt].type="error",t}static json(t=void 0,r={}){let a=JSON.stringify(t);if(a===void 0)throw new TypeError("data is not JSON serializable");let n=new Hr(r&&r.headers);return n.has("content-type")||n.set("content-type","application/json"),new ji(a,{...r,headers:n})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Sr.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Cp=require("node:url"),Ap=require("node:util"),Sp=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""},$p=require("node:net");function no(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}var ns=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Dp="strict-origin-when-cross-origin";function Bp(e){if(!ns.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}function xp(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,$p.isIP)(t);return r===4&&/^127\./.test(t)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:e.host==="localhost"||e.host.endsWith(".localhost")?!1:e.protocol==="file:"}function fi(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:xp(e)}function kp(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let a=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let n=e.referrer,l=no(n),u=no(n,!0);l.toString().length>4096&&(l=u),t&&(l=t(l)),r&&(u=r(u));let s=new URL(e.url);switch(a){case"no-referrer":return"no-referrer";case"origin":return u;case"unsafe-url":return l;case"strict-origin":return fi(l)&&!fi(s)?"no-referrer":u.toString();case"strict-origin-when-cross-origin":return l.origin===s.origin?l:fi(l)&&!fi(s)?"no-referrer":u;case"same-origin":return l.origin===s.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===s.origin?l:u;case"no-referrer-when-downgrade":return fi(l)&&!fi(s)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${a}`)}}function Pp(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let a of t)a&&ns.has(a)&&(r=a);return r}var nt=Symbol("Request internals"),ki=e=>typeof e=="object"&&typeof e[nt]=="object",Tp=(0,Ap.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),xu=class us extends Li{constructor(t,r={}){let a;if(ki(t)?a=new URL(t.url):(a=new URL(t),t={}),a.username!==""||a.password!=="")throw new TypeError(`${a} is an url with embedded credentials.`);let n=r.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!ki(r)&&"data"in r&&Tp(),(r.body!=null||ki(t)&&t.body!==null)&&(n==="GET"||n==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body?r.body:ki(t)&&t.body!==null?Wu(t):null;super(l,{size:r.size||t.size||0});let u=new Hr(r.headers||t.headers||{});if(l!==null&&!u.has("Content-Type")){let d=ts(l,this);d&&u.set("Content-Type",d)}let s=ki(t)?t.signal:null;if("signal"in r&&(s=r.signal),s!=null&&!mp(s))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=r.referrer==null?t.referrer:r.referrer;if(c==="")c="no-referrer";else if(c){let d=new URL(c);c=/^about:(\/\/)?client$/.test(d)?"client":d}else c=void 0;this[nt]={method:n,redirect:r.redirect||t.redirect||"follow",headers:u,parsedURL:a,signal:s,referrer:c},this.follow=r.follow===void 0?t.follow===void 0?20:t.follow:r.follow,this.compress=r.compress===void 0?t.compress===void 0?!0:t.compress:r.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent,this.highWaterMark=r.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||t.referrerPolicy||""}get method(){return this[nt].method}get url(){return(0,Cp.format)(this[nt].parsedURL)}get headers(){return this[nt].headers}get redirect(){return this[nt].redirect}get signal(){return this[nt].signal}get referrer(){if(this[nt].referrer==="no-referrer")return"";if(this[nt].referrer==="client")return"about:client";if(this[nt].referrer)return this[nt].referrer.toString()}get referrerPolicy(){return this[nt].referrerPolicy}set referrerPolicy(t){this[nt].referrerPolicy=Bp(t)}clone(){return new us(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(xu.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var jp=e=>{let{parsedURL:t}=e[nt],r=new Hr(e[nt].headers);r.has("Accept")||r.set("Accept","*/*");let a=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(a="0"),e.body!==null){let s=vp(e);typeof s=="number"&&!Number.isNaN(s)&&(a=String(s))}a&&r.set("Content-Length",a),e.referrerPolicy===""&&(e.referrerPolicy=Dp),e.referrer&&e.referrer!=="no-referrer"?e[nt].referrer=kp(e):e[nt].referrer="no-referrer",e[nt].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=e;typeof n=="function"&&(n=n(t));let l=Sp(t),u={path:t.pathname+l,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:n};return{parsedURL:t,options:u}},Rp=class extends Gn{constructor(e,t="aborted"){super(e,t)}};Iu();Io();var Np=new Set(["data:","http:","https:"]);async function as(e,t){return new Promise((r,a)=>{let n=new xu(e,t),{parsedURL:l,options:u}=jp(n);if(!Np.has(l.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let F=hp(n.url),D=new Sr(F,{headers:{"Content-Type":F.typeFull}});r(D);return}let s=(l.protocol==="https:"?pp.default:dp.default).request,{signal:c}=n,d=null,m=()=>{let F=new Rp("The operation was aborted.");a(F),n.body&&n.body instanceof Zt.default.Readable&&n.body.destroy(F),!(!d||!d.body)&&d.body.emit("error",F)};if(c&&c.aborted){m();return}let h=()=>{m(),y()},g=s(l.toString(),u);c&&c.addEventListener("abort",h);let y=()=>{g.abort(),c&&c.removeEventListener("abort",h)};g.on("error",F=>{a(new Xt(`request to ${n.url} failed, reason: ${F.message}`,"system",F)),y()}),Ip(g,F=>{d&&d.body&&d.body.destroy(F)}),process.version<"v14"&&g.on("socket",F=>{let D;F.prependListener("end",()=>{D=F._eventsCount}),F.prependListener("close",E=>{if(d&&D<F._eventsCount&&!E){let f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",f)}})}),g.on("response",F=>{g.setTimeout(0);let D=_p(F.rawHeaders);if(is(F.statusCode)){let w=D.get("Location"),$=null;try{$=w===null?null:new URL(w,n.url)}catch{if(n.redirect!=="manual"){a(new Xt(`uri requested responds with an invalid redirect URL: ${w}`,"invalid-redirect")),y();return}}switch(n.redirect){case"error":a(new Xt(`uri requested responds with a redirect, redirect mode is set to error: ${n.url}`,"no-redirect")),y();return;case"manual":break;case"follow":{if($===null)break;if(n.counter>=n.follow){a(new Xt(`maximum redirect reached at: ${n.url}`,"max-redirect")),y();return}let v={headers:new Hr(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:Wu(n),signal:n.signal,size:n.size,referrer:n.referrer,referrerPolicy:n.referrerPolicy};if(!yp(n.url,$)||!gp(n.url,$))for(let j of["authorization","www-authenticate","cookie","cookie2"])v.headers.delete(j);if(F.statusCode!==303&&n.body&&t.body instanceof Zt.default.Readable){a(new Xt("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(F.statusCode===303||(F.statusCode===301||F.statusCode===302)&&n.method==="POST")&&(v.method="GET",v.body=void 0,v.headers.delete("content-length"));let S=Pp(D);S&&(v.referrerPolicy=S),r(as(new xu($,v))),y();return}default:return a(new TypeError(`Redirect option '${n.redirect}' is not a valid value of RequestRedirect`))}}c&&F.once("end",()=>{c.removeEventListener("abort",h)});let E=(0,Zt.pipeline)(F,new Zt.PassThrough,w=>{w&&a(w)});process.version<"v12.10"&&F.on("aborted",h);let f={url:n.url,status:F.statusCode,statusText:F.statusMessage,headers:D,size:n.size,counter:n.counter,highWaterMark:n.highWaterMark},_=D.get("Content-Encoding");if(!n.compress||n.method==="HEAD"||_===null||F.statusCode===204||F.statusCode===304){d=new Sr(E,f),r(d);return}let b={flush:pi.default.Z_SYNC_FLUSH,finishFlush:pi.default.Z_SYNC_FLUSH};if(_==="gzip"||_==="x-gzip"){E=(0,Zt.pipeline)(E,pi.default.createGunzip(b),w=>{w&&a(w)}),d=new Sr(E,f),r(d);return}if(_==="deflate"||_==="x-deflate"){let w=(0,Zt.pipeline)(F,new Zt.PassThrough,$=>{$&&a($)});w.once("data",$=>{($[0]&15)===8?E=(0,Zt.pipeline)(E,pi.default.createInflate(),v=>{v&&a(v)}):E=(0,Zt.pipeline)(E,pi.default.createInflateRaw(),v=>{v&&a(v)}),d=new Sr(E,f),r(d)}),w.once("end",()=>{d||(d=new Sr(E,f),r(d))});return}if(_==="br"){E=(0,Zt.pipeline)(E,pi.default.createBrotliDecompress(),w=>{w&&a(w)}),d=new Sr(E,f),r(d);return}d=new Sr(E,f),r(d)}),Fp(g,n).catch(a)})}function Ip(e,t){let r=_n.Buffer.from(`0\r
\r
`),a=!1,n=!1,l;e.on("response",u=>{let{headers:s}=u;a=s["transfer-encoding"]==="chunked"&&!s["content-length"]}),e.on("socket",u=>{let s=()=>{if(a&&!n){let d=new Error("Premature close");d.code="ERR_STREAM_PREMATURE_CLOSE",t(d)}},c=d=>{n=_n.Buffer.compare(d.slice(-5),r)===0,!n&&l&&(n=_n.Buffer.compare(l.slice(-3),r.slice(0,3))===0&&_n.Buffer.compare(d.slice(-2),r.slice(3))===0),l=d};u.prependListener("close",s),u.on("data",c),e.on("close",()=>{u.removeListener("close",s),u.removeListener("data",c)})})}var qp=async(e,t)=>{(!t.self_url||t.self_url==="https://chronocat.vercel.app")&&(t.self_url="http://127.0.0.1:5500"),t.self_url.endsWith("/")&&(t.self_url=t.self_url.slice(0,t.self_url.length-1));let r=Qo();return{dispatcher:a=>{(async()=>{let n=(await e.chronocat.getAuthData()).uin;await a.toSatori(e,t).then(l=>l.forEach(u=>{let s={...u,id:r(),platform:e.chronocat.platform,self_id:n},c={};t.token&&(c.Authorization=`Bearer ${t.token}`),as(t.url,{method:"POST",headers:c,body:JSON.stringify(s)})}))})()}}},Lp=async e=>{let t=e.chronocat.l;t.debug("\u521D\u59CB\u5316\u670D\u52A1");let r=await e.chronocat.getConfig(),a=[];for(let n of r.servers)n.token==="DEFINE_CHRONO_TOKEN"&&t.error("\u8BF7\u5148\u4FEE\u6539\u670D\u52A1\u5BC6\u7801\uFF08token\uFF09",{code:2135,throw:!0});for(let n of r.servers){if(!n.enable){t.debug("\u8DF3\u8FC7\u4E0D\u542F\u7528\u7684\u670D\u52A1");continue}switch(n.type){case"satori":{let{dispatcher:l}=await cp(e,n);a.push(l),t.info(`satori: \u542F\u52A8 Satori \u670D\u52A1\u4E8E http://${n.listen}:${n.port}`);break}case"satori_webhook":{let{dispatcher:l}=await qp(e,n);a.push(l),t.info(`satori: \u542F\u52A8 Satori WebHook \u670D\u52A1\uFF0C\u76EE\u6807 ${n.self_url}`);break}}}return{emit:n=>{n.type==="satori"&&a.forEach(l=>l(n))}}},uo=(e=0)=>t=>`\x1B[${t+e}m`,ao=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,oo=(e=0)=>(t,r,a)=>`\x1B[${38+e};2;${t};${r};${a}m`,Ke={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},em=Object.keys(Ke.modifier),Mp=Object.keys(Ke.color),Up=Object.keys(Ke.bgColor),tm=[...Mp,...Up];function Wp(){let e=new Map;for(let[t,r]of Object.entries(Ke)){for(let[a,n]of Object.entries(r))Ke[a]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},r[a]=Ke[a],e.set(n[0],n[1]);Object.defineProperty(Ke,t,{value:r,enumerable:!1})}return Object.defineProperty(Ke,"codes",{value:e,enumerable:!1}),Ke.color.close="\x1B[39m",Ke.bgColor.close="\x1B[49m",Ke.color.ansi=uo(),Ke.color.ansi256=ao(),Ke.color.ansi16m=oo(),Ke.bgColor.ansi=uo(10),Ke.bgColor.ansi256=ao(10),Ke.bgColor.ansi16m=oo(10),Object.defineProperties(Ke,{rgbToAnsi256:{value:(t,r,a)=>t===r&&r===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(a/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[a]=r;a.length===3&&(a=[...a].map(l=>l+l).join(""));let n=Number.parseInt(a,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:t=>Ke.rgbToAnsi256(...Ke.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,a,n;if(t>=232)r=((t-232)*10+8)/255,a=r,n=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,a=Math.floor(s/6)/5,n=s%6/5}let l=Math.max(r,a,n)*2;if(l===0)return 30;let u=30+(Math.round(n)<<2|Math.round(a)<<1|Math.round(r));return l===2&&(u+=60),u},enumerable:!1},rgbToAnsi:{value:(t,r,a)=>Ke.ansi256ToAnsi(Ke.rgbToAnsi256(t,r,a)),enumerable:!1},hexToAnsi:{value:t=>Ke.ansi256ToAnsi(Ke.hexToAnsi256(t)),enumerable:!1}}),Ke}var zp=Wp(),os=zp,xr=e=>t=>{let r=os.color[e];return`${r.open}${t}${r.close}`},Gi=e=>t=>{let r=os.modifier[e];return`${r.open}${t}${r.close}`},Hp=Gi("bold"),rm=Gi("dim"),im=Gi("italic"),nm=Gi("underline"),um=Gi("overline"),Ut=xr("grey"),Vp=xr("red"),am=xr("green"),Gp=xr("yellow"),Kp=xr("blue"),ss=xr("magenta"),gi=xr("cyan"),om=xr("white"),so="\x1B]",lo="\x07",wn=";",Wr=(e,t)=>t?[so,"8",wn,wn,t,lo,e,so,"8",wn,wn,lo].join(""):e,Yp=class{parsers=[];register(e){this.parsers.unshift(e)}async parse(e){for(let t of this.parsers){let r=await t(e);if(r)return r}return[]}},Qp=require("node:child_process"),Oi=require("node:fs/promises"),Ni=require("node:path"),co=require("node:process"),Jp=require("node:fs/promises");async function zu(e){try{await(0,Jp.access)(e)}catch{return!1}return!0}var er=e=>`0${e}`.slice(-2),Zp=e=>`000${e}`.slice(-4),Xp=()=>{let e=new Date;return`${e.getFullYear()}-${er(e.getMonth()+1)}-${er(e.getDate())}-${er(e.getHours())}-${er(e.getMinutes())}-${er(e.getSeconds())}`},ef=new Promise(e=>{let t=setInterval(()=>{"authData"in globalThis&&authData?.uin&&(clearInterval(t),e(authData))},500)}),Hu=()=>ef,tf=require("node:os"),rf=require("node:path"),Kn=(0,rf.join)((0,tf.homedir)(),".chronocat"),nf=require("electron");function ls(e){return typeof e>"u"||e===null}function uf(e){return typeof e=="object"&&e!==null}function af(e){return Array.isArray(e)?e:ls(e)?[]:[e]}function of(e,t){var r,a,n,l;if(t)for(l=Object.keys(t),r=0,a=l.length;r<a;r+=1)n=l[r],e[n]=t[n];return e}function sf(e,t){var r="",a;for(a=0;a<t;a+=1)r+=e;return r}function lf(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var cf=ls,df=uf,pf=af,ff=sf,hf=lf,mf=of,rt={isNothing:cf,isObject:df,toArray:pf,repeat:ff,isNegativeZero:hf,extend:mf};function cs(e,t){var r="",a=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),a+" "+r):a}function Mi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=cs(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Mi.prototype=Object.create(Error.prototype);Mi.prototype.constructor=Mi;Mi.prototype.toString=function(e){return this.name+": "+cs(this,e)};var Ft=Mi;function Fu(e,t,r,a,n){var l="",u="",s=Math.floor(n/2)-1;return a-t>s&&(l=" ... ",t=a-s+l.length),r-a>s&&(u=" ...",r=a+s-u.length),{str:l+e.slice(t,r).replace(/\t/g,"\u2192")+u,pos:a-t+l.length}}function _u(e,t){return rt.repeat(" ",t-e.length)+e}function yf(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,a=[0],n=[],l,u=-1;l=r.exec(e.buffer);)n.push(l.index),a.push(l.index+l[0].length),e.position<=l.index&&u<0&&(u=a.length-2);u<0&&(u=a.length-1);var s="",c,d,m=Math.min(e.line+t.linesAfter,n.length).toString().length,h=t.maxLength-(t.indent+m+3);for(c=1;c<=t.linesBefore&&!(u-c<0);c++)d=Fu(e.buffer,a[u-c],n[u-c],e.position-(a[u]-a[u-c]),h),s=rt.repeat(" ",t.indent)+_u((e.line-c+1).toString(),m)+" | "+d.str+`
`+s;for(d=Fu(e.buffer,a[u],n[u],e.position,h),s+=rt.repeat(" ",t.indent)+_u((e.line+1).toString(),m)+" | "+d.str+`
`,s+=rt.repeat("-",t.indent+m+3+d.pos)+`^
`,c=1;c<=t.linesAfter&&!(u+c>=n.length);c++)d=Fu(e.buffer,a[u+c],n[u+c],e.position-(a[u]-a[u+c]),h),s+=rt.repeat(" ",t.indent)+_u((e.line+c+1).toString(),m)+" | "+d.str+`
`;return s.replace(/\n$/,"")}var gf=yf,bf=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ef=["scalar","sequence","mapping"];function vf(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(a){t[String(a)]=r})}),t}function Ff(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(bf.indexOf(r)===-1)throw new Ft('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=vf(t.styleAliases||null),Ef.indexOf(this.kind)===-1)throw new Ft('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var lt=Ff;function po(e,t){var r=[];return e[t].forEach(function(a){var n=r.length;r.forEach(function(l,u){l.tag===a.tag&&l.kind===a.kind&&l.multi===a.multi&&(n=u)}),r[n]=a}),r}function _f(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function a(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(a);return e}function ku(e){return this.extend(e)}ku.prototype.extend=function(e){var t=[],r=[];if(e instanceof lt)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Ft("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(n){if(!(n instanceof lt))throw new Ft("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&n.loadKind!=="scalar")throw new Ft("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new Ft("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(n){if(!(n instanceof lt))throw new Ft("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(ku.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=po(a,"implicit"),a.compiledExplicit=po(a,"explicit"),a.compiledTypeMap=_f(a.compiledImplicit,a.compiledExplicit),a};var wf=ku,Cf=new lt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Af=new lt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Sf=new lt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),$f=new wf({explicit:[Cf,Af,Sf]});function Df(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Bf(){return null}function xf(e){return e===null}var kf=new lt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Df,construct:Bf,predicate:xf,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Pf(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Tf(e){return e==="true"||e==="True"||e==="TRUE"}function jf(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Rf=new lt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Pf,construct:Tf,predicate:jf,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Of(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Nf(e){return 48<=e&&e<=55}function If(e){return 48<=e&&e<=57}function qf(e){if(e===null)return!1;var t=e.length,r=0,a=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;a=!0}return a&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Of(e.charCodeAt(r)))return!1;a=!0}return a&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Nf(e.charCodeAt(r)))return!1;a=!0}return a&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!If(e.charCodeAt(r)))return!1;a=!0}return!(!a||n==="_")}function Lf(e){var t=e,r=1,a;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),a=t[0],(a==="-"||a==="+")&&(a==="-"&&(r=-1),t=t.slice(1),a=t[0]),t==="0")return 0;if(a==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Mf(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!rt.isNegativeZero(e)}var Uf=new lt("tag:yaml.org,2002:int",{kind:"scalar",resolve:qf,construct:Lf,predicate:Mf,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Wf=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function zf(e){return!(e===null||!Wf.test(e)||e[e.length-1]==="_")}function Hf(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Vf=/^[-+]?[0-9]+e/;function Gf(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(rt.isNegativeZero(e))return"-0.0";return r=e.toString(10),Vf.test(r)?r.replace("e",".e"):r}function Kf(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||rt.isNegativeZero(e))}var Yf=new lt("tag:yaml.org,2002:float",{kind:"scalar",resolve:zf,construct:Hf,predicate:Kf,represent:Gf,defaultStyle:"lowercase"}),Qf=$f.extend({implicit:[kf,Rf,Uf,Yf]}),Jf=Qf,ds=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ps=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Zf(e){return e===null?!1:ds.exec(e)!==null||ps.exec(e)!==null}function Xf(e){var t,r,a,n,l,u,s,c=0,d=null,m,h,g;if(t=ds.exec(e),t===null&&(t=ps.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],a=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,a,n));if(l=+t[4],u=+t[5],s=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(m=+t[10],h=+(t[11]||0),d=(m*60+h)*6e4,t[9]==="-"&&(d=-d)),g=new Date(Date.UTC(r,a,n,l,u,s,c)),d&&g.setTime(g.getTime()-d),g}function eh(e){return e.toISOString()}var th=new lt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Zf,construct:Xf,instanceOf:Date,represent:eh});function rh(e){return e==="<<"||e===null}var ih=new lt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:rh}),Vu=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function nh(e){if(e===null)return!1;var t,r,a=0,n=e.length,l=Vu;for(r=0;r<n;r++)if(t=l.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;a+=6}return a%8===0}function uh(e){var t,r,a=e.replace(/[\r\n=]/g,""),n=a.length,l=Vu,u=0,s=[];for(t=0;t<n;t++)t%4===0&&t&&(s.push(u>>16&255),s.push(u>>8&255),s.push(u&255)),u=u<<6|l.indexOf(a.charAt(t));return r=n%4*6,r===0?(s.push(u>>16&255),s.push(u>>8&255),s.push(u&255)):r===18?(s.push(u>>10&255),s.push(u>>2&255)):r===12&&s.push(u>>4&255),new Uint8Array(s)}function ah(e){var t="",r=0,a,n,l=e.length,u=Vu;for(a=0;a<l;a++)a%3===0&&a&&(t+=u[r>>18&63],t+=u[r>>12&63],t+=u[r>>6&63],t+=u[r&63]),r=(r<<8)+e[a];return n=l%3,n===0?(t+=u[r>>18&63],t+=u[r>>12&63],t+=u[r>>6&63],t+=u[r&63]):n===2?(t+=u[r>>10&63],t+=u[r>>4&63],t+=u[r<<2&63],t+=u[64]):n===1&&(t+=u[r>>2&63],t+=u[r<<4&63],t+=u[64],t+=u[64]),t}function oh(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var sh=new lt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:nh,construct:uh,predicate:oh,represent:ah}),lh=Object.prototype.hasOwnProperty,ch=Object.prototype.toString;function dh(e){if(e===null)return!0;var t=[],r,a,n,l,u,s=e;for(r=0,a=s.length;r<a;r+=1){if(n=s[r],u=!1,ch.call(n)!=="[object Object]")return!1;for(l in n)if(lh.call(n,l))if(!u)u=!0;else return!1;if(!u)return!1;if(t.indexOf(l)===-1)t.push(l);else return!1}return!0}function ph(e){return e!==null?e:[]}var fh=new lt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:dh,construct:ph}),hh=Object.prototype.toString;function mh(e){if(e===null)return!0;var t,r,a,n,l,u=e;for(l=new Array(u.length),t=0,r=u.length;t<r;t+=1){if(a=u[t],hh.call(a)!=="[object Object]"||(n=Object.keys(a),n.length!==1))return!1;l[t]=[n[0],a[n[0]]]}return!0}function yh(e){if(e===null)return[];var t,r,a,n,l,u=e;for(l=new Array(u.length),t=0,r=u.length;t<r;t+=1)a=u[t],n=Object.keys(a),l[t]=[n[0],a[n[0]]];return l}var gh=new lt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:mh,construct:yh}),bh=Object.prototype.hasOwnProperty;function Eh(e){if(e===null)return!0;var t,r=e;for(t in r)if(bh.call(r,t)&&r[t]!==null)return!1;return!0}function vh(e){return e!==null?e:{}}var Fh=new lt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Eh,construct:vh}),fs=Jf.extend({implicit:[th,ih],explicit:[sh,fh,gh,Fh]}),Dr=Object.prototype.hasOwnProperty,jn=1,hs=2,ms=3,Rn=4,wu=1,_h=2,fo=3,wh=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ch=/[\x85\u2028\u2029]/,Ah=/[,\[\]\{\}]/,ys=/^(?:!|!!|![a-z\-]+!)$/i,gs=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ho(e){return Object.prototype.toString.call(e)}function rr(e){return e===10||e===13}function zr(e){return e===9||e===32}function _t(e){return e===9||e===32||e===10||e===13}function mi(e){return e===44||e===91||e===93||e===123||e===125}function Sh(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function $h(e){return e===120?2:e===117?4:e===85?8:0}function Dh(e){return 48<=e&&e<=57?e-48:-1}function mo(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Bh(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var bs=new Array(256),Es=new Array(256);for(Mr=0;Mr<256;Mr++)bs[Mr]=mo(Mr)?1:0,Es[Mr]=mo(Mr);var Mr;function xh(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||fs,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function vs(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=gf(r),new Ft(t,r)}function ge(e,t){throw vs(e,t)}function On(e,t){e.onWarning&&e.onWarning.call(null,vs(e,t))}var yo={YAML:function(e,t,r){var a,n,l;e.version!==null&&ge(e,"duplication of %YAML directive"),r.length!==1&&ge(e,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),a===null&&ge(e,"ill-formed argument of the YAML directive"),n=parseInt(a[1],10),l=parseInt(a[2],10),n!==1&&ge(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&On(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var a,n;r.length!==2&&ge(e,"TAG directive accepts exactly two arguments"),a=r[0],n=r[1],ys.test(a)||ge(e,"ill-formed tag handle (first argument) of the TAG directive"),Dr.call(e.tagMap,a)&&ge(e,'there is a previously declared suffix for "'+a+'" tag handle'),gs.test(n)||ge(e,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch{ge(e,"tag prefix is malformed: "+n)}e.tagMap[a]=n}};function $r(e,t,r,a){var n,l,u,s;if(t<r){if(s=e.input.slice(t,r),a)for(n=0,l=s.length;n<l;n+=1)u=s.charCodeAt(n),u===9||32<=u&&u<=1114111||ge(e,"expected valid JSON character");else wh.test(s)&&ge(e,"the stream contains non-printable characters");e.result+=s}}function go(e,t,r,a){var n,l,u,s;for(rt.isObject(r)||ge(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),u=0,s=n.length;u<s;u+=1)l=n[u],Dr.call(t,l)||(t[l]=r[l],a[l]=!0)}function yi(e,t,r,a,n,l,u,s,c){var d,m;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),d=0,m=n.length;d<m;d+=1)Array.isArray(n[d])&&ge(e,"nested arrays are not supported inside keys"),typeof n=="object"&&ho(n[d])==="[object Object]"&&(n[d]="[object Object]");if(typeof n=="object"&&ho(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),a==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(d=0,m=l.length;d<m;d+=1)go(e,t,l[d],r);else go(e,t,l,r);else!e.json&&!Dr.call(r,n)&&Dr.call(t,n)&&(e.line=u||e.line,e.lineStart=s||e.lineStart,e.position=c||e.position,ge(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:l}):t[n]=l,delete r[n];return t}function Gu(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ge(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Xe(e,t,r){for(var a=0,n=e.input.charCodeAt(e.position);n!==0;){for(;zr(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(rr(n))for(Gu(e),n=e.input.charCodeAt(e.position),a++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&a!==0&&e.lineIndent<r&&On(e,"deficient indentation"),a}function Yn(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||_t(r)))}function Ku(e,t){t===1?e.result+=" ":t>1&&(e.result+=rt.repeat(`
`,t-1))}function kh(e,t,r){var a,n,l,u,s,c,d,m,h=e.kind,g=e.result,y;if(y=e.input.charCodeAt(e.position),_t(y)||mi(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(n=e.input.charCodeAt(e.position+1),_t(n)||r&&mi(n)))return!1;for(e.kind="scalar",e.result="",l=u=e.position,s=!1;y!==0;){if(y===58){if(n=e.input.charCodeAt(e.position+1),_t(n)||r&&mi(n))break}else if(y===35){if(a=e.input.charCodeAt(e.position-1),_t(a))break}else{if(e.position===e.lineStart&&Yn(e)||r&&mi(y))break;if(rr(y))if(c=e.line,d=e.lineStart,m=e.lineIndent,Xe(e,!1,-1),e.lineIndent>=t){s=!0,y=e.input.charCodeAt(e.position);continue}else{e.position=u,e.line=c,e.lineStart=d,e.lineIndent=m;break}}s&&($r(e,l,u,!1),Ku(e,e.line-c),l=u=e.position,s=!1),zr(y)||(u=e.position+1),y=e.input.charCodeAt(++e.position)}return $r(e,l,u,!1),e.result?!0:(e.kind=h,e.result=g,!1)}function Ph(e,t){var r,a,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,a=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if($r(e,a,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)a=e.position,e.position++,n=e.position;else return!0;else rr(r)?($r(e,a,n,!0),Ku(e,Xe(e,!1,t)),a=n=e.position):e.position===e.lineStart&&Yn(e)?ge(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);ge(e,"unexpected end of the stream within a single quoted scalar")}function Th(e,t){var r,a,n,l,u,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return $r(e,r,e.position,!0),e.position++,!0;if(s===92){if($r(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),rr(s))Xe(e,!1,t);else if(s<256&&bs[s])e.result+=Es[s],e.position++;else if((u=$h(s))>0){for(n=u,l=0;n>0;n--)s=e.input.charCodeAt(++e.position),(u=Sh(s))>=0?l=(l<<4)+u:ge(e,"expected hexadecimal character");e.result+=Bh(l),e.position++}else ge(e,"unknown escape sequence");r=a=e.position}else rr(s)?($r(e,r,a,!0),Ku(e,Xe(e,!1,t)),r=a=e.position):e.position===e.lineStart&&Yn(e)?ge(e,"unexpected end of the document within a double quoted scalar"):(e.position++,a=e.position)}ge(e,"unexpected end of the stream within a double quoted scalar")}function jh(e,t){var r=!0,a,n,l,u=e.tag,s,c=e.anchor,d,m,h,g,y,F=Object.create(null),D,E,f,_;if(_=e.input.charCodeAt(e.position),_===91)m=93,y=!1,s=[];else if(_===123)m=125,y=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),_=e.input.charCodeAt(++e.position);_!==0;){if(Xe(e,!0,t),_=e.input.charCodeAt(e.position),_===m)return e.position++,e.tag=u,e.anchor=c,e.kind=y?"mapping":"sequence",e.result=s,!0;r?_===44&&ge(e,"expected the node content, but found ','"):ge(e,"missed comma between flow collection entries"),E=D=f=null,h=g=!1,_===63&&(d=e.input.charCodeAt(e.position+1),_t(d)&&(h=g=!0,e.position++,Xe(e,!0,t))),a=e.line,n=e.lineStart,l=e.position,bi(e,t,jn,!1,!0),E=e.tag,D=e.result,Xe(e,!0,t),_=e.input.charCodeAt(e.position),(g||e.line===a)&&_===58&&(h=!0,_=e.input.charCodeAt(++e.position),Xe(e,!0,t),bi(e,t,jn,!1,!0),f=e.result),y?yi(e,s,F,E,D,f,a,n,l):h?s.push(yi(e,null,F,E,D,f,a,n,l)):s.push(D),Xe(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(r=!0,_=e.input.charCodeAt(++e.position)):r=!1}ge(e,"unexpected end of the stream within a flow collection")}function Rh(e,t){var r,a,n=wu,l=!1,u=!1,s=t,c=0,d=!1,m,h;if(h=e.input.charCodeAt(e.position),h===124)a=!1;else if(h===62)a=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)wu===n?n=h===43?fo:_h:ge(e,"repeat of a chomping mode identifier");else if((m=Dh(h))>=0)m===0?ge(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?ge(e,"repeat of an indentation width identifier"):(s=t+m-1,u=!0);else break;if(zr(h)){do h=e.input.charCodeAt(++e.position);while(zr(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!rr(h)&&h!==0)}for(;h!==0;){for(Gu(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!u||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>s&&(s=e.lineIndent),rr(h)){c++;continue}if(e.lineIndent<s){n===fo?e.result+=rt.repeat(`
`,l?1+c:c):n===wu&&l&&(e.result+=`
`);break}for(a?zr(h)?(d=!0,e.result+=rt.repeat(`
`,l?1+c:c)):d?(d=!1,e.result+=rt.repeat(`
`,c+1)):c===0?l&&(e.result+=" "):e.result+=rt.repeat(`
`,c):e.result+=rt.repeat(`
`,l?1+c:c),l=!0,u=!0,c=0,r=e.position;!rr(h)&&h!==0;)h=e.input.charCodeAt(++e.position);$r(e,r,e.position,!1)}return!0}function bo(e,t){var r,a=e.tag,n=e.anchor,l=[],u,s=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ge(e,"tab characters must not be used in indentation")),!(c!==45||(u=e.input.charCodeAt(e.position+1),!_t(u))));){if(s=!0,e.position++,Xe(e,!0,-1)&&e.lineIndent<=t){l.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,bi(e,t,ms,!1,!0),l.push(e.result),Xe(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)ge(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=a,e.anchor=n,e.kind="sequence",e.result=l,!0):!1}function Oh(e,t,r){var a,n,l,u,s,c,d=e.tag,m=e.anchor,h={},g=Object.create(null),y=null,F=null,D=null,E=!1,f=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),_=e.input.charCodeAt(e.position);_!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ge(e,"tab characters must not be used in indentation")),a=e.input.charCodeAt(e.position+1),l=e.line,(_===63||_===58)&&_t(a))_===63?(E&&(yi(e,h,g,y,F,null,u,s,c),y=F=D=null),f=!0,E=!0,n=!0):E?(E=!1,n=!0):ge(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=a;else{if(u=e.line,s=e.lineStart,c=e.position,!bi(e,r,hs,!1,!0))break;if(e.line===l){for(_=e.input.charCodeAt(e.position);zr(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),_t(_)||ge(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(yi(e,h,g,y,F,null,u,s,c),y=F=D=null),f=!0,E=!1,n=!1,y=e.tag,F=e.result;else if(f)ge(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=m,!0}else if(f)ge(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=m,!0}if((e.line===l||e.lineIndent>t)&&(E&&(u=e.line,s=e.lineStart,c=e.position),bi(e,t,Rn,!0,n)&&(E?F=e.result:D=e.result),E||(yi(e,h,g,y,F,D,u,s,c),y=F=D=null),Xe(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>t)&&_!==0)ge(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&yi(e,h,g,y,F,null,u,s,c),f&&(e.tag=d,e.anchor=m,e.kind="mapping",e.result=h),f}function Nh(e){var t,r=!1,a=!1,n,l,u;if(u=e.input.charCodeAt(e.position),u!==33)return!1;if(e.tag!==null&&ge(e,"duplication of a tag property"),u=e.input.charCodeAt(++e.position),u===60?(r=!0,u=e.input.charCodeAt(++e.position)):u===33?(a=!0,n="!!",u=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do u=e.input.charCodeAt(++e.position);while(u!==0&&u!==62);e.position<e.length?(l=e.input.slice(t,e.position),u=e.input.charCodeAt(++e.position)):ge(e,"unexpected end of the stream within a verbatim tag")}else{for(;u!==0&&!_t(u);)u===33&&(a?ge(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),ys.test(n)||ge(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),u=e.input.charCodeAt(++e.position);l=e.input.slice(t,e.position),Ah.test(l)&&ge(e,"tag suffix cannot contain flow indicator characters")}l&&!gs.test(l)&&ge(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{ge(e,"tag name is malformed: "+l)}return r?e.tag=l:Dr.call(e.tagMap,n)?e.tag=e.tagMap[n]+l:n==="!"?e.tag="!"+l:n==="!!"?e.tag="tag:yaml.org,2002:"+l:ge(e,'undeclared tag handle "'+n+'"'),!0}function Ih(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ge(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!_t(r)&&!mi(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ge(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function qh(e){var t,r,a;if(a=e.input.charCodeAt(e.position),a!==42)return!1;for(a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!_t(a)&&!mi(a);)a=e.input.charCodeAt(++e.position);return e.position===t&&ge(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Dr.call(e.anchorMap,r)||ge(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Xe(e,!0,-1),!0}function bi(e,t,r,a,n){var l,u,s,c=1,d=!1,m=!1,h,g,y,F,D,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=u=s=Rn===r||ms===r,a&&Xe(e,!0,-1)&&(d=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Nh(e)||Ih(e);)Xe(e,!0,-1)?(d=!0,s=l,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):s=!1;if(s&&(s=d||n),(c===1||Rn===r)&&(jn===r||hs===r?D=t:D=t+1,E=e.position-e.lineStart,c===1?s&&(bo(e,E)||Oh(e,E,D))||jh(e,D)?m=!0:(u&&Rh(e,D)||Ph(e,D)||Th(e,D)?m=!0:qh(e)?(m=!0,(e.tag!==null||e.anchor!==null)&&ge(e,"alias node should not have any properties")):kh(e,D,jn===r)&&(m=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(m=s&&bo(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ge(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,g=e.implicitTypes.length;h<g;h+=1)if(F=e.implicitTypes[h],F.resolve(e.result)){e.result=F.construct(e.result),e.tag=F.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Dr.call(e.typeMap[e.kind||"fallback"],e.tag))F=e.typeMap[e.kind||"fallback"][e.tag];else for(F=null,y=e.typeMap.multi[e.kind||"fallback"],h=0,g=y.length;h<g;h+=1)if(e.tag.slice(0,y[h].tag.length)===y[h].tag){F=y[h];break}F||ge(e,"unknown tag !<"+e.tag+">"),e.result!==null&&F.kind!==e.kind&&ge(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+F.kind+'", not "'+e.kind+'"'),F.resolve(e.result,e.tag)?(e.result=F.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ge(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||m}function Lh(e){var t=e.position,r,a,n,l=!1,u;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(u=e.input.charCodeAt(e.position))!==0&&(Xe(e,!0,-1),u=e.input.charCodeAt(e.position),!(e.lineIndent>0||u!==37));){for(l=!0,u=e.input.charCodeAt(++e.position),r=e.position;u!==0&&!_t(u);)u=e.input.charCodeAt(++e.position);for(a=e.input.slice(r,e.position),n=[],a.length<1&&ge(e,"directive name must not be less than one character in length");u!==0;){for(;zr(u);)u=e.input.charCodeAt(++e.position);if(u===35){do u=e.input.charCodeAt(++e.position);while(u!==0&&!rr(u));break}if(rr(u))break;for(r=e.position;u!==0&&!_t(u);)u=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}u!==0&&Gu(e),Dr.call(yo,a)?yo[a](e,a,n):On(e,'unknown document directive "'+a+'"')}if(Xe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Xe(e,!0,-1)):l&&ge(e,"directives end mark is expected"),bi(e,e.lineIndent-1,Rn,!1,!0),Xe(e,!0,-1),e.checkLineBreaks&&Ch.test(e.input.slice(t,e.position))&&On(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Yn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Xe(e,!0,-1));return}if(e.position<e.length-1)ge(e,"end of the stream or a document separator is expected");else return}function Fs(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new xh(e,t),a=e.indexOf("\0");for(a!==-1&&(r.position=a,ge(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Lh(r);return r.documents}function Mh(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var a=Fs(e,r);if(typeof t!="function")return a;for(var n=0,l=a.length;n<l;n+=1)t(a[n])}function Uh(e,t){var r=Fs(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ft("expected a single document in the stream, but found more")}}var Wh=Mh,zh=Uh,_s={loadAll:Wh,load:zh},ws=Object.prototype.toString,Cs=Object.prototype.hasOwnProperty,Yu=65279,Hh=9,Ui=10,Vh=13,Gh=32,Kh=33,Yh=34,Pu=35,Qh=37,Jh=38,Zh=39,Xh=42,As=44,e0=45,Nn=58,t0=61,r0=62,i0=63,n0=64,Ss=91,$s=93,u0=96,Ds=123,a0=124,Bs=125,ct={};ct[0]="\\0";ct[7]="\\a";ct[8]="\\b";ct[9]="\\t";ct[10]="\\n";ct[11]="\\v";ct[12]="\\f";ct[13]="\\r";ct[27]="\\e";ct[34]='\\"';ct[92]="\\\\";ct[133]="\\N";ct[160]="\\_";ct[8232]="\\L";ct[8233]="\\P";var o0=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],s0=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function l0(e,t){var r,a,n,l,u,s,c;if(t===null)return{};for(r={},a=Object.keys(t),n=0,l=a.length;n<l;n+=1)u=a[n],s=String(t[u]),u.slice(0,2)==="!!"&&(u="tag:yaml.org,2002:"+u.slice(2)),c=e.compiledTypeMap.fallback[u],c&&Cs.call(c.styleAliases,s)&&(s=c.styleAliases[s]),r[u]=s;return r}function c0(e){var t,r,a;if(t=e.toString(16).toUpperCase(),e<=255)r="x",a=2;else if(e<=65535)r="u",a=4;else if(e<=4294967295)r="U",a=8;else throw new Ft("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+rt.repeat("0",a-t.length)+t}var d0=1,Wi=2;function p0(e){this.schema=e.schema||fs,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=rt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=l0(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Wi:d0,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Eo(e,t){for(var r=rt.repeat(" ",t),a=0,n=-1,l="",u,s=e.length;a<s;)n=e.indexOf(`
`,a),n===-1?(u=e.slice(a),a=s):(u=e.slice(a,n+1),a=n+1),u.length&&u!==`
`&&(l+=r),l+=u;return l}function Tu(e,t){return`
`+rt.repeat(" ",e.indent*t)}function f0(e,t){var r,a,n;for(r=0,a=e.implicitTypes.length;r<a;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function In(e){return e===Gh||e===Hh}function zi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Yu||65536<=e&&e<=1114111}function vo(e){return zi(e)&&e!==Yu&&e!==Vh&&e!==Ui}function Fo(e,t,r){var a=vo(e),n=a&&!In(e);return(r?a:a&&e!==As&&e!==Ss&&e!==$s&&e!==Ds&&e!==Bs)&&e!==Pu&&!(t===Nn&&!n)||vo(t)&&!In(t)&&e===Pu||t===Nn&&n}function h0(e){return zi(e)&&e!==Yu&&!In(e)&&e!==e0&&e!==i0&&e!==Nn&&e!==As&&e!==Ss&&e!==$s&&e!==Ds&&e!==Bs&&e!==Pu&&e!==Jh&&e!==Xh&&e!==Kh&&e!==a0&&e!==t0&&e!==r0&&e!==Zh&&e!==Yh&&e!==Qh&&e!==n0&&e!==u0}function m0(e){return!In(e)&&e!==Nn}function Ri(e,t){var r=e.charCodeAt(t),a;return r>=55296&&r<=56319&&t+1<e.length&&(a=e.charCodeAt(t+1),a>=56320&&a<=57343)?(r-55296)*1024+a-56320+65536:r}function xs(e){var t=/^\n* /;return t.test(e)}var ks=1,ju=2,Ps=3,Ts=4,hi=5;function y0(e,t,r,a,n,l,u,s){var c,d=0,m=null,h=!1,g=!1,y=a!==-1,F=-1,D=h0(Ri(e,0))&&m0(Ri(e,e.length-1));if(t||u)for(c=0;c<e.length;d>=65536?c+=2:c++){if(d=Ri(e,c),!zi(d))return hi;D=D&&Fo(d,m,s),m=d}else{for(c=0;c<e.length;d>=65536?c+=2:c++){if(d=Ri(e,c),d===Ui)h=!0,y&&(g=g||c-F-1>a&&e[F+1]!==" ",F=c);else if(!zi(d))return hi;D=D&&Fo(d,m,s),m=d}g=g||y&&c-F-1>a&&e[F+1]!==" "}return!h&&!g?D&&!u&&!n(e)?ks:l===Wi?hi:ju:r>9&&xs(e)?hi:u?l===Wi?hi:ju:g?Ts:Ps}function g0(e,t,r,a,n){e.dump=function(){if(t.length===0)return e.quotingType===Wi?'""':"''";if(!e.noCompatMode&&(o0.indexOf(t)!==-1||s0.test(t)))return e.quotingType===Wi?'"'+t+'"':"'"+t+"'";var l=e.indent*Math.max(1,r),u=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),s=a||e.flowLevel>-1&&r>=e.flowLevel;function c(d){return f0(e,d)}switch(y0(t,s,e.indent,u,c,e.quotingType,e.forceQuotes&&!a,n)){case ks:return t;case ju:return"'"+t.replace(/'/g,"''")+"'";case Ps:return"|"+_o(t,e.indent)+wo(Eo(t,l));case Ts:return">"+_o(t,e.indent)+wo(Eo(b0(t,u),l));case hi:return'"'+E0(t)+'"';default:throw new Ft("impossible error: invalid scalar style")}}()}function _o(e,t){var r=xs(e)?String(t):"",a=e[e.length-1]===`
`,n=a&&(e[e.length-2]===`
`||e===`
`),l=n?"+":a?"":"-";return r+l+`
`}function wo(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function b0(e,t){for(var r=/(\n+)([^\n]*)/g,a=function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,r.lastIndex=d,Co(e.slice(0,d),t)}(),n=e[0]===`
`||e[0]===" ",l,u;u=r.exec(e);){var s=u[1],c=u[2];l=c[0]===" ",a+=s+(!n&&!l&&c!==""?`
`:"")+Co(c,t),n=l}return a}function Co(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,a,n=0,l,u=0,s=0,c="";a=r.exec(e);)s=a.index,s-n>t&&(l=u>n?u:s,c+=`
`+e.slice(n,l),n=l+1),u=s;return c+=`
`,e.length-n>t&&u>n?c+=e.slice(n,u)+`
`+e.slice(u+1):c+=e.slice(n),c.slice(1)}function E0(e){for(var t="",r=0,a,n=0;n<e.length;r>=65536?n+=2:n++)r=Ri(e,n),a=ct[r],!a&&zi(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=a||c0(r);return t}function v0(e,t,r){var a="",n=e.tag,l,u,s;for(l=0,u=r.length;l<u;l+=1)s=r[l],e.replacer&&(s=e.replacer.call(r,String(l),s)),(pr(e,t,s,!1,!1)||typeof s>"u"&&pr(e,t,null,!1,!1))&&(a!==""&&(a+=","+(e.condenseFlow?"":" ")),a+=e.dump);e.tag=n,e.dump="["+a+"]"}function Ao(e,t,r,a){var n="",l=e.tag,u,s,c;for(u=0,s=r.length;u<s;u+=1)c=r[u],e.replacer&&(c=e.replacer.call(r,String(u),c)),(pr(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&pr(e,t+1,null,!0,!0,!1,!0))&&((!a||n!=="")&&(n+=Tu(e,t)),e.dump&&Ui===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=l,e.dump=n||"[]"}function F0(e,t,r){var a="",n=e.tag,l=Object.keys(r),u,s,c,d,m;for(u=0,s=l.length;u<s;u+=1)m="",a!==""&&(m+=", "),e.condenseFlow&&(m+='"'),c=l[u],d=r[c],e.replacer&&(d=e.replacer.call(r,c,d)),pr(e,t,c,!1,!1)&&(e.dump.length>1024&&(m+="? "),m+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),pr(e,t,d,!1,!1)&&(m+=e.dump,a+=m));e.tag=n,e.dump="{"+a+"}"}function _0(e,t,r,a){var n="",l=e.tag,u=Object.keys(r),s,c,d,m,h,g;if(e.sortKeys===!0)u.sort();else if(typeof e.sortKeys=="function")u.sort(e.sortKeys);else if(e.sortKeys)throw new Ft("sortKeys must be a boolean or a function");for(s=0,c=u.length;s<c;s+=1)g="",(!a||n!=="")&&(g+=Tu(e,t)),d=u[s],m=r[d],e.replacer&&(m=e.replacer.call(r,d,m)),pr(e,t+1,d,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&Ui===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,h&&(g+=Tu(e,t)),pr(e,t+1,m,!0,h)&&(e.dump&&Ui===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,n+=g));e.tag=l,e.dump=n||"{}"}function So(e,t,r){var a,n,l,u,s,c;for(n=r?e.explicitTypes:e.implicitTypes,l=0,u=n.length;l<u;l+=1)if(s=n[l],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(c=e.styleMap[s.tag]||s.defaultStyle,ws.call(s.represent)==="[object Function]")a=s.represent(t,c);else if(Cs.call(s.represent,c))a=s.represent[c](t,c);else throw new Ft("!<"+s.tag+'> tag resolver accepts not "'+c+'" style');e.dump=a}return!0}return!1}function pr(e,t,r,a,n,l,u){e.tag=null,e.dump=r,So(e,r,!1)||So(e,r,!0);var s=ws.call(e.dump),c=a,d;a&&(a=e.flowLevel<0||e.flowLevel>t);var m=s==="[object Object]"||s==="[object Array]",h,g;if(m&&(h=e.duplicates.indexOf(r),g=h!==-1),(e.tag!==null&&e.tag!=="?"||g||e.indent!==2&&t>0)&&(n=!1),g&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(m&&g&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),s==="[object Object]")a&&Object.keys(e.dump).length!==0?(_0(e,t,e.dump,n),g&&(e.dump="&ref_"+h+e.dump)):(F0(e,t,e.dump),g&&(e.dump="&ref_"+h+" "+e.dump));else if(s==="[object Array]")a&&e.dump.length!==0?(e.noArrayIndent&&!u&&t>0?Ao(e,t-1,e.dump,n):Ao(e,t,e.dump,n),g&&(e.dump="&ref_"+h+e.dump)):(v0(e,t,e.dump),g&&(e.dump="&ref_"+h+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&g0(e,e.dump,t,l,c);else{if(s==="[object Undefined]"||e.skipInvalid)return!1;throw new Ft("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}function w0(e,t){var r=[],a=[],n,l;for(Ru(e,r,a),n=0,l=a.length;n<l;n+=1)t.duplicates.push(r[a[n]]);t.usedDuplicates=new Array(l)}function Ru(e,t,r){var a,n,l;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,l=e.length;n<l;n+=1)Ru(e[n],t,r);else for(a=Object.keys(e),n=0,l=a.length;n<l;n+=1)Ru(e[a[n]],t,r)}function C0(e,t){t=t||{};var r=new p0(t);r.noRefs||w0(e,r);var a=e;return r.replacer&&(a=r.replacer.call({"":a},"",a)),pr(r,0,a,!0,!0)?r.dump+`
`:""}var A0=C0,S0={dump:A0};function Qu(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var $0=_s.load,sm=_s.loadAll,lm=S0.dump,cm=Qu("safeLoad","load"),dm=Qu("safeLoadAll","loadAll"),pm=Qu("safeDump","dump"),Cu=require("node:fs/promises"),$o=require("node:path"),D0=require("node:process"),B0=`# yaml-language-server: $schema=https://chronocat.vercel.app/config-v0.schema.json
#
################################################################
#                      Chronocat \u914D\u7F6E\u6587\u4EF6
################################################################
#
# \u4F60\u597D\uFF01
#
# \u8FD9\u662F Chronocat \u7684\u914D\u7F6E\u6587\u4EF6\u3002Chronocat \u7684\u6240\u6709\u914D\u7F6E\u4EE5\u53CA\u6BCF\u4E2A\u8D26\u53F7
# \u7684\u72EC\u7ACB\u914D\u7F6E\u90FD\u5B58\u653E\u5728\u8FD9\u4E2A\u6587\u4EF6\u91CC\u3002
#
# \u8FD9\u662F Chronocat \u914D\u7F6E\u7684\u6587\u6863\uFF1A
# https://chronocat.vercel.app/guide/config
# \u5982\u679C\u8FD8\u6CA1\u6709\u770B\u8FC7\u7684\u8BDD\uFF0C\u8BF7\u5148\u770B\u4E00\u4E0B\uFF01
#
# \u5982\u679C\u4F60\u73B0\u5728\u5E76\u4E0D\u662F\u4F7F\u7528\u5B8C\u6574\u529F\u80FD\u7684\u7F16\u8F91\u5668\u7F16\u8F91\u6B64\u6587\u4EF6\u7684\u8BDD\uFF0C
# \u6211\u4EEC\u63A8\u8350\u4F60\u4F7F\u7528\u4E00\u6B3E\u5B8C\u6574\u529F\u80FD\u7684\u7F16\u8F91\u5668\u6765\u7F16\u8F91\uFF01
# \u8FD9\u6837\u7684\u7F16\u8F91\u5668\u5728\u4F60\u4E0D\u5C0F\u5FC3\u6539\u9519\u914D\u7F6E\u7684\u65F6\u5019\u4F1A\u667A\u80FD\u5730\u7ED9\u51FA\u63D0\u793A\u3002
# \u60F3\u8981\u4E86\u89E3\u66F4\u591A\u8BF7\u67E5\u770B\u4E0A\u9762\u7684\u6587\u6863 \u2191
#
################################################################
#                           \u5168\u5C40\u914D\u7F6E
################################################################
#
# \u4E0B\u9762\u7684\u914D\u7F6E\u662F\u901A\u7528\u7684\uFF01\u5982\u679C\u4F60\u53EA\u767B\u5F55\u4E00\u4E2A\u8D26\u53F7\uFF0C
# \u90A3\u4E48\u53EA\u9700\u4FEE\u6539\u4E0B\u9762\u8FD9\u90E8\u5206\u914D\u7F6E\u5373\u53EF\uFF01
#
################################################################

# servers\uFF1A\u670D\u52A1\u914D\u7F6E
#
# \u914D\u7F6E Chronocat \u5F00\u542F\u7684\u670D\u52A1\u3002\u9700\u8981\u5C24\u5176\u6CE8\u610F\u670D\u52A1\u5217\u8868\u7684\u683C\u5F0F\u54E6~
servers:
  # type\uFF1A\u670D\u52A1\u7C7B\u578B
  #
  # \u5F00\u542F Satori \u670D\u52A1\u53EA\u9700\u8981\u6307\u5B9A type \u4E3A satori \u5373\u53EF\u3002
  - type: satori

    # token\uFF1A\u670D\u52A1\u5BC6\u7801
    #
    # Chronocat \u5DF2\u7ECF\u81EA\u52A8\u751F\u6210\u4E86\u968F\u673A\u5BC6\u7801\u3002\u8981\u59A5\u5584\u4FDD\u5B58\u54E6\uFF01
    # \u5BA2\u6237\u7AEF\u4F7F\u7528\u670D\u52A1\u65F6\u9700\u8981\u63D0\u4F9B\u8FD9\u4E2A\u5BC6\u7801\uFF01
    token: DEFINE_CHRONO_TOKEN

    # port\uFF1A\u670D\u52A1\u7AEF\u53E3
    #
    # Chronocat \u5F00\u542F satori \u670D\u52A1\u7684\u7AEF\u53E3\uFF0C\u9ED8\u8BA4\u4E3A 5500\u3002
    port: 5500

################################################################
#                           \u8D26\u53F7\u914D\u7F6E
################################################################
overrides:
  ##############################################################
  #
  # \u4E0B\u9762\u7684\u914D\u7F6E\u662F\u6BCF\u4E2A\u8D26\u53F7\u4E13\u5C5E\u7684\uFF01\u4FEE\u6539\u4E0B\u9762\u7684\u914D\u7F6E\u4F1A\u8986\u76D6\u4E0A\u9762\u7684\u914D\u7F6E\u54E6~
  # \u4FEE\u6539\u7684\u65F6\u5019\u8981\u7279\u522B\u6CE8\u610F\uFF1A\u8D26\u53F7\u524D\u7A7A\u4E24\u683C\uFF0C\u8D26\u53F7\u5185\u914D\u7F6E\u8981\u7A7A\u56DB\u683C\u54E6\uFF01
  #
  ##############################################################

  10000:
    servers:
      - type: satori
        token: DEFINE_CHRONO_TOKEN
        port: 5501
`,x0=ot(vd()),k0=ot(Fd()),Ju=new x0.default({discriminator:!0,useDefaults:!0});Ju.addKeyword({keyword:"defaultProperties",valid:!0});Ju.addSchema(_d());var js=e=>async t=>{let r=Ju.getSchema(e);if(await r(t))return;(0,k0.default)(r.errors);let a="",n=0;for(let l of r.errors)a+=`	\u95EE\u9898 ${++n}\uFF1A${l.schemaPath}\uFF1A${l.message}`;return a},Rs,P0=(async()=>{let e=(0,$o.join)(Kn,"config"),t=(0,$o.join)(e,"chronocat.yml");if(!await zu(t)){let u=B0.replaceAll("DEFINE_CHRONO_TOKEN",`'${nf.app.commandLine.getSwitchValue("chrono-default-token")||D0.env.CHRONO_DEFAULT_TOKEN||Pd()}'`);await(0,Cu.mkdir)(e,{recursive:!0}),await(0,Cu.writeFile)(t,u)}let r=$0(await(0,Cu.readFile)(t,"utf-8")),{uin:a}=await Hu(),n=await js("ChronocatConfig")(r);n&&(n.includes('#/properties/servers/items/discriminator\uFF1A\u6807\u7B7E "type"')&&yt.warn("\u53EF\u80FD\u5B58\u5728\u4E0D\u652F\u6301\u7684\u670D\u52A1\u5668\u7C7B\u578B\u3002\u662F\u5426\u672A\u8FDB\u884C\u4ECE Chronocat v0.1.x \u7684\u8FC1\u79FB\uFF1F",{code:2157}),yt.error(new Error(`\u89E3\u6790\u914D\u7F6E\u65F6\u51FA\u73B0\u95EE\u9898\u3002
${n}

	\u914D\u7F6E\u6587\u4EF6\u4F4D\u7F6E\uFF1A${t}
	
    \u8BF7\u81EA\u884C\u68C0\u67E5\u3002`),{code:2154,throw:!0}));let l=Object.assign({},r,r.overrides?.[a]);"overrides"in l&&delete l.overrides,Rs=l})(),Ou=async()=>(await P0,Rs),T0=class{prepare=async()=>{};render=async e=>{if(!e.length)return["\u7A7A\u6D88\u606F"];let t=await Promise.all(e.map(this.visit));return t.every(r=>r===!1)?!1:t.flatMap(r=>r===!1?["[\u4E0D\u652F\u6301\u7684\u6D88\u606F]"]:r)};send=async e=>{if(!e)return["\u7A7A\u6D88\u606F"];await this.prepare();let t=Du.normalize(e),r=await this.render(t);return r===!1&&(r=["[\u4E0D\u652F\u6301\u7684\u6D88\u606F]"]),r};visit=async e=>{let{type:t,attrs:r,children:a}=e;switch(t){case"text":return[r.content];case"img":return[Wr("[\u56FE\u7247]",r.src)];case"audio":return[Wr("[\u8BED\u97F3]",r.src)];case"file":return[Wr("[\u6587\u4EF6]",r.src)];case"at":return r.type==="all"?["@\u5168\u4F53\u6210\u5458 "]:[`@${r.name}(${r.id}) `];case"quote":{let[n]=Du.select(a,"author"),l=n?.attrs.id;return[Ut(l?`${Wr(`[\u56DE\u590D${l}]`,`http://thirdqq.qlogo.cn/headimg_dl?dst_uin=${l}&spec=640`)} `:"[\u56DE\u590D] ")]}case"chronocat:poke":return["[\u6233\u4E00\u6233]"];case"message":{if("forward"in r)return"id"in r?["[\u5355\u6761\u8F6C\u53D1\u6D88\u606F]"]:a.every(n=>"id"in n)?["[\u666E\u901A\u5408\u5E76\u8F6C\u53D1\u6D88\u606F]"]:["[\u4F2A\u9020\u5408\u5E76\u8F6C\u53D1\u6D88\u606F]"];{let n=await this.render(a);return n?["[\u5207\u5272\u6D88\u606F]",...n]:["[\u5207\u5272\u6D88\u606F]"]}}default:return await this.render(a)}}},j0=async e=>{let t=e;return t.type!=="message-created"?void 0:[(await new T0().send(t.message?.content)).join("").replace(/\r/g,"").replace(/\n/g," ")].map(r=>`${Kp(Wr(t.channel?.id===t.guild?.id?`${t.channel?.name}(${t.channel?.id})`:`${t.guild?.name}(${t.guild?.id})/${t.channel?.name}(${t.channel?.id})`,t.guild?.avatar))}${Ut("-")}${gi(Wr(`${t.user?.name||t.member?.nick}(${t.user?.id})`,t.user?.avatar))}${Ut(":")} ${r}`)},R0=class{file=null;online=!1;uin=null;isDebug=!1;logiri;task=Promise.resolve();init;constructor(){this.logiri=new Yp,this.logiri.register(j0),this.init=(async()=>{let e=(0,Ni.join)(Kn,"logs");await(0,Oi.mkdir)(e,{recursive:!0});let t=Xp(),r=(0,Ni.join)(e,`${t}.log`);this.file=await(0,Oi.open)(r,"a"),O0(t,r)})(),this.init.then(async()=>{let e=await Hu();this.uin=`[${e.uin.slice(-4)}]`,this.online=!0;let t=await Ou();this.isDebug=t.log?.debug||!1})}getPrefix=()=>`${this.online&&this.uin||Ut("[    ]")}`;writeConsole=e=>void console.log(e);writeFile=e=>void(this.task=this.task.then(async()=>{await this.init,await this.file.write(e+`
`)}));applyZeroWidthLogTag=e=>e.split(`
`).join(`
\u200B\u200C\u200B\u200B`);write=e=>{this.writeConsole(this.applyZeroWidthLogTag(e)),this.writeFile(e)};parse=e=>{(async()=>(await this.logiri.parse(e)).forEach(t=>this.message(t)))()};message=e=>{let t=`${this.getPrefix()}${Ti()}${Pi(0,"M")} ${e}`;this.write(t)};info=(e,t)=>{let r=`${this.getPrefix()}${Ti()}${Pi(t?.code||0,"I")} ${Cn(e)}`;if(this.write(r),t?.throw)throw e};warn=(e,t)=>{let r=`${this.getPrefix()}${Ti()}${Pi(t?.code||0,"W",Gp)} ${Cn(e)}`;if(this.write(r),t?.throw)throw e};error=(e,t)=>{let r=`${this.getPrefix()}${Ti()}${Pi(t?.code||0,"E",Vp)} ${Cn(e)}`;if(this.write(r),t?.throw)throw e};debug=(e,t)=>{if(!this.isDebug)return;let r=`${this.getPrefix()}${Ti()}${Pi(t?.code||0,"D")} ${Cn(e)}`;if(this.write(r),t?.throw)throw e}},yt=new R0;async function O0(e,t){switch(co.platform){case"win32":{let r=(0,Ni.join)(co.env.LOCALAPPDATA,"Microsoft\\WindowsApps\\wt.exe"),a=(0,Ni.join)(Kn,"tmp");await(0,Oi.mkdir)(a,{recursive:!0});let n=(0,Ni.join)(a,`lw-${e}.cmd`);await(0,Oi.writeFile)(n,`@chcp 65001\r
@title Chronocat \u65E5\u5FD7 - \u7A97\u53E3\u53EF\u4EE5\u5B89\u5168\u5173\u95ED\u3002\r
@cls\r
@powershell Get-Content -Encoding UTF8 -Wait -Path "${t}"`),(0,Qp.spawn)(await zu(r)?r:"conhost",[n],{shell:!1,stdio:"ignore"}),setTimeout(()=>void(0,Oi.rm)(n),1e4);return}default:return}}function Pi(e,t,r){let a=Zp(e),n=`${Wr(`[${t}][CH${a}]`,`https://chronocat.vercel.app/code/${a}`)}`;return r?n=`${r(n)}`:e||(n=`${Ut(n)}`),n}function Cn(e){if(typeof e=="string")return e;let t=e,r=t.message;for(;;)if(t.cause&&t.cause instanceof Error)t=t.cause,r+=` ${Ut("\u539F\u56E0\uFF1A")} ${t.message}`;else if(t.cause){r+=` ${Ut("\u539F\u56E0\uFF1A")} ${String(t)}`;break}else break;return r}function Ti(){let e=new Date;return Ut(`[${er(e.getMonth()+1)}-${er(e.getDate())} ${er(e.getHours())}:${er(e.getMinutes())}:${er(e.getSeconds())}]`)}var N0=e=>{let t=()=>yt.error(new Error(`\u6CA1\u6709\u5F15\u64CE\u63D0\u4F9B ${ss(e)}\u3002\u53EF\u80FD\u6CA1\u6709\u52A0\u8F7D\u6240\u9700\u7684\u5F15\u64CE\uFF1F`),{code:2159,throw:!0});return t.notimpl=!0,t},I0={get:(e,t)=>typeof t=="symbol"||Object.prototype.hasOwnProperty.call(e,t)?e[t]:N0(t)},Mt=new Proxy({},I0);Mt.register=(e,t=0)=>(r,a,n=-1)=>{let l=n===-1?t:n;!Mt[r].notimpl&&(yt.warn(`${gi(e)}(${l}) \u4E0E ${gi(Mt[r].engine)}(${Mt[r].priority}) \u91CD\u590D\u6CE8\u518C\u4E86\u65B9\u6CD5 ${ss(r)}\uFF0C\u5C06\u91C7\u7528 ${l>Mt[r].priority?e:Mt[r].engine} \u7684\u7248\u672C\u3002`),l<Mt[r].priority)||(Mt[r]=a,Mt[r].engine=e,Mt[r].priority=l)};var Do=[],An={register:e=>Do.push(e),emit:e=>Do.forEach(t=>t(e))},Os={nick:""},q0=async e=>{e.type==="unsafe-selfprofile"&&(Os=await e.getSelfProfile())},L0=()=>Os,M0=/\d+/,Zu=e=>typeof e=="string"&&e!=="0"&&M0.test(e)||typeof e=="number"&&e>9999,Xu=e=>typeof e=="string"&&e.length===24&&e.startsWith("u_"),Hi={},U0=(e,t)=>{!e||!t||(Hi[e]=t,Hi[t]=e)},W0=e=>{if(!Xu(e))return;let t=Hi[e];if(Zu(t))return t},z0=e=>{if(!Zu(e))return;let t=Hi[e];if(Xu(t))return t},H0={map:Hi,add:U0,isUin:Zu,isUid:Xu,getUin:W0,getUid:z0},Bo=["chronocat","evolutionary","bot","satori","engine","safe","lowcost","consistency","reliable","convenient","strong","koishi","ilharp"],xo=new Array(200).fill(0).map((e,t)=>Bo[Math.floor(Math.random()*Bo.length)]).join("."),V0=0,G0=`
${`
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbb______bbbb__bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb______bbbbbbbbbbb__bbbbbb
bbbbbbb/ ____/bbb/ /_bbbb_____bb____bbbb____bbb____bbb/ ____/bb____b_bb/ /_bbbbb
bbbbbb/ /bbbbbbb/ __ \\bb/ ___/b/ __ \\bb/ __ \\b/ __ \\b/ /bbbbbb/ __ \`/b/ __/bbbbb
bbbbb/ /___bbbb/ /b/ /b/ /bbbb/ /_/ /b/ /b/ // /_/ // /___bbb/ /_/ /b/ /_bbbbbbb
bbbbb\\____/bbb/_/b/_/b/_/bbbbb\\____/b/_/b/_/b\\____/b\\____/bbb\\__,_/bb\\__/bbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
`.replace(/([^b])/g,gi("$1")).replace(/b/g,()=>Ut(xo[V0++%xo.length]))}

`,K0=()=>{yt.write(G0),yt.info(`${gi("Chronocat")} ${Hp("0.2.13")}`),yt.info(Ut("\u5F53\u5DE6\u4FA7\u9519\u8BEF\u6307\u793A\u706F\u4EAE\u8D77\u65F6\uFF0C\u70B9\u51FB\u9519\u8BEF\u7801\u4EE5\u68C0\u67E5\u8BF4\u660E\u3002"));let e,t=new Promise(n=>{e=n}),r={chronocat:{api:Mt,baseDir:Kn,emit:An.emit,exists:zu,getAuthData:Hu,getConfig:Ou,getSelfProfile:L0,h:Du,l:yt,platform:Yo,sleep:xd,timeout:1e4,uix:H0,validate:js,whenReady:()=>t}};An.register(q0),yt.debug("\u7B49\u5F85\u767B\u5F55"),Ou().then(async n=>{if(!n.enable){yt.info("\u6839\u636E\u914D\u7F6E\u6587\u4EF6\u8981\u6C42\uFF0CChronocat \u4E0D\u4F1A\u542F\u7528\u3002");return}let l=n.log;(!l.self_url||l.self_url==="https://chronocat.vercel.app")&&(l.self_url="http://127.0.0.1:5500"),l.self_url.endsWith("/")&&(l.self_url=l.self_url.slice(0,l.self_url.length-1)),An.register(async u=>{u.type==="satori"&&(await u.toSatori(r,l)).forEach(s=>yt.parse(s))}),An.register((await Lp(r)).emit),yt.info("\u4E2D\u8EAB\u306F\u3042\u3093\u307E\u308A\u306A\u3044\u3088\uFF5E (v0.x)",{code:560}),e()});let a={load:n=>{yt.info(`\u52A0\u8F7D\u5F15\u64CE ${gi(n.name)} ${Ut(`v${n.version}`)}`);try{n.apply(r)}catch{yt.error(`\u52A0\u8F7D\u5F15\u64CE ${n.name} \u65F6\u51FA\u73B0\u95EE\u9898\u3002`,{code:2155,throw:!0})}}};if(!process||!process.version)yt.warn("process.version \u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u6302\u8F7D outerContext\uFF0C\u4E00\u4E9B Engine \u53EF\u80FD\u52A0\u8F7D\u5931\u8D25\u3002");else{let n=process.version,l=!1;process.__defineSetter__("version",u=>{u==="__chronocat__"&&(l=!0)}),process.__defineGetter__("version",()=>l?(l=!1,a):n)}return a};});var qs=ic(Is());(0,qs.chronocat)();
/*! Bundled license information:

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
